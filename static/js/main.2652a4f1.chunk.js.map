{"version":3,"sources":["base/Cache.js","base/WWW.js","base/StringX.js","base/Ents.js","base/GeoData.js","base/TimeX.js","stateful/molecules/AbstractLayer.js","stateful/molecules/custom_layers/LKVaxCentersLayer.js","constants/GIG2Constants.js","constants/ColorConstants.js","base/Random.js","base/Color.js","base/MathX.js","base/GIG2.js","nonstate/atoms/SourceView.js","nonstate/molecules/TableView.js","nonstate/molecules/LegendView.js","stateful/atoms/EntView.js","stateful/molecules/RegionGeo.js","stateful/molecules/custom_layers/GIG2Layer.js","stateful/molecules/custom_layers/GIG2LayerFactory.js","stateful/molecules/custom_layers/CustomLayers.js","nonstate/atoms/RegionTypePicker.js","stateful/atoms/ShowHide.js","stateful/molecules/LayerSelector.js","stateful/molecules/LayerMenuView.js","assets/images/geolocate.png","stateful/molecules/GeoMap.js","stateful/pages/HomePage.js","App.js","reportWebVitals.js","index.js"],"names":["Cache","cacheKey","asyncFallback","hotItem","localStorage","getItem","JSON","parse","coldItem","setItem","stringify","QuotaExceededError","clear","JSON_HEADERS","headers","Accept","TSV_HEADERS","jsonNonCache","url","a","fetch","response","json","dataJson","WWW","pathFragmentList","join","get","text","content","lines","split","keys","map","key","replace","dataList","slice","line","values","reduce","data","i","filter","StringX","str","toUpperCase","replaceAll","txt","charAt","substr","toLowerCase","x","numPart","multPart","color","logBase1000","Math","log","Number","toLocaleString","undefined","maximumSignificantDigits","style","fontSize","parseInt","numerator","denominator","p","pFontSize","pow","ENT","COUNTRY","PROVINCE","DISTRICT","DSD","GND","PD","ED","MOH","LG","UNKNOWN","REGION_TYPES","Object","ENT_TYPE_TO_LONG_NAME","Country","PARENT_TO_CHILD","Ents","entID","substring","length","regionType","entType","tsv","getEntsByType","ents","entIndex","ent","id","entTypes","Promise","all","getEntIndexByType","entIndexList","allEntIndex","iEnt","getEntType","parentID","childRegionType","includes","toTitleCase","DEFAULT_LATLNG","getLatLngZoomStr","zoom","lat","lng","isPointInPolygon","point","polygon","y","nIntersects","j","xi","yi","xj","yj","isPointInMultiMultiPolygon","multiMultiPolygon","multiPolygon","GeoData","regionID","getGeoForRegion","getRegionTree","regionTree","regionMap","iRegionType","regionIDs","isFoundRegion","iRegion","isPointInRegion","roundLatLng","latLng","Q","round","parseFloat","TimeX","floor","Date","now","toISOString","getDate","AbstractLayer","props","state","this","isComponentMounted","getDataListAndUpdateState","getDataList","setState","renderDataList","renderLegend","getLabel","Component","LKVaxCentersLayer","dateID","getDateID","pathJoin","iData","position","tags","renderedDoseInfo","dose1","push","dose2","CircleMarker","center","radius","pathOptions","stroke","fillOpacity","eventHandlers","mouseover","e","target","openPopup","Popup","formatted_address","police","district","fuzzy_key","date","TABLE_NAMES","METADATA_MAP","file","table_name","space_id","time_id","attr_id","n_data_list","file_size","value_key_list_str","COLOR_SL_FLAG","FIELD_NAME_TO_COLOR","SLFP","PA","UPFA","SLPP","UNP","NDF","JVP","LSSP","ACTC","SLMP","other","others","bharatha","burgher","chetty","indian_tamil","malay","moor","sinhalese","sri_lankan_tamil","buddhist","islam","hindu","roman_catholic","other_christian","female","male","son_or_daughter","head","wife_or_husband","grandchild_or_great_grand_child","other_relative","non_relative","son_or_daughter_in_law","parent_of_head_or_spouse","boarder","domestic_employee","clergy","tv","mobile","radio","fixed_tp","pc","laptop","fax","fire_wood","gas","kerosene","electricity","asbestos","tile","metal_sheet","concrete","zink_aluminium_sheet","cement","tile_or_granite_or_terrazo","mud","wood","occupants_burn","occupants_bury","collected_by_local_authorities","occupants_composting_solid_waste","tap_within_unit_main_line","tap_within_premises_but_outside_unit_main_line","tap_outside_premises_main_line","protected_well_within_premises","protected_well_outside_premises","unprotected_well","tube_well","rural_water_projects","river_or_tank_or_stream","bottled_water","single_house_single_floor","single_house_double_floor","single_house_more_than_2_floors","row_house_or_line_room","attached_house_or_annex","twin_house","flat","condominium","hut_or_shanty","owned_by_a_household_member","rent_or_lease_privately_owned","rent_or_lease_government_owned","occupied_free_of_rent","encroached","water_seal_and_connected_to_a_piped_sewer_system","water_seal_and_connected_to_a_septic_tank","pour_flush_toilet_not_water_seal","direct_pit","not_using_a_toilet","electricity_national_electricity_network","solar_power","bio_gas","housing_unit","collective_living_quarter","non_housing_unit","semi_permanent","permanent","improvised","unclassified","married_registered","never_married","widowed","married_customary","separated_not_legally","divorced","legally_separated","cement_block_or_stone","brick","cabook","soil_bricks","plank_or_metal_sheet","cadjan_or_palmyrah","occupied","vacant","Random","minValue","maxValue","random","randomFloat","Color","h","s","l","randomInt","hsla","MathX","numList","_sum","num","adhocValueKeyToColor","GIG2","tableName","getTable","table","valueKeys","filterValueCellKeys","tableIndex","tableRow","entries","cleanTableRow","value","cellKey","maxValueKey","valueKey","minValueP","maxValueP","sumValue","getSumValues","valueP","min","max","sum","sumValues","getRandomHSLA","getMaxValueKey","getValueKeyColor","sortedValuePs","getValueKeyP","sort","nValues","valuePToRankP","iValue","SourceView","source","className","href","TableView","censusData","valueCellKeys","valueCellKey","cellEntries","d","b","othersValues","v","othersValueSum","iValueCellKey","valueCellValue","divColorStyle","background","formatInt","formatPercent","LEGEND_RANK_PS","Array","LegendView","legendInfoList","displayMode","label","opacity","sortedDataList","rankP","iLegendInfo","backgroundColor","EntView","getEnt","getEntTypeLongName","name","DEFAULT_STYLE_GEOJSON","fillColor","weight","dumbCopy","RegionGeo","geoData","onClick","renderCustom","geoJsonData","type","coordinates","buttonShow","subRegionType","subRegionTypeName","styleDummy","GeoJSON","GIG2Layer","parentRegionID","constructor","getTableName","getDisplayMode","getChildIDs","childIDs","getTableIndex","tableDataList","childID","selectedValueKey","getValuePToRankP","getTableRowColor","parentRegionType","bind","dataIndex","getSource","displayModeLabel","splice","timeID","attrID","timeIDWords","reverse","timeStr","attrStr","displayModeStr","spaceID","DEFAULT_DISPLAY_MODES","gig2LayerClasses","GIG2ClassList","valueKeyList","concat","GIG2Class","GIG2LayerFactory","build","getAll","CUSTOM_LAYERS","CUSTOM_LAYERS_INDEX","LayerClass","getLayerClassID","DEFAULT_LAYER_CLASS_ID","RegionTypePicker","selectedRegionType","onSelectRegionType","renderedItems","regionTypes","regionName","getRegionName","ShowHide","isVisible","renderedInner","onClickShow","onClickHide","children","LayerSelector","selectedLayerClasses","onSelectLayer","sortedLayers","localeCompare","iLayer","renderedLabel","renderLabel","LayerMenuView","matchingLayerClasses","renderedTitle","getRegionTypes","showRegionTypePicker","EventComponent","useMapEvents","moveend","onMoveEnd","GeoMap","MapContainer","zoomControl","TileLayer","ZoomControl","src","imgGeoLocate","alt","HomePage","layerClassID","match","params","locationStr","latStr","lngStr","zoomStr","parseLatLngZoomStr","latLngStr","selectedCenter","mapCenter","getCenter","newZoom","getZoom","newCenter","latLngZoomStr","newUrl","window","history","pushState","callback","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","SelectedLayerClass","onClickGeoLocate","CustomLayerClass","iCustomLayerClass","App","basename","path","component","to","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2hBAAqBA,E,+HACnB,WAAiBC,EAAUC,GAA3B,8EACQC,EAAUC,aAAaC,QAAQJ,IADvC,yCAGWK,KAAKC,MAAMJ,IAHtB,uBAMyBD,IANzB,OAMQM,EANR,OAOE,IACEJ,aAAaK,QAAQR,EAAUK,KAAKI,UAAUF,IAC9C,MAAOG,GACPP,aAAaQ,QAVjB,yBAYSJ,GAZT,2C,gECGIK,EAAe,CACnBC,QAAS,CACPC,OAAQ,qBAINC,EAAc,CAClBF,QAAS,CACPC,OAAQ,a,SAIGE,E,8EAAf,WAA4BC,GAA5B,iBAAAC,EAAA,sEACyBC,MAAMF,EAAKL,GADpC,cACQQ,EADR,gBAEyBA,EAASC,OAFlC,cAEQC,EAFR,yBAGSA,GAHT,4C,8BAMqBC,E,6FACnB,SAAgBC,GACd,OAAOA,EAAiBC,KAAK,O,yDAG/B,WAAkBR,GAAlB,0FACSlB,EAAM2B,IAAN,mBA1BW,YA0BX,YAAuCT,GAAvC,sBAA8C,sBAAAC,EAAA,+EAC5CF,EAAaC,IAD+B,6CADvD,2C,+GAMA,WAAiBA,GAAjB,+FACyBE,MAAMF,EAAKF,GADpC,cACQK,EADR,gBAEwBA,EAASO,OAFjC,cAEQC,EAFR,OAGQC,EAAQD,EAAQE,MAAM,MACtBC,EAAOF,EAAM,GAAGC,MAAM,MAAME,KAAI,SAACC,GAAD,OAASA,EAAIC,QAAQ,KAAM,OAC3DC,EAAWN,EACdO,MAAM,GAAI,GACVJ,KAAI,SAAUK,GACb,IAAMC,EAASD,EAAKP,MAAM,MAC1B,OAAOC,EAAKQ,QAAO,SAAUC,EAAMP,EAAKQ,GAEtC,OADAD,EAAKP,GAAOK,EAAOG,GAAGP,QAAQ,KAAM,IAC7BM,IACN,OAEJE,QAAO,SAACF,GAAD,OAAUA,KAdtB,kBAeSL,GAfT,4C,6EC/BmBQ,E,gGACnB,SAAmBC,GACjB,OAAIA,IAAQA,EAAIC,cACPD,GAETA,EAAMA,EAAIE,WAAW,IAAK,MACfZ,QAAQ,UAAU,SAAUa,GACrC,OAAOA,EAAIC,OAAO,GAAGH,cAAgBE,EAAIE,OAAO,GAAGC,mB,uBAIvD,SAAiBC,GACf,IAEIC,EAASC,EAAUC,EAFjBC,EAAcC,KAAKC,IAAIN,GAAKK,KAAKC,IAAI,KAGvCN,EAAI,KACNC,EAAUM,OAAOP,EAAI,KAAWQ,oBAAeC,EAAW,CACxDC,yBAnBe,IAqBjBR,EAAW,IACXC,EAAQ,SACCH,EAAI,KACbC,EAAUM,OAAOP,EAAI,KAAOQ,oBAAeC,EAAW,CACpDC,yBAzBe,IA2BjBR,EAAW,IACXC,EAAQ,SAERF,EAAUM,OAAOP,GAAGQ,oBAAeC,EAAW,CAC5CC,yBA/Be,IAiCjBR,EAAW,GACXC,EAAQ,aAGV,IAAMQ,EAAQ,CACZC,SAAUC,SAAuB,IAAdT,GAAqB,IACxCD,SAGF,OACE,uBAAMQ,MAAOA,EAAb,UACGV,EACAC,O,2BAKP,SAAqBY,EAAWC,GAC9B,IAQIZ,EAREa,EAAIF,EAAYC,EAChBE,EAAYZ,KAAKa,IAAIF,EAAG,KAE1Bf,EAAUM,OAAOS,GAAGR,oBAAeC,EAAW,CAChDE,MAAO,UACPD,yBAxDiB,IA6DjBP,EADEa,EAAI,GACE,QAIA,YAIV,IAAML,EAAQ,CACZC,SAAUC,SAAqB,IAAZI,GAAmB,IACtCd,MAAOA,GAGT,OAAO,sBAAMQ,MAAOA,EAAb,SAAqBV,Q,KCvEnBkB,EAAM,CACjBC,QAAS,UACTC,SAAU,WACVC,SAAU,WACVC,IAAK,MACLC,IAAK,MACLC,GAAI,KACJC,GAAI,KACJC,IAAK,MACLC,GAAI,KACJC,QAAS,kBAGEC,EAAeC,OAAO5C,OAAOgC,GAE7Ba,GAAqB,mBAC/Bb,EAAIc,QAAU,WADiB,cAE/Bd,EAAIE,SAAW,YAFgB,cAG/BF,EAAIG,SAAW,YAHgB,cAI/BH,EAAII,IAAM,mCAJqB,cAK/BJ,EAAIK,IAAM,4BALqB,cAM/BL,EAAIM,GAAK,oBANsB,cAO/BN,EAAIO,GAAK,sBAPsB,cAQ/BP,EAAIQ,IAAM,kCARqB,cAS/BR,EAAIS,GAAK,wBATsB,GAYrBM,GAAe,mBACzBf,EAAIC,QAAUD,EAAIE,UADO,cAEzBF,EAAIE,SAAWF,EAAIG,UAFM,cAGzBH,EAAIG,SAAWH,EAAII,KAHM,cAIzBJ,EAAII,IAAMJ,EAAIK,KAJW,cAKzBL,EAAIK,SAAMf,GALe,cAMzBU,EAAIM,QAAKhB,GANgB,cAOzBU,EAAIO,GAAK,CAACP,EAAIM,KAPW,GAUPU,E,+FACnB,SAAkBC,GAChB,GAA8B,OAA1BA,EAAMC,UAAU,EAAG,GAErB,OADoBD,EAAME,QAExB,KAAK,EACH,OAAOnB,EAAIC,QACb,KAAK,EACH,OAAOD,EAAIE,SACb,KAAK,EACH,OAAOF,EAAIG,SACb,KAAK,EACH,OAAOH,EAAII,IACb,KAAK,GACH,OAAOJ,EAAIK,IACb,QACE,OAAOL,EAAIU,QAGjB,GAA8B,OAA1BO,EAAMC,UAAU,EAAG,GAErB,OADoBD,EAAME,QAExB,KAAK,EACH,OAAOnB,EAAIO,GACb,KAAK,EACH,OAAOP,EAAIM,GACb,QACE,OAAON,EAAIU,QAIjB,MAA8B,OAA1BO,EAAMC,UAAU,EAAG,GACdlB,EAAIS,GAGiB,QAA1BQ,EAAMC,UAAU,EAAG,GACdlB,EAAIQ,IAENR,EAAIU,U,2BAEb,SAAqBU,GACnB,OAAOP,EAAsBO,K,kEAE/B,WAA2BC,GAA3B,8EACQ1E,EADR,+BACsC0E,EADtC,iBAEepE,EAAIqE,IAAI3E,GAFvB,mF,6HAKA,WAA+B0E,GAA/B,uFACqBL,EAAKO,cAAcF,GADxC,cACQG,EADR,yBAESA,EAAKvD,QAAO,SAAUwD,EAAUC,GAErC,OADAD,EAASC,EAAIC,IAAMD,EACZD,IACN,KALL,2C,0HAQA,6FACQG,EAAWjB,EADnB,SAE6BkB,QAAQC,IACjCF,EAASlE,IAAT,uCAAa,WAAgB2D,GAAhB,SAAAzE,EAAA,sEACEoE,EAAKe,kBAAkBV,GADzB,mFAAb,wDAHJ,cAEQW,EAFR,yBAQSJ,EAAS3D,QAAO,SAAUgE,EAAaZ,EAASa,GAErD,OADAD,EAAYZ,GAAWW,EAAaE,GAC7BD,IACN,KAXL,2C,iHAcA,WAAoBhB,GAApB,kFACQI,EAAUL,EAAKmB,WAAWlB,GADlC,SAEyBD,EAAKe,kBAAkBV,GAFhD,cAEQI,EAFR,QAGMC,EAAMD,EAASR,IACZ,WACLS,EAAG,SAAe3F,KAAKC,MAAM0F,EAAG,WALpC,kBAOSA,GAPT,2C,+HAUA,kIAEezE,EAAIF,KAFnB,yH,sHAKA,WAAyBqF,EAAUC,GAAnC,uFACqBrB,EAAKO,cAAcc,GADxC,cACQb,EADR,yBAESA,EACJ9D,KAAI,SAACgE,GAAD,OAASA,EAAIC,MACjBvD,QAAO,SAAC6C,GAAD,OAAWA,EAAMqB,SAASF,IAA0B,OAAbA,MAJnD,2C,yFAOA,SAA0Bf,GACxB,OAAOR,EAAsBQ,GACzBR,EAAsBQ,GACtBhD,EAAQkE,YAAYlB,O,KCjIfmB,EAAiB,CAAC,SAAU,WAMlC,SAASC,EAAT,EAAsCC,GAAO,IAAD,mBAAjBC,EAAiB,KAAZC,EAAY,KACjD,MAAM,GAAN,OAAUD,EAAV,aAAkBC,EAAlB,aAA0BF,EAA1B,KAqBF,SAASG,EAAiBC,EAAOC,GAC/B,kBAAeD,EAAf,GAAOE,EAAP,KAAUnE,EAAV,KACIoE,EAAc,EAClB,IAAK,IAAI9E,KAAK4E,EAAS,CACrB,IAAMG,GAAK/E,EAAI,EAAI4E,EAAQ5B,QAAU4B,EAAQ5B,OAE7C,cAAiB4B,EAAQ5E,GAAzB,GAAOgF,EAAP,KAAWC,EAAX,KACA,cAAiBL,EAAQG,GAAzB,GAAOG,EAAP,KAAWC,EAAX,KAGUF,EAAKJ,IAAMM,EAAKN,GAEhBnE,GAAMwE,EAAKF,IAAOH,EAAII,IAAQE,EAAKF,GAAMD,IAIjDF,GAAe,GAGnB,OAAOA,EAAc,IAAM,EAG7B,SAASM,EAA2BT,EAAOU,GACzC,IAAK,IAAIrF,KAAKqF,EAAmB,CAC/B,IAAMC,EAAeD,EAAkBrF,GACvC,IAAK,IAAI+E,KAAKO,EAAc,CAE1B,GAAIZ,EAAiBC,EADLW,EAAaP,IAE3B,OAAO,GAIb,OAAO,E,IAGYQ,E,2IACnB,WAA6BC,GAA7B,gFACQvC,EAAaJ,EAAKmB,WAAWwB,GAC7BhH,EAFR,8BAEqCyE,EAFrC,YAEmDuC,EAFnD,kBAGe1G,EAAIF,KAAKJ,GAHxB,mF,yHAMA,oIAEeM,EAAIF,KAFnB,2H,0HAKA,WAA6B+F,EAAOa,GAApC,uFAC6BD,EAAQE,gBAAgBD,GADrD,cACQF,EADR,yBAESF,EAA2BT,EAAOW,IAF3C,2C,gIAKA,WAAgCX,GAAhC,qGACyBY,EAAQG,gBADjC,OACMC,EADN,OAGMC,EAAY,GAHlB,cAK0BpD,GAL1B,8CAKWqD,EALX,WAMU5C,EAAaT,EAAaqD,GAC1BC,EAAYrD,OAAOnD,KAAKqG,GAC1BI,GAAgB,EARxB,cASwBD,GATxB,sDASaE,EATb,WAUYR,EAAWM,EAAUE,GAVjC,UAWqCT,EAAQU,gBAAgBtB,EAAOa,GAXpE,iBAaQI,EAAU3C,GAAcuC,EACxBG,EAAaA,EAAWH,GACxBO,GAAgB,GAfxB,2BAkBSA,EAlBT,qGAsBSH,GAtBT,4C,8DA0BK,SAASM,EAAYC,GAC1B,IAAMC,EAAI,IACV,OAAOD,EAAO5G,KAAI,SAACmB,GAAD,OAAOK,KAAKsF,MAAMC,WAAW5F,GAAK0F,GAAKA,K,kBClHtCG,E,gGACnB,WACE,OAAOxF,KAAKyF,MAAMC,KAAKC,MAAQ,O,qBAGjC,WACE,OAAO,IAAID,MAAOE,cAAchH,MAAM,EAAG,M,uBAG3C,WACE,OAAO4G,EAAMK,UAAUvG,WAAW,IAAK,Q,qBCNtBwG,G,wDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAErH,cAAUyB,GAFR,E,sFAKnB,sBAAA1C,EAAA,+EACS,IADT,2C,4HAIA,sBAAAA,EAAA,6DACEuI,KAAKC,oBAAqB,EAD5B,SAEQD,KAAKE,4BAFb,gD,oIAKA,4BAAAzI,EAAA,sEACyBuI,KAAKG,cAD9B,OACQzH,EADR,OAEMsH,KAAKC,oBACPD,KAAKI,SAAS,CAAE1H,aAHpB,gD,wFAOA,WACEsH,KAAKC,oBAAqB,I,4BA+B5B,WACE,OAAO,O,0BAGT,WACE,OAAO,O,oBAGT,WAEE,OADqBD,KAAKD,MAAlBrH,SAKN,qCACGsH,KAAKK,iBACLL,KAAKM,kBALD,Q,8BAvCX,WACE,MAAO,a,sBAGT,WACE,MAAO,kB,4BAGT,WACE,MAAO,Q,0BAGT,WACE,MAAO,K,qBAGT,SAAepI,GACb,OAAO8H,KAAKO,WAAW9G,cAAc0D,SAASjF,EAAKuB,iB,uBAGrD,WACE,MAAO,mB,4BAGT,WACE,MAAO,O,GAnDgC+G,cCGtBC,E,wMAkBnB,8BAAAhJ,EAAA,6DACQiJ,EAASnB,EAAMoB,YACfnJ,EAAMM,EAAI8I,SAAS,CACvB,oCACA,uBAFuB,iCAGGF,EAHH,UAF3B,SAOe5I,EAAIqE,IAAI3E,GAPvB,mF,kFAUA,WAGE,OAFqBwI,KAAKD,MAAlBrH,SAEQH,KAAI,SAAUQ,EAAM8H,GAClC,IAAK9H,EAAKyE,IACR,OAAO,KAET,IAAMsD,EAAW,CAACxB,WAAWvG,EAAKyE,KAAM8B,WAAWvG,EAAK0E,MAEpD5D,EAAQ,QACRd,EAAKgI,OACPlH,EAAQ,OAGV,IAAImH,EAAmB,GACnBjI,EAAKkI,OACPD,EAAiBE,KAAK,yBAEpBnI,EAAKoI,OACPH,EAAiBE,KAAK,yBASxB,OACE,cAACE,EAAA,EAAD,CAEEC,OAAQP,EACRQ,OA9DmB,GA+DnBC,YAAa,CAAE1H,MAAOA,EAAO2H,OAAQ,KAAMC,YAAa,IACxDC,cAZkB,CACpBC,UAAW,SAAUC,GACnBA,EAAEC,OAAOC,cAKX,SAOE,eAACC,EAAA,EAAD,WACE,6BAAKhJ,EAAKsI,SACV,kCAAUtI,EAAKiJ,oBACdhB,EACD,uBACA,gCACE,iCAASjI,EAAKkJ,SADhB,IACkC,gBAAiB,IACjD,iCAASlJ,EAAKmJ,WAFhB,eAIA,8BAAMnJ,EAAKgI,OACX,qBAAK1G,MAAO,CAAEC,SAAU,OAAxB,SAAkCvB,EAAKoJ,gBAjB3C,qBACqBtB,U,8BAzD3B,WACE,MAAO,wB,sBAGT,WACE,IAAMuB,EAAO7C,EAAMK,UACnB,MAAM,6CAAN,OAA0CwC,EAA1C,O,yBAGF,WACE,OAAOpC,KAAKO,a,uBAGd,WACE,MAAO,2C,GAfoCV,GCPlCwC,EAAc,CAkBzB,8CACA,6DACA,gDACA,8CACA,iDACA,2CACA,wDACA,4DACA,4CACA,sCACA,mDACA,yDACA,qDACA,mEACA,0DACA,gDACA,4CACA,wDACA,4DACA,iDACA,qDACA,uCACA,2CACA,iDACA,2DACA,+CACA,+CACA,+CACA,+CACA,+CACA,+CACA,+CACA,gDAGWC,EAAe,CAC1B,4DAA6D,CAC3DC,KAAM,gEACNC,WAAY,4DACZC,SAAU,UACVC,QAAS,cACTC,QAAS,wCACTC,YAAa,MACbC,UAAW,QACXC,mBACE,0KAEJ,qDAAsD,CACpDP,KAAM,yDACNC,WAAY,qDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,iCACTC,YAAa,MACbC,UAAW,QACXC,mBACE,uGAEJ,+CAAgD,CAC9CP,KAAM,mDACNC,WAAY,+CACZC,SAAU,aACVC,QAAS,6BACTC,QAAS,SACTC,YAAa,IACbC,UAAW,MACXC,mBAAoB,YAEtB,+CAAgD,CAC9CP,KAAM,mDACNC,WAAY,+CACZC,SAAU,aACVC,QAAS,6BACTC,QAAS,SACTC,YAAa,IACbC,UAAW,MACXC,mBAAoB,kBAEtB,kBAAmB,CACjBP,KAAM,sBACNC,WAAY,kBACZC,SAAU,KACVC,QAAS,SACTC,QAAS,QACTC,YAAa,IACbC,UAAW,MACXC,mBAAoB,IAEtB,mBAAoB,CAClBP,KAAM,uBACNC,WAAY,mBACZC,SAAU,MACVC,QAAS,SACTC,QAAS,QACTC,YAAa,MACbC,UAAW,QACXC,mBAAoB,IAEtB,+CAAgD,CAC9CP,KAAM,mDACNC,WAAY,+CACZC,SAAU,aACVC,QAAS,6BACTC,QAAS,SACTC,YAAa,IACbC,UAAW,MACXC,mBAAoB,YAEtB,+CAAgD,CAC9CP,KAAM,mDACNC,WAAY,+CACZC,SAAU,aACVC,QAAS,6BACTC,QAAS,SACTC,YAAa,IACbC,UAAW,MACXC,mBAAoB,0BAEtB,yDAA0D,CACxDP,KAAM,6DACNC,WAAY,yDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,qCACTC,YAAa,MACbC,UAAW,OACXC,mBAAoB,mBAEtB,gDAAiD,CAC/CP,KAAM,oDACNC,WAAY,gDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,4BACTC,YAAa,MACbC,UAAW,OACXC,mBACE,mEAEJ,2CAA4C,CAC1CP,KAAM,+CACNC,WAAY,2CACZC,SAAU,UACVC,QAAS,cACTC,QAAS,uBACTC,YAAa,MACbC,UAAW,OACXC,mBAAoB,eAEtB,mEAAoE,CAClEP,KAAM,uEACNC,WACE,mEACFC,SAAU,UACVC,QAAS,cACTC,QAAS,+CACTC,YAAa,MACbC,UAAW,QACXC,mBACE,qIAEJ,iDAAkD,CAChDP,KAAM,qDACNC,WAAY,iDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,6BACTC,YAAa,MACbC,UAAW,OACXC,mBACE,gLAEJ,0DAA2D,CACzDP,KAAM,8DACNC,WAAY,0DACZC,SAAU,UACVC,QAAS,cACTC,QAAS,sCACTC,YAAa,MACbC,UAAW,OACXC,mBACE,6DAEJ,mBAAoB,CAClBP,KAAM,uBACNC,WAAY,mBACZC,SAAU,MACVC,QAAS,SACTC,QAAS,QACTC,YAAa,IACbC,UAAW,OACXC,mBAAoB,IAEtB,mBAAoB,CAClBP,KAAM,uBACNC,WAAY,mBACZC,SAAU,MACVC,QAAS,SACTC,QAAS,QACTC,YAAa,IACbC,UAAW,OACXC,mBAAoB,IAEtB,+CAAgD,CAC9CP,KAAM,mDACNC,WAAY,+CACZC,SAAU,aACVC,QAAS,6BACTC,QAAS,SACTC,YAAa,IACbC,UAAW,MACXC,mBAAoB,YAEtB,4CAA6C,CAC3CP,KAAM,gDACNC,WAAY,4CACZC,SAAU,UACVC,QAAS,cACTC,QAAS,wBACTC,YAAa,MACbC,UAAW,OACXC,mBACE,oHAEJ,iDAAkD,CAChDP,KAAM,qDACNC,WAAY,iDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,6BACTC,YAAa,MACbC,UAAW,OACXC,mBACE,oGAEJ,wBAAyB,CACvBP,KAAM,4BACNC,WAAY,wBACZC,SAAU,WACVC,QAAS,SACTC,QAAS,QACTC,YAAa,GACbC,UAAW,KACXC,mBAAoB,IAEtB,6DAA8D,CAC5DP,KAAM,iEACNC,WAAY,6DACZC,SAAU,UACVC,QAAS,cACTC,QAAS,yCACTC,YAAa,MACbC,UAAW,QACXC,mBAAoB,sCAEtB,+CAAgD,CAC9CP,KAAM,mDACNC,WAAY,+CACZC,SAAU,aACVC,QAAS,6BACTC,QAAS,SACTC,YAAa,IACbC,UAAW,MACXC,mBAAoB,YAEtB,kBAAmB,CACjBP,KAAM,sBACNC,WAAY,kBACZC,SAAU,KACVC,QAAS,SACTC,QAAS,QACTC,YAAa,GACbC,UAAW,KACXC,mBAAoB,IAEtB,sCAAuC,CACrCP,KAAM,0CACNC,WAAY,sCACZC,SAAU,UACVC,QAAS,cACTC,QAAS,kBACTC,YAAa,MACbC,UAAW,OACXC,mBACE,2DAEJ,iDAAkD,CAChDP,KAAM,qDACNC,WAAY,iDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,6BACTC,YAAa,MACbC,UAAW,OACXC,mBACE,6DAEJ,8CAA+C,CAC7CP,KAAM,kDACNC,WAAY,8CACZC,SAAU,UACVC,QAAS,cACTC,QAAS,0BACTC,YAAa,MACbC,UAAW,OACXC,mBACE,2EAEJ,+CAAgD,CAC9CP,KAAM,mDACNC,WAAY,+CACZC,SAAU,aACVC,QAAS,6BACTC,QAAS,SACTC,YAAa,IACbC,UAAW,MACXC,mBAAoB,UAEtB,kBAAmB,CACjBP,KAAM,sBACNC,WAAY,kBACZC,SAAU,KACVC,QAAS,SACTC,QAAS,QACTC,YAAa,IACbC,UAAW,OACXC,mBAAoB,IAEtB,wBAAyB,CACvBP,KAAM,4BACNC,WAAY,wBACZC,SAAU,WACVC,QAAS,SACTC,QAAS,QACTC,YAAa,EACbC,UAAW,KACXC,mBAAoB,IAEtB,qDAAsD,CACpDP,KAAM,yDACNC,WAAY,qDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,iCACTC,YAAa,MACbC,UAAW,OACXC,mBACE,mKAEJ,gDAAiD,CAC/CP,KAAM,oDACNC,WAAY,gDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,4BACTC,YAAa,MACbC,UAAW,OACXC,mBACE,6FAEJ,+CAAgD,CAC9CP,KAAM,mDACNC,WAAY,+CACZC,SAAU,aACVC,QAAS,6BACTC,QAAS,SACTC,YAAa,IACbC,UAAW,MACXC,mBAAoB,iBAEtB,4CAA6C,CAC3CP,KAAM,gDACNC,WAAY,4CACZC,SAAU,UACVC,QAAS,cACTC,QAAS,wBACTC,YAAa,MACbC,UAAW,QACXC,mBACE,uFAEJ,8CAA+C,CAC7CP,KAAM,kDACNC,WAAY,8CACZC,SAAU,UACVC,QAAS,cACTC,QAAS,0BACTC,YAAa,MACbC,UAAW,QACXC,mBACE,0DAEJ,uBAAwB,CACtBP,KAAM,2BACNC,WAAY,uBACZC,SAAU,UACVC,QAAS,SACTC,QAAS,QACTC,YAAa,EACbC,UAAW,GACXC,mBAAoB,IAEtB,mDAAoD,CAClDP,KAAM,uDACNC,WAAY,mDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,+BACTC,YAAa,MACbC,UAAW,OACXC,mBAAoB,sDAEtB,2DAA4D,CAC1DP,KAAM,+DACNC,WAAY,2DACZC,SAAU,UACVC,QAAS,cACTC,QAAS,uCACTC,YAAa,MACbC,UAAW,QACXC,mBACE,wFAEJ,wDAAyD,CACvDP,KAAM,4DACNC,WAAY,wDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,oCACTC,YAAa,MACbC,UAAW,OACXC,mBAAoB,yCAEtB,2CAA4C,CAC1CP,KAAM,+CACNC,WAAY,2CACZC,SAAU,UACVC,QAAS,cACTC,QAAS,uBACTC,YAAa,MACbC,UAAW,OACXC,mBAAoB,uCAEtB,4DAA6D,CAC3DP,KAAM,gEACNC,WAAY,4DACZC,SAAU,UACVC,QAAS,cACTC,QAAS,wCACTC,YAAa,MACbC,UAAW,OACXC,mBACE,mIAEJ,uCAAwC,CACtCP,KAAM,2CACNC,WAAY,uCACZC,SAAU,UACVC,QAAS,cACTC,QAAS,mBACTC,YAAa,MACbC,UAAW,OACXC,mBAAoB,IAEtB,wDAAyD,CACvDP,KAAM,4DACNC,WAAY,wDACZC,SAAU,UACVC,QAAS,cACTC,QAAS,oCACTC,YAAa,MACbC,UAAW,OACXC,mBACE,uEC3eOC,EACF,qBADEA,EAEJ,qBAFIA,EAGL,sBAGKC,EAAsB,CAEjCC,KAAM,OACNC,GAAI,OACJC,KAAM,OACNC,KAAML,EACNM,IAAK,QACLC,IAAK,QACLC,IAAK,MACLC,KAAM,MACNC,KAAMV,EACNW,KAAM,SAENC,MAAO,aACPC,OAAQ,OAERC,SAAU,OACVC,QAAS,SACTC,OAAQ,OACRC,aAAcjB,EACdkB,MAAOlB,EACPmB,KAAMnB,EACNoB,UAAWpB,EACXqB,iBAAkBrB,EAElBsB,SA3BU,qBA4BVC,MAAOvB,EACPwB,MAAOxB,EACPyB,eAAgB,SAChBC,gBAAiB,OAEjBC,OAAQ,OACRC,KAAM,YAGNC,gBAAiB,QACjBC,KAAM,OACNC,gBAAiB,OACjBC,gCAAiC,YACjCC,eAAgB,SAChBC,aAAc,SACdC,uBAAwB,aACxBC,yBAA0B,MAC1BC,QAAS,OACTC,kBAAmB,QACnBC,OAAQ,SAERC,GAAI,QACJC,OAAQ,SACRC,MAAO,SACPC,SAAU,OACVC,GAAI,MACJC,OAAQ,OACRC,IAAK,SAELC,UAAW,QACXC,IAAK,SACLC,SAAU,SACVC,YAAa,OAKbC,SAAU,OACVC,KAAM,UACNC,YAAa,SACbC,SAAU,QACVC,qBAAsB,OACtBC,OAAQ,YACRC,2BAA4B,SAC5BC,IAAK,YACLC,KAAM,QAENC,eAAgB,MAChBC,eAAgB,SAChBC,+BAAgC,OAChCC,iCAAkC,QAElCC,0BAA2B,YAC3BC,+CAAgD,QAChDC,+BAAgC,SAChCC,+BAAgC,OAChCC,gCAAiC,YACjCC,iBAAkB,SAClBC,UAAW,OACXC,qBAAsB,OACtBC,wBAAyB,MACzBC,cAAe,SAEfC,0BAA2B,YAC3BC,0BAA2B,QAC3BC,gCAAiC,aACjCC,uBAAwB,SACxBC,wBAAyB,SACzBC,WAAY,OACZC,KAAM,OACNC,YAAa,SACbC,cAAe,MAGfC,4BAA6B,QAC7BC,8BAA+B,OAC/BC,+BAAgC,OAChCC,sBAAuB,SACvBC,WAAY,MAEZC,iDAAkD,QAClDC,0CAA2C,aAC3CC,iCAAkC,SAClCC,WAAY,MACZC,mBAAoB,QAEpBC,yCAA0C,OAC1CC,YAAa,SACbC,QAAS,SAETC,aAAc,QACdC,0BAA2B,SAC3BC,iBAAkB,MAElBC,eAAgB,SAChBC,UAAW,QACXC,WAAY,MACZC,aAAc,QAEdC,mBAAoB,OACpBC,cAAe,QACfC,QAAS,SACTC,kBAAmB,YACnBC,sBAAuB,OACvBC,SAAU,MACVC,kBAAmB,SAEnBC,sBAAuB,WACvBC,MAAO,SACPC,OAAQ,SACRC,YAAa,QACbC,qBAAsB,SAEtBC,mBAAoB,SACpBC,SAAU,QACVC,OAAQ,OCnJWC,E,gGACnB,SAAmBC,EAAUC,GAC3B,OAAOD,EAAWvQ,KAAKyQ,UAAYD,EAAWD,K,uBAGhD,SAAiBA,EAAUC,GACzB,OAAOhQ,SAAS8P,EAAOI,YAAYH,EAAUC,Q,KCJ5BG,E,yFACnB,SAAYC,EAAGC,EAAGC,EAAGpT,GACnB,MAAM,QAAN,OAAekT,EAAf,YAAoBC,EAApB,aAA0BC,EAA1B,aAAgCF,EAAhC,O,2BAEF,WACE,IAAMA,EAAIN,EAAOS,UAAU,EAAG,KAI9B,OAAOJ,EAAMK,KAAKJ,EAHR,IACA,GACA,O,KCVOK,E,wFACnB,SAAWC,GACT,OAAOA,EAAQnS,QAAO,SAAUoS,EAAMC,GACpC,OAAOD,EAAOC,IACb,O,KCCHC,EAAuB,GAINC,G,uIACnB,8FACevT,EAAIqE,IAAI,sCADvB,mF,mHAIA,WAAsBmP,GAAtB,8EACQ9T,EADR,+BACsC8T,EADtC,iBAEexT,EAAIqE,IAAI3E,GAFvB,mF,yHAKA,WAA2B8T,GAA3B,yFACsBD,EAAKE,SAASD,GADpC,cACQE,EADR,OAEQC,EAAYJ,EAAKK,oBAAoBF,EAAM,IAFnD,kBAGSA,EAAM1S,QAAO,SAAU6S,EAAYC,GAWxC,OAVAD,EAAWC,EAAQ,WAAkBnQ,OAAOoQ,QAAQD,GAAU9S,QAC5D,SAAUgT,EAAV,GAAwC,IAAD,mBAAbtT,EAAa,KAARuT,EAAQ,KAKrC,OAJIN,EAAUtO,SAAS3E,KACrBuT,EAAQzM,WAAWyM,IAErBD,EAActT,GAAOuT,EACdD,IAET,IAEKH,IACN,KAfL,2C,wFAkBA,SAA2BC,GAazB,OAZsBnQ,OAAOnD,KAAKsT,GAAU3S,QAC1C,SAAC+S,GAAD,QAEIA,EAAQ7O,SAAS,WACjB6O,EAAQ7O,SAAS,QACjB6O,EAAQ7O,SAAS,cACjB6O,EAAQ7O,SAAS,UACjB6O,EAAQ7O,SAAS,aACjB6O,EAAQ7O,SAAS,WACjB6O,EAAQ7O,SAAS,kB,4BAMzB,SAAsByO,GACpB,IAAMH,EAAYJ,EAAKK,oBAAoBE,GAO3C,OANoBH,EAAU3S,QAAO,SAAUmT,EAAaC,GAI1D,OAHIN,EAASK,GAAeL,EAASM,KACnCD,EAAcC,GAETD,IACNR,EAAU,M,6BAIf,SAAuB/S,EAAUwT,GAC/B,OAAOxT,EAASI,QACd,WAAkC8S,GAAW,IAAD,mBAAjCO,EAAiC,KAAtBC,EAAsB,KACpCC,EAAWhB,EAAKiB,aAAaV,GAE7BW,EADQX,EAASM,GACAG,EACvB,MAAO,CAACtS,KAAKyS,IAAIL,EAAWI,GAASxS,KAAK0S,IAAIL,EAAWG,MAE3D,CAAC,EAAK,M,0BAIV,SAAoBX,GAClB,IAAMH,EAAYJ,EAAKK,oBAAoBE,GAC3C,OAAOZ,EAAM0B,IAAIjB,EAAUlT,KAAI,SAAC2T,GAAD,OAAcN,EAASM,S,0BAGxD,SAAoBN,EAAUM,GAC5B,IAAMS,EAAYtB,EAAKiB,aAAaV,GACpC,OAAOA,EAASM,GAAYS,I,8BAG9B,SAAwBT,GACtB,OAAIlJ,EAAoBkJ,GACflJ,EAAoBkJ,IAExBd,EAAqBc,KACxBd,EAAqBc,GAAYxB,EAAMkC,iBAElCxB,EAAqBc,M,8BAG9B,SAAwBN,GACtB,IAAMK,EAAcZ,EAAKwB,eAAejB,GACxC,OAAOP,EAAKyB,iBAAiBb,K,8BAG/B,SAAwBvT,EAAUwT,GAChC,IAAMa,EAAgBrU,EACnBH,KAAI,SAACqT,GAAD,OAAcP,EAAK2B,aAAapB,EAAUM,MAC9Ce,OACGC,EAAUH,EAAc/Q,OAC9B,OAAO+Q,EAAcjU,QAAO,SAAUqU,EAAeZ,EAAQa,GAE3D,OADAD,EAAcZ,GAAUa,EAASF,EAC1BC,IACN,Q,WC3GQ,SAASE,GAAWvN,GACjC,IAAQwN,EAAWxN,EAAXwN,OACR,OACE,sBAAKC,UAAU,mBAAf,UACG,WACD,mBAAGA,UAAU,sBAAsBC,KAAMF,EAAQzL,OAAO,UAAxD,SACGyL,O,MCAM,SAASG,GAAU3N,GAChC,IAAQ/G,EAAiB+G,EAAjB/G,KAAMuU,EAAWxN,EAAXwN,OACR1B,EAAW7S,EAAK2U,WAChBC,EAAgBtC,GAAKK,oBAAoBE,GACzC/S,EAAS8U,EAAcpV,KAAI,SAACqV,GAAD,OAAkBhC,EAASgC,MACtDjB,EAAY3B,EAAM0B,IAAI7T,GAExBgV,EAAcF,EACfpV,KAAI,SAACqV,GAAD,MAAkB,CAACA,EAAchC,EAASgC,OAC9C3U,QAAO,SAAC6U,GAAD,OAAOA,EAAE,IAXK,IAWCnB,KACtBM,MAAK,SAACxV,EAAGsW,GAAJ,OAAUA,EAAE,GAAKtW,EAAE,MAErBuW,EAAeL,EAClBpV,KAAI,SAACqV,GAAD,OAAkBhC,EAASgC,MAC/B3U,QAAO,SAACgV,GAAD,OAAOA,EAhBO,IAgBHtB,KACrB,GAAIqB,EAAahS,OAAS,EAAG,CAC3B,IAAMkS,EAAiBlD,EAAM0B,IAAIsB,GACjCH,EAAY3M,KAAK,CAAC,SAAUgN,IAG9B,OACE,sBAAKX,UAAU,iBAAf,UACE,gCACE,gCACGM,EAAYtV,KAAI,WAEf4V,GACC,IAAD,mBAFCP,EAED,KAFeQ,EAEf,KACMC,EAAgB,CACpBC,WAAYjD,GAAKyB,iBAAiBc,IAEpC,OACE,+BACE,6BACE,qBAAKL,UAAU,YAAYlT,MAAOgU,MAEpC,6BAAKnV,EAAQkE,YAAYwQ,KACzB,oBAAIL,UAAU,YAAd,SACGrU,EAAQqV,UAAUH,KAErB,oBAAIb,UAAU,YAAd,SACGrU,EAAQsV,cAAcJ,EAAgBzB,OAT3C,UAAYwB,EAAZ,YAA6BP,WAgBrC,cAAC,GAAD,CAAYN,OAAQA,O,aClDpBmB,I,MAAiB,aAAIC,MADP,GAC0BpW,QAAQC,KACpD,SAACS,GAAD,OAAOA,EAAC,MAGK,SAAS2V,GAAW7O,GACjC,IACI8O,EADIlW,EAAqCoH,EAArCpH,SAAUmW,EAA2B/O,EAA3B+O,YAAavD,EAAcxL,EAAdwL,UAE/B,GAAoB,QAAhBuD,EAAuB,CAGzBD,EAFiBtM,EAAagJ,GACAxI,mBAAmBzK,MAAM,KACzBE,KAAI,SAAC2T,GAAD,MAAe,CAC/C4C,MAAO5V,EAAQkE,YAAY8O,GAC3BrS,MAAOwR,GAAKyB,iBAAiBZ,GAC7B6C,QAAS,UAEN,CACL,IAAMC,EAAiBtW,EAASuU,MAAK,SAACxV,EAAGsW,GAAJ,OAAUtW,EAAE8U,OAASwB,EAAExB,UACtDW,EAAU8B,EAAehT,OAC/B4S,EAAiBH,GAAelW,KAAI,SAAU0W,GAC5C,IAAM7B,EAAS7S,UAAU2S,EAAU,GAAK+B,GAClClW,EAAOiW,EAAe5B,GAC5B,MAAO,CACL0B,MAAO5V,EAAQsV,cAAczV,EAAKwT,OAAQ,GAC1C1S,MAAOd,EAAKc,MACZkV,QAAShW,EAAKgW,YAKpB,OACE,sBAAKxB,UAAU,kBAAf,UACG,IACD,gCACE,gCACGqB,EAAerW,KAAI,WAElB2W,GACC,IAFCJ,EAEF,EAFEA,MAGIT,EAAgB,CACpBc,gBAFF,EAFStV,MAKPkV,QAHF,EAFgBA,SAOhB,OACE,+BACE,6BACE,qBAAKxB,UAAU,YAAYlT,MAAOgU,MAEpC,oBAAId,UAAU,WAAd,SAA0BuB,MAJ5B,yBAA2BI,c,aC5CpBE,I,wDACnB,WAAYtP,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAExD,SAAKpC,GAFH,E,4FAKnB,8BAAA1C,EAAA,6DACUqE,EAAUkE,KAAKF,MAAfhE,MADV,SAEoBD,EAAKwT,OAAOvT,GAFhC,OAEQS,EAFR,OAGEyD,KAAKI,SAAS,CAAE7D,QAHlB,gD,0EAMA,WACE,IAAQT,EAAUkE,KAAKF,MAAfhE,MACAS,EAAQyD,KAAKD,MAAbxD,IACFL,EAAUL,EAAKmB,WAAWlB,GAChC,OAAKS,EAIH,sBAAKgR,UAAU,eAAf,UACE,qBAAKA,UAAU,eAAf,SAA+B1R,EAAKyT,mBAAmBpT,KACvD,qBAAKqR,UAAU,eAAf,SAA+BhR,EAAIgT,UAL9B,qBAAKhC,UAAU,aAAf,SAA6BzR,Q,GAjBL0E,cCQ/BgP,I,MAAwB,CAC5B3V,MAAO,QACP4V,UAAW,MACXhO,YAAa,GACbiO,OAAQ,IAGV,SAASC,GAASjW,GAChB,OAAO9C,KAAKC,MAAMD,KAAKI,UAAU0C,I,IAGdkW,G,kDACnB,WAAY9P,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAE8P,aAAS1V,EAAWoC,SAAKpC,GAFvB,E,4FAKnB,gCAAA1C,EAAA,6DACEuI,KAAKC,oBAAqB,EAClBzB,EAAawB,KAAKF,MAAlBtB,SAFV,SAGwBD,EAAQE,gBAAgBD,GAHhD,cAGQqR,EAHR,gBAIoBhU,EAAKwT,OAAO7Q,GAJhC,OAIQjC,EAJR,OAMMyD,KAAKC,oBACPD,KAAKI,SAAS,CAAEyP,UAAStT,QAP7B,gD,wFAWA,WACEyD,KAAKC,oBAAqB,I,oBAG5B,WACE,IAAQ4P,EAAY7P,KAAKD,MAAjB8P,QACR,IAAKA,EACH,MAAO,MAGT,MAAiE7P,KAAKF,MAA9D7D,EAAR,EAAQA,WAAYuC,EAApB,EAAoBA,SAAUsR,EAA9B,EAA8BA,QAASC,EAAvC,EAAuCA,aAAc/Q,EAArD,EAAqDA,QAE/CgR,EAAc,CAClBC,KAAM,eACNC,YAAaL,GAGXM,EAAa,KACXC,EAAgBxU,EAAgBK,GACtC,GAAImU,EAAe,CACjB,IAAMC,EAAoB3U,EAAsB0U,GAIhDD,EACE,sBAAK5C,UAAU,WAAWuC,QAJP,WACnBA,EAAQ7T,EAAYuC,IAGpB,iBAEE,4CAAa6R,EAAb,UAKN,IAAIhW,EAAQsV,GAASH,IACjBxP,KAAKF,MAAMjG,QACbQ,EAAMoV,UAAYzP,KAAKF,MAAMjG,OAE3BmG,KAAKF,MAAMiP,UACb1U,EAAMoH,YAAczB,KAAKF,MAAMiP,SAGjC,IAAIuB,EAAaX,GAASH,IAG1B,OAFAc,EAAWb,UAAY,QAGrB,qCACE,cAACc,GAAA,EAAD,CACEhD,UAAU,UAEVxU,KAAMiX,EACN3V,MAAOiW,GAJT,kBAEkB9R,EAFlB,WAMA,cAAC+R,GAAA,EAAD,CACEhD,UAAU,UAEVxU,KAAMiX,EACN3V,MAAOA,EAJT,SAME,eAAC0H,EAAA,EAAD,WACE,6BACE,cAAC,GAAD,CAASjG,MAAO0C,MAEjB2R,EACD,uBACCJ,EAAavR,EAAUQ,OAZ5B,kBAEkBR,W,GAtEagC,aCVlBgQ,I,8MAiFnB,gDAAA/Y,EAAA,+DAC8CuI,KAAKF,MAAzC5C,EADV,EACUA,gBAAiBuT,EAD3B,EAC2BA,eACnBnF,EAAYtL,KAAK0Q,YAAYC,eAC7B9B,EAAc7O,KAAK0Q,YAAYE,iBAHvC,SAIyB/U,EAAKgV,YAAYJ,EAAgBvT,GAJ1D,cAIQ4T,EAJR,gBAK2BzF,GAAK0F,cAAczF,GAL9C,cAKQK,EALR,OAOQqF,EAAgBF,EACnBvY,KAAI,SAAC0Y,GAAD,OAAatF,EAAWsF,MAC5BhY,QAAO,SAAC6U,GAAD,YAAa3T,IAAN2T,KAGG,QAAhBe,IACIqC,EAAmBrC,EACzB1B,EAAgB9B,GAAK8F,iBAAiBH,EAAeE,IAGjDxY,EAAWoY,EACdvY,KAAI,SAAU0Y,GACb,IAAMrF,EAAWD,EAAWsF,GAC5B,GAAKrF,EAAL,CAGA,IAAI/R,EACAkV,EACAxC,EACJ,GAAoB,QAAhBsC,EACFhV,EAAQwR,GAAK+F,iBAAiBxF,GAC9BmD,EAAU,OACL,CACL,IAAMmC,EAAmBrC,EACzBhV,EAAQwR,GAAKyB,iBAAiBoE,GAC9B3E,EAASlB,GAAK2B,aAAapB,EAAUsF,GAErCnC,EAAe,GADD5B,EAAcZ,GApHlB,GAwHZ,MAAO,CACL/N,SAAUyS,EACVhV,WAAYiB,EACZwQ,WAAY9B,EACZ/R,QACAkV,UACAxC,cAGHtT,QAAO,SAACF,GAAD,YAAmBoB,IAATpB,GAAkD,MAA5BA,EAAKyF,SAAS7F,OAAO,MA9CjE,kBA+CSD,GA/CT,iD,2EAkDA,SAAQuD,EAAYuC,GAClBwB,KAAKI,SACH,CACEqQ,eAAgBjS,EAChB6S,iBAAkBpV,GAEpB,cAAAxE,EAAA,kCAAAA,EAAA,sEACyBuI,KAAKG,cAD9B,OACQzH,EADR,OAEEsH,KAAKI,SAAS,CAAE1H,aAFlB,gDAGE4Y,KAAKtR,S,4BAIX,WACE,IAAQtH,EAAasH,KAAKD,MAAlBrH,SACF6Y,EAAY7Y,EAASI,QAAO,SAAUyY,EAAWxY,GAErD,OADAwY,EAAUxY,EAAKyF,UAAYzF,EACpBwY,IACN,IACGjE,EAAStN,KAAK0Q,YAAYc,YAE1BzB,EAAe,SAAUvR,EAAUQ,GACvC,IAAMjG,EAAOwY,EAAU/S,GACvB,OAAO,cAAC,GAAD,CAAWzF,KAAMA,EAAMuU,OAAQA,KAGxC,OAAO5U,EAASH,IACd,WAAgEyG,GAAU,IAA9D/C,EAA6D,EAA7DA,WAAYuC,EAAiD,EAAjDA,SAAU3E,EAAuC,EAAvCA,MAAOkV,EAAgC,EAAhCA,QAAgC,EAAvBrB,WAChD,OACE,cAAC,GAAD,CAEEzR,WAAYA,EACZuC,SAAUA,EACVsR,QAAS9P,KAAK8P,QAAQwB,KAAKtR,MAC3BnG,MAAOA,EACPkV,QAASA,EACTgB,aAAcA,EACd/Q,QAASA,GARX,qBACqBR,KAUvB8S,KAAKtR,S,0BAIX,WACE,IAAQtH,EAAasH,KAAKD,MAAlBrH,SACR,OACE,cAAC,GAAD,CACEA,SAAUA,EACV4S,UAAWtL,KAAK0Q,YAAYC,eAC5B9B,YAAa7O,KAAK0Q,YAAYE,sB,2BApLpC,WACE,MAAO,K,4BAGT,WACE,MAAO,K,uBAGT,WACE,IAAMtF,EAAYtL,KAAK2Q,eACvB,OAAIrF,EAAUnO,SAAS,UACd,gCAELmO,EAAUnO,SAAS,YACd,+BAEF,K,yBAGT,WACE,OAAOmF,EAAatC,KAAK2Q,kB,sBAG3B,WACE,IAAMrF,EAAYtL,KAAK2Q,eACjB9B,EAAc7O,KAAK4Q,iBACnBa,EACY,QAAhB5C,EAAwB,eAAiBA,EAC3C,EAAyBvD,EAAUjT,MAAM,KAAKqZ,OAAO,EAAG,GAAxD,mBAAOC,EAAP,KAAeC,EAAf,KACMC,EAAcF,EAAOtZ,MAAM,KAKjC,OAJgBa,EAAQkE,YAAYyU,EAAYC,UAAU9Z,KAAK,MAC/CkB,EAAQkE,YAAYwU,GACb1Y,EAAQkE,YAAYqU,K,yBAK7C,WACE,IAAMnG,EAAYtL,KAAK2Q,eACjB9B,EAAc7O,KAAK4Q,iBACnBa,EACY,QAAhB5C,EAAwB,eAAiBA,EAC3C,EAAyBvD,EAAUjT,MAAM,KAAKqZ,OAAO,EAAG,GAAxD,mBAAOC,EAAP,KAAeC,EAAf,KACMC,EAAcF,EAAOtZ,MAAM,KAC3B0Z,EAAU7Y,EAAQkE,YAAYyU,EAAYC,UAAU9Z,KAAK,MACzDga,EAAU9Y,EAAQkE,YAAYwU,GAC9BK,EAAiB/Y,EAAQkE,YAAYqU,GAE3C,OACE,gCACE,qBAAKlE,UAAU,iBAAf,SAAiCwE,EAAU,MAAQC,IACnD,qBAAKzE,UAAU,yBAAf,SAAyC0E,S,6BAK/C,WACE,OAAOjS,KAAK2Q,iB,4BAGd,WACE,MAAkB3Q,KAAK2Q,eAAetY,MAAM,KAAKM,MAAM,EAAG,GAAnDuZ,EAAP,oBACA,MAAgB,YAAZA,EACK,CACLrX,EAAIE,SACJF,EAAIG,SACJH,EAAII,IACJJ,EAAIK,IACJL,EAAIO,GACJP,EAAIM,GACJN,EAAIQ,IACJR,EAAIS,IAGQ,eAAZ4W,EACK,CAACrX,EAAIE,SAAUF,EAAIO,GAAIP,EAAIM,IAE7B,O,GA9E4B0E,ICXjCsS,GAAwB,CAAC,OCAzBC,G,0FDGJ,SAAa9G,EAAWuD,GAUtB,OATe,uKACb,WACE,OAAOvD,IAFI,4BAKb,WACE,OAAOuD,MANI,GAAiB2B,M,oBAYlC,WACE,OAAOnO,EAAYvJ,QAAO,SAAUuZ,EAAe/G,GACjD,IACMgH,EADWhQ,EAAagJ,GACAxI,mBAAmBzK,MAAM,KACvD,MAAO,GACJka,OAAOJ,GAAuBG,GAC9BxZ,QAAO,SAAUuZ,EAAexD,GAC/B,IAAM2D,EAAYC,EAAiBC,MAAMpH,EAAWuD,GAEpD,OADAwD,EAAcnR,KAAKsR,GACZH,IACNA,KACJ,Q,KC3BmCM,SAE7BC,GAAgB,GAAGL,OAAO,CAAC9R,GAAoB2R,IAE/CS,GAAsBD,GAAc9Z,QAAO,SACtD+Z,EACAC,GAGA,OADAD,EAAoBC,EAAWC,mBAAqBD,EAC7CD,IAET,IAEaG,GAAyBJ,GAAc,GAAGG,kB,MCZxC,SAASE,GAAiBnT,GACvC,IAAQoT,EAAwDpT,EAAxDoT,mBAAoBC,EAAoCrT,EAApCqT,mBAEtBC,EAF0DtT,EAAhBuT,YAEd9a,KAAI,SAAU0D,GAC9C,IAAMqX,EAAazX,EAAK0X,cAActX,GAKhCsR,EACJ,+BACCtR,IAAeiX,EACZ,wCACA,IACN,OACE,qBAEE3F,UAAWA,EACXuC,QAbY,SAAUlO,GACxBuR,EAAmBlX,IASnB,mBAKMqX,IALN,kCACkCrX,OAQtC,OACE,sBAAKsR,UAAU,yBAAf,UACE,sBAAMA,UAAU,8BAAhB,iBACC6F,K,UC5BcI,G,kDACnB,WAAY1T,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAE0T,WAAW,GAFT,E,0CAKnB,WACE,IAUIC,EAVID,EAAczT,KAAKD,MAAnB0T,UAEFE,EAAc,SAAU/R,GAC5B5B,KAAKI,SAAS,CAAEqT,WAAW,KAC3BnC,KAAKtR,MAED4T,EAAc,SAAUhS,GAC5B5B,KAAKI,SAAS,CAAEqT,WAAW,KAC3BnC,KAAKtR,MAuBP,OAnBE0T,EADED,EAEA,gCACE,qBAAKlG,UAAU,WAAWuC,QAAS8D,EAAnC,kBAGC5T,KAAKF,MAAM+T,YAKd,8BACE,sBAAKtG,UAAU,WAAWuC,QAAS6D,EAAnC,UACG,IACA3T,KAAKF,MAAMgP,WAMb,qBAAKvB,UAAU,gBAAf,SAAgCmG,Q,GAtCLlT,aCIjBsT,I,kKACnB,WACE,MAAgD9T,KAAKF,MAA7CiU,EAAR,EAAQA,qBAAsBC,EAA9B,EAA8BA,cAmB9B,IAAMC,EAAerB,GAAc3F,MAAK,SAAUxV,EAAGsW,GACnD,OAAOtW,EAAE8I,WAAW2T,cAAcnG,EAAExN,eAGtC,OACE,cAAC,GAAD,CAAUuO,MAAM,SAAhB,SACE,qBAAKvB,UAAU,qBAAf,SACG0G,EAAa1b,KAxBpB,SAAqBua,EAAYqB,GAC/B,IAAMC,EAAgBtB,EAAWuB,cAK7B9G,EAAY,YAIhB,OAHIwG,EAAqB5W,SAAS2V,KAChCvF,GAAa,uBAGb,qBAAKA,UAAWA,EAAgCuC,QATlC,SAAUlO,GACxBoS,EAAclB,IAQd,SACGsB,GADH,aAAsCD,e,GAfH3T,cCGtB8T,I,wDACnB,WAAYxU,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAEwU,qBAAsB,IAFpB,E,0CAInB,WACE,IAAQA,EAAyBvU,KAAKD,MAA9BwU,qBACR,EAMIvU,KAAKF,MALPkU,EADF,EACEA,cACAb,EAFF,EAEEA,mBACAY,EAHF,EAGEA,qBACA7W,EAJF,EAIEA,gBAIIsX,EAAgBT,EAAqBxb,KAAI,SAACua,GAAD,OAC7CA,EAAWuB,iBAGP/G,EAASyG,EAAqBxb,KAAI,SAACua,GAAD,OACtCA,EAAWtB,eAIP6B,EADaU,EAAqB,GACTU,iBACzBC,EAAuBrB,EAAYrX,OAAS,EAGlD,OACE,gCACE,qBAAKuR,UAAU,iBAAf,SACE,cAAC,GAAD,CACEgH,qBAAsBA,EACtBR,qBAAsBA,EACtBC,cAAeA,MAGnB,sBAAKzG,UAAU,mBAAf,UACE,cAAC,GAAD,CAAYD,OAAQA,IACpB,qBAAKC,UAAU,kBAAf,SAAkCiH,IACjCE,EACC,cAAC,GAAD,CACEvB,mBAAoBA,EACpBD,mBAAoBhW,EACpBmW,YAAaA,IAEb,e,GA9C6B7S,c,oCCV5B,I,MAAA,s1PCcf,SAASmU,GAAe7U,GAMtB,OALA8U,aAAa,CACXC,QAAS,SAACjT,GACR9B,EAAMgV,UAAUlT,MAGb,K,IAGYmT,G,4JACnB,WACE,MAAoC/U,KAAKF,MAAjCuB,EAAR,EAAQA,OAAQ9D,EAAhB,EAAgBA,KAAMuX,EAAtB,EAAsBA,UACtB,OACE,eAACE,GAAA,EAAD,CAAc3T,OAAQA,EAAQ9D,KAAMA,EAAM0X,aAAa,EAAvD,UACE,cAACC,GAAA,EAAD,CAAW1d,IAhBA,uDAiBX,cAACmd,GAAD,CAAgBG,UAAWA,IAC3B,cAACK,GAAA,EAAD,CAAa5X,KAAMA,EAAMuD,SAAS,gBACjCd,KAAKF,MAAM+T,SACZ,qBACEtG,UAAU,wBACV6H,IAAKC,GACLC,IAAK,qB,GAZqB9U,aCNf+U,I,wDACnB,WAAYzV,GAAQ,IAAD,sBAGjB,IAAM0V,GAFN,cAAM1V,IAEoBA,MAAM2V,MAAMC,OAAOF,aAE7C,ExBPG,SAA4BG,GACjC,MAAkCA,EAAYtd,MAAM,KAApD,mBAAOud,EAAP,KAAeC,EAAf,KAAuBC,EAAvB,KAIA,MAAO,CAAEtY,IAHG8B,WAAWsW,EAAOnd,QAAQ,IAAK,KAG7BgF,IAFF6B,WAAWuW,EAAOpd,QAAQ,IAAK,KAExB8E,KADNhD,SAASub,EAAQrd,QAAQ,IAAK,MwBGdsd,CADT,EAAKjW,MAAM2V,MAAMC,OAAOM,WAClCxY,EAAR,EAAQA,IAAKC,EAAb,EAAaA,IAAKF,EAAlB,EAAkBA,KALD,OAOjB,EAAKwC,MAAQ,CACXyV,eACAzB,qBAAsB,CAAClB,GAAoB2C,IAC3CnU,OAAQ,CAAC7D,EAAKC,GACdwY,eAAgB,CAACzY,EAAKC,GACtBF,KAAMA,EACNL,gBAAiB,KACjBmU,iBAAkB,UAClBZ,eAAgB,MAfD,E,oFAmBnB,WAAgB7O,GAAhB,yBAAAnK,EAAA,sDACQye,EAAYtU,EAAEC,OAAOsU,YACrBC,EAAUxU,EAAEC,OAAOwU,UACnBC,EAAYpX,EAAY,CAACgX,EAAU1Y,IAAK0Y,EAAUzY,MAElD8Y,EAAgBjZ,EAAiBgZ,EAAWF,GAC5CZ,EAAexV,KAAKD,MAAMyV,aAC1BgB,EAPR,qBAO+BhB,EAP/B,YAO+Ce,GAC7CE,OAAOC,QAAQC,UAAU,GAAI,KAAMH,GAEnCxW,KAAKI,SAAS,CACZ7C,KAAM6Y,EACN/U,OAAQiV,IAZZ,gD,qFAgBA,SAAiB1U,GxB7BZ,IAA0BgV,IwB+B3B,SAAUzX,GACRa,KAAKI,SAAS,CACZiB,OAAQlC,EACR8W,eAAgB9W,EAChB5B,KxBtDkB,KwBwDpB+T,KAAKtR,MxBpCP6W,UAAUC,YACZD,UAAUC,YAAYC,oBAAmB,SAAUjW,GACjD8V,EAAS,CAAC9V,EAASkW,OAAOC,SAAUnW,EAASkW,OAAOE,eAGtDN,EAASvZ,K,2BwBmCX,SAAc8Z,GACZ,IAAM3B,EAAe2B,EAAmBpE,kBAClCwD,EAAgBjZ,EAAiB0C,KAAKD,MAAMsB,OAAQrB,KAAKD,MAAMxC,MAC/DiZ,EAAM,qBAAiBhB,EAAjB,YAAiCe,GAC7CE,OAAOC,QAAQC,UAAU,GAAI,KAAMH,GAEnCxW,KAAKI,SAAS,CACZ2T,qBAAsB,CAACoD,O,gCAI3B,SAAmBlb,GACjB+D,KAAKI,SAAS,CAAElD,gBAAiBjB,M,oBAGnC,WACE,MAQI+D,KAAKD,MAPPgU,EADF,EACEA,qBACA1S,EAFF,EAEEA,OACA4U,EAHF,EAGEA,eACA1Y,EAJF,EAIEA,KACAL,EALF,EAKEA,gBACAuT,EANF,EAMEA,eACAY,EAPF,EAOEA,iBAGF,OACE,qCACE,qBAAK9D,UAAU,YAAf,SACE,qBACEA,UAAU,gBACV6H,IAAKC,GACLC,IAAI,YACJxF,QAAS9P,KAAKoX,iBAAiB9F,KAAKtR,UAGxC,cAAC,GAAD,CACEgU,cAAehU,KAAKgU,cAAc1C,KAAKtR,MACvCmT,mBAAoBnT,KAAKmT,mBAAmB7B,KAAKtR,MACjD+T,qBAAsBA,EACtB7W,gBAAiBA,EACjBuT,eAAgBA,IAElB,cAAC,GAAD,CAEEpP,OAAQA,EACR9D,KAAMA,EACNuX,UAAW9U,KAAK8U,UAAUxD,KAAKtR,MAJjC,SAMG+T,EAAqBxb,KAAI,SACxB8e,EACAC,GAEA,OACE,cAACD,EAAD,CAEEhW,OAAQA,EACRnE,gBAAiBA,EACjBuT,eAAgBA,EAChBY,iBAAkBA,GALpB,6BAC6BiG,QAZnC,iBACiBrB,EADjB,YACmC/Y,W,GA5FLsD,c,MCYvB+W,OAdf,WACE,IAAMvB,EzBPC1Y,EAAiBD,EAJE,GyBY1B,OACE,cAAC,IAAD,CAAQma,SAAS,aAAjB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,4BAA4BC,UAAWnC,KACnD,cAAC,IAAD,UACE,cAAC,IAAD,CAAUoC,GAAE,WAAM3E,GAAN,YAAgCgD,aCVvC4B,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1Bb,O","file":"static/js/main.2652a4f1.chunk.js","sourcesContent":["export default class Cache {\n  static async get(cacheKey, asyncFallback) {\n    const hotItem = localStorage.getItem(cacheKey);\n    if (hotItem) {\n      return JSON.parse(hotItem);\n    }\n\n    const coldItem = await asyncFallback();\n    try {\n      localStorage.setItem(cacheKey, JSON.stringify(coldItem));\n    } catch (QuotaExceededError) {\n      localStorage.clear();\n    }\n    return coldItem;\n  }\n}\n","import Cache from \"./Cache.js\";\n\nconst CACHE_VERSION = \"v20210823\";\n\nconst JSON_HEADERS = {\n  headers: {\n    Accept: \"application/json\",\n  },\n};\n\nconst TSV_HEADERS = {\n  headers: {\n    Accept: \"text/csv\",\n  },\n};\n\nasync function jsonNonCache(url) {\n  const response = await fetch(url, JSON_HEADERS);\n  const dataJson = await response.json();\n  return dataJson;\n}\n\nexport default class WWW {\n  static pathJoin(pathFragmentList) {\n    return pathFragmentList.join(\"/\");\n  }\n\n  static async json(url) {\n    return Cache.get(`WWW.json.${CACHE_VERSION}.${url}`, async function () {\n      return jsonNonCache(url);\n    });\n  }\n\n  static async tsv(url) {\n    const response = await fetch(url, TSV_HEADERS);\n    const content = await response.text();\n    const lines = content.split(\"\\n\");\n    const keys = lines[0].split(\"\\t\").map((key) => key.replace(\"\\r\", \"\"));\n    const dataList = lines\n      .slice(1, -1)\n      .map(function (line) {\n        const values = line.split(\"\\t\");\n        return keys.reduce(function (data, key, i) {\n          data[key] = values[i].replace(\"\\r\", \"\");\n          return data;\n        }, {});\n      })\n      .filter((data) => data);\n    return dataList;\n  }\n}\n","const MAX_SIG_DIGITS = 2;\n\nexport default class StringX {\n  static toTitleCase(str) {\n    if (str === str.toUpperCase()) {\n      return str;\n    }\n    str = str.replaceAll(\"_\", \" \");\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n    });\n  }\n\n  static formatInt(x) {\n    const logBase1000 = Math.log(x) / Math.log(1000);\n\n    let numPart, multPart, color;\n    if (x > 1_000_000) {\n      numPart = Number(x / 1_000_000).toLocaleString(undefined, {\n        maximumSignificantDigits: MAX_SIG_DIGITS,\n      });\n      multPart = \"M\";\n      color = \"black\";\n    } else if (x > 1_000) {\n      numPart = Number(x / 1_000).toLocaleString(undefined, {\n        maximumSignificantDigits: MAX_SIG_DIGITS,\n      });\n      multPart = \"K\";\n      color = \"gray\";\n    } else {\n      numPart = Number(x).toLocaleString(undefined, {\n        maximumSignificantDigits: MAX_SIG_DIGITS,\n      });\n      multPart = \"\";\n      color = \"lightgray\";\n    }\n\n    const style = {\n      fontSize: parseInt(logBase1000 * 100) + \"%\",\n      color,\n    };\n\n    return (\n      <span style={style}>\n        {numPart}\n        {multPart}\n      </span>\n    );\n  }\n\n  static formatPercent(numerator, denominator) {\n    const p = numerator / denominator;\n    const pFontSize = Math.pow(p, 0.01);\n\n    let numPart = Number(p).toLocaleString(undefined, {\n      style: \"percent\",\n      maximumSignificantDigits: MAX_SIG_DIGITS,\n    });\n\n    let color;\n    if (p > 0.1) {\n      color = \"black\";\n      // } else if (p > 0.01) {\n      //   color = \"gray\";\n    } else {\n      color = \"lightgray\";\n      // numPart = \"<1%\";\n    }\n\n    const style = {\n      fontSize: parseInt(pFontSize * 100) + \"%\",\n      color: color,\n    };\n\n    return <span style={style}>{numPart}</span>;\n  }\n}\n","import StringX from \"./StringX.js\";\nimport WWW from \"./WWW.js\";\n\nexport const ENT = {\n  COUNTRY: \"country\",\n  PROVINCE: \"province\",\n  DISTRICT: \"district\",\n  DSD: \"dsd\",\n  GND: \"gnd\",\n  PD: \"pd\",\n  ED: \"ed\",\n  MOH: \"moh\",\n  LG: \"lg\",\n  UNKNOWN: \"unknown-entity\",\n};\n\nexport const REGION_TYPES = Object.values(ENT);\n\nexport const ENT_TYPE_TO_LONG_NAME = {\n  [ENT.Country]: \"Country\",\n  [ENT.PROVINCE]: \"Province\",\n  [ENT.DISTRICT]: \"District\",\n  [ENT.DSD]: \"Divisional Secretariat Division\",\n  [ENT.GND]: \"Grama Niladhari Division\",\n  [ENT.PD]: \"Polling Division\",\n  [ENT.ED]: \"Electoral District\",\n  [ENT.MOH]: \"Medical Officer of Health Area\",\n  [ENT.LG]: \"Local Authority Area\",\n};\n\nexport const PARENT_TO_CHILD = {\n  [ENT.COUNTRY]: ENT.PROVINCE,\n  [ENT.PROVINCE]: ENT.DISTRICT,\n  [ENT.DISTRICT]: ENT.DSD,\n  [ENT.DSD]: ENT.GND,\n  [ENT.GND]: undefined,\n  [ENT.PD]: undefined,\n  [ENT.ED]: [ENT.PD],\n};\n\nexport default class Ents {\n  static getEntType(entID) {\n    if (entID.substring(0, 2) === \"LK\") {\n      const entIDLength = entID.length;\n      switch (entIDLength) {\n        case 2:\n          return ENT.COUNTRY;\n        case 4:\n          return ENT.PROVINCE;\n        case 5:\n          return ENT.DISTRICT;\n        case 7:\n          return ENT.DSD;\n        case 10:\n          return ENT.GND;\n        default:\n          return ENT.UNKNOWN;\n      }\n    }\n    if (entID.substring(0, 2) === \"EC\") {\n      const entIDLength = entID.length;\n      switch (entIDLength) {\n        case 5:\n          return ENT.ED;\n        case 6:\n          return ENT.PD;\n        default:\n          return ENT.UNKNOWN;\n      }\n    }\n\n    if (entID.substring(0, 2) === \"LG\") {\n      return ENT.LG;\n    }\n\n    if (entID.substring(0, 3) === \"MOH\") {\n      return ENT.MOH;\n    }\n    return ENT.UNKNOWN;\n  }\n  static getRegionName(regionType) {\n    return ENT_TYPE_TO_LONG_NAME[regionType];\n  }\n  static async getEntsByType(entType) {\n    const url = `/metaverse/data/ents/${entType}.tsv`;\n    return await WWW.tsv(url);\n  }\n\n  static async getEntIndexByType(entType) {\n    const ents = await Ents.getEntsByType(entType);\n    return ents.reduce(function (entIndex, ent) {\n      entIndex[ent.id] = ent;\n      return entIndex;\n    }, {});\n  }\n\n  static async getAllEntIndex() {\n    const entTypes = REGION_TYPES;\n    const entIndexList = await Promise.all(\n      entTypes.map(async function (entType) {\n        return await Ents.getEntIndexByType(entType);\n      })\n    );\n\n    return entTypes.reduce(function (allEntIndex, entType, iEnt) {\n      allEntIndex[entType] = entIndexList[iEnt];\n      return allEntIndex;\n    }, {});\n  }\n\n  static async getEnt(entID) {\n    const entType = Ents.getEntType(entID);\n    const entIndex = await Ents.getEntIndexByType(entType);\n    let ent = entIndex[entID];\n    if (ent[\"centroid\"]) {\n      ent[\"centroid\"] = JSON.parse(ent[\"centroid\"]);\n    }\n    return ent;\n  }\n\n  static async getParentToChildMap() {\n    const url = `data/ents/parent_to_child_map.json`;\n    return await WWW.json(url);\n  }\n\n  static async getChildIDs(parentID, childRegionType) {\n    const ents = await Ents.getEntsByType(childRegionType);\n    return ents\n      .map((ent) => ent.id)\n      .filter((entID) => entID.includes(parentID) || parentID === \"LK\");\n  }\n\n  static getEntTypeLongName(entType) {\n    return ENT_TYPE_TO_LONG_NAME[entType]\n      ? ENT_TYPE_TO_LONG_NAME[entType]\n      : StringX.toTitleCase(entType);\n  }\n}\n","import WWW from \"./WWW.js\";\nimport Ents from \"./Ents.js\";\n\nimport { REGION_TYPES } from \"./Ents.js\";\n\nexport const DEFAULT_ZOOM = 8;\nexport const DEFAULT_LATLNG = [7.836173, 80.403442];\n\nexport function getDefaultLatLngZoomStr() {\n  return getLatLngZoomStr(DEFAULT_LATLNG, DEFAULT_ZOOM);\n}\n\nexport function getLatLngZoomStr([lat, lng], zoom) {\n  return `${lat}N,${lng}E,${zoom}z`;\n}\n\nexport function parseLatLngZoomStr(locationStr) {\n  const [latStr, lngStr, zoomStr] = locationStr.split(\",\");\n  const lat = parseFloat(latStr.replace(\"N\", \"\"));\n  const lng = parseFloat(lngStr.replace(\"E\", \"\"));\n  const zoom = parseInt(zoomStr.replace(\"z\", \"\"));\n  return { lat, lng, zoom };\n}\n\nexport function getBrowserLatLng(callback) {\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      callback([position.coords.latitude, position.coords.longitude]);\n    });\n  } else {\n    callback(DEFAULT_LATLNG);\n  }\n}\n\nfunction isPointInPolygon(point, polygon) {\n  const [y, x] = point;\n  let nIntersects = 0;\n  for (let i in polygon) {\n    const j = (i - 1 + polygon.length) % polygon.length;\n\n    const [xi, yi] = polygon[i];\n    const [xj, yj] = polygon[j];\n\n    // eslint-disable-next-line no-mixed-operators\n    const a = yi > y !== yj > y;\n    // eslint-disable-next-line no-mixed-operators\n    const b = x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\n\n    const intersect = a && b;\n    if (intersect) {\n      nIntersects += 1;\n    }\n  }\n  return nIntersects % 2 === 1;\n}\n\nfunction isPointInMultiMultiPolygon(point, multiMultiPolygon) {\n  for (let i in multiMultiPolygon) {\n    const multiPolygon = multiMultiPolygon[i];\n    for (let j in multiPolygon) {\n      const polygon = multiPolygon[j];\n      if (isPointInPolygon(point, polygon)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nexport default class GeoData {\n  static async getGeoForRegion(regionID) {\n    const regionType = Ents.getEntType(regionID);\n    const url = `/metaverse/data/geo/${regionType}/${regionID}.json`;\n    return await WWW.json(url);\n  }\n\n  static async getRegionTree() {\n    const url = `/metaverse/data/geo/region_tree.json`;\n    return await WWW.json(url);\n  }\n\n  static async isPointInRegion(point, regionID) {\n    const multiPolygon = await GeoData.getGeoForRegion(regionID);\n    return isPointInMultiMultiPolygon(point, multiPolygon);\n  }\n\n  static async getRegionsForPoint(point) {\n    let regionTree = await GeoData.getRegionTree();\n\n    let regionMap = {};\n\n    for (let iRegionType in REGION_TYPES) {\n      const regionType = REGION_TYPES[iRegionType];\n      const regionIDs = Object.keys(regionTree);\n      let isFoundRegion = false;\n      for (let iRegion in regionIDs) {\n        const regionID = regionIDs[iRegion];\n        const _isPointInRegion = await GeoData.isPointInRegion(point, regionID);\n        if (_isPointInRegion) {\n          regionMap[regionType] = regionID;\n          regionTree = regionTree[regionID];\n          isFoundRegion = true;\n        }\n      }\n      if (!isFoundRegion) {\n        break;\n      }\n    }\n    return regionMap;\n  }\n}\n\nexport function roundLatLng(latLng) {\n  const Q = 1000_000;\n  return latLng.map((x) => Math.round(parseFloat(x) * Q) / Q);\n}\n","export default class TimeX {\n  static getUnixTime() {\n    return Math.floor(Date.now() / 1000);\n  }\n\n  static getDate() {\n    return new Date().toISOString().slice(0, 10);\n  }\n\n  static getDateID() {\n    return TimeX.getDate().replaceAll(\"-\", \"\");\n  }\n}\n","import { Component } from \"react\";\n\nimport \"./AbstractLayer.css\";\n\nexport default class AbstractLayer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { dataList: undefined };\n  }\n\n  async getDataList() {\n    return [];\n  }\n\n  async componentDidMount() {\n    this.isComponentMounted = true;\n    await this.getDataListAndUpdateState();\n  }\n\n  async getDataListAndUpdateState() {\n    const dataList = await this.getDataList();\n    if (this.isComponentMounted) {\n      this.setState({ dataList });\n    }\n  }\n\n  componentWillUnmount() {\n    this.isComponentMounted = false;\n  }\n\n  static getLayerClassID() {\n    return \"abstract\";\n  }\n\n  static getLabel() {\n    return \"AbstractLayer\";\n  }\n\n  static getDisplayMode() {\n    return \"max\";\n  }\n\n  static getTableName() {\n    return \"\";\n  }\n\n  static isMatch(text) {\n    return this.getLabel().toLowerCase().includes(text.toLowerCase());\n  }\n\n  static getSource() {\n    return \"Source unknown\";\n  }\n\n  static getRegionTypes() {\n    return [];\n  }\n\n  renderDataList() {\n    return null;\n  }\n\n  renderLegend() {\n    return null;\n  }\n\n  render() {\n    const { dataList } = this.state;\n    if (!dataList) {\n      return null;\n    }\n    return (\n      <>\n        {this.renderDataList()}\n        {this.renderLegend()}\n      </>\n    );\n  }\n}\n","import WWW from \"../../../base/WWW.js\";\nimport TimeX from \"../../../base/TimeX.js\";\nimport { CircleMarker, Popup } from \"react-leaflet\";\nimport AbstractLayer from \"../AbstractLayer.js\";\n\nconst DEFAULT_CIRLE_RADIUS = 10;\n\nexport default class LKVaxCentersLayer extends AbstractLayer {\n  static getLayerClassID() {\n    return \"covid19_vax_centers\";\n  }\n\n  static getLabel() {\n    const date = TimeX.getDate();\n    return `COVID19 🦠 Vaccination Centers (${date})`;\n  }\n\n  static renderLabel() {\n    return this.getLabel();\n  }\n\n  static getSource() {\n    return \"https://www.presidentsoffice.gov.lk/\";\n  }\n\n  async getDataList() {\n    const dateID = TimeX.getDateID();\n    const url = WWW.pathJoin([\n      \"https://raw.githubusercontent.com\",\n      \"nuuuwan/covid19/data\",\n      `covid19.lk_vax_centers.${dateID}.tsv`,\n    ]);\n    return await WWW.tsv(url);\n  }\n\n  renderDataList() {\n    const { dataList } = this.state;\n\n    return dataList.map(function (data, iData) {\n      if (!data.lat) {\n        return null;\n      }\n      const position = [parseFloat(data.lat), parseFloat(data.lng)];\n\n      let color = \"green\";\n      if (data.tags) {\n        color = \"red\";\n      }\n\n      let renderedDoseInfo = [];\n      if (data.dose1) {\n        renderedDoseInfo.push(\"💉 1st Dose\");\n      }\n      if (data.dose2) {\n        renderedDoseInfo.push(\"💉 2nd Dose\");\n      }\n\n      const eventHandlers = {\n        mouseover: function (e) {\n          e.target.openPopup();\n        },\n      };\n\n      return (\n        <CircleMarker\n          key={`layer-data-${iData}`}\n          center={position}\n          radius={DEFAULT_CIRLE_RADIUS}\n          pathOptions={{ color: color, stroke: null, fillOpacity: 0.5 }}\n          eventHandlers={eventHandlers}\n        >\n          <Popup>\n            <h3>{data.center}</h3>\n            <address>{data.formatted_address}</address>\n            {renderedDoseInfo}\n            <hr />\n            <div>\n              <strong>{data.police}</strong> {\"Police Area, \"}{\" \"}\n              <strong>{data.district}</strong> District\n            </div>\n            <div>{data.tags}</div>\n            <div style={{ fontSize: \"70%\" }}>{data.fuzzy_key}</div>\n          </Popup>\n        </CircleMarker>\n      );\n    });\n  }\n}\n","export const TABLE_NAMES = [\n  // \"country.latest.basic\",\n  // \"district.latest.basic\",\n  // \"dsd.latest.basic\",\n  // \"ed.latest.basic\",\n  // \"gnd.latest.basic\",\n  // \"lg.latest.basic\",\n  // \"moh.latest.basic\",\n  // \"pd.1982_election_presidential.result\",\n  // \"pd.1988_election_presidential.result\",\n  // \"pd.1994_election_presidential.result\",\n  // \"pd.1999_election_presidential.result\",\n  // \"pd.2005_election_presidential.result\",\n  // \"pd.2010_election_presidential.result\",\n  // \"pd.2015_election_presidential.result\",\n  // \"pd.2019_election_presidential.result\",\n  // \"pd.latest.basic\",\n  // \"province.latest.basic\",\n  \"regions.2012_census.age_group_of_population\",\n  \"regions.2012_census.communication_items_owned_by_household\",\n  \"regions.2012_census.cooking_fuel_of_household\",\n  \"regions.2012_census.ethnicity_of_population\",\n  \"regions.2012_census.floor_type_in_housing_unit\",\n  \"regions.2012_census.gender_of_population\",\n  \"regions.2012_census.households_living_in_housing_unit\",\n  \"regions.2012_census.housing_ownership_status_of_household\",\n  \"regions.2012_census.lighting_of_household\",\n  \"regions.2012_census.living_quarters\",\n  \"regions.2012_census.marital_status_of_population\",\n  \"regions.2012_census.occupation_status_of_housing_units\",\n  \"regions.2012_census.persons_living_in_housing_unit\",\n  \"regions.2012_census.relationship_to_household_head_of_population\",\n  \"regions.2012_census.religious_affiliation_of_population\",\n  \"regions.2012_census.roof_type_in_housing_unit\",\n  \"regions.2012_census.rooms_in_housing_unit\",\n  \"regions.2012_census.solid_waste_disposal_by_household\",\n  \"regions.2012_census.source_of_drinking_water_of_household\",\n  \"regions.2012_census.structure_of_housing_units\",\n  \"regions.2012_census.toilet_facilities_of_household\",\n  \"regions.2012_census.total_population\",\n  \"regions.2012_census.type_of_housing_unit\",\n  \"regions.2012_census.wall_type_in_housing_units\",\n  \"regions.2012_census.year_of_construction_of_housing_unit\",\n  \"regions_ec.1982_election_presidential.result\",\n  \"regions_ec.1988_election_presidential.result\",\n  \"regions_ec.1994_election_presidential.result\",\n  \"regions_ec.1999_election_presidential.result\",\n  \"regions_ec.2005_election_presidential.result\",\n  \"regions_ec.2010_election_presidential.result\",\n  \"regions_ec.2015_election_presidential.result\",\n  \"regions_ec.2019_election_presidential.result\",\n];\n\nexport const METADATA_MAP = {\n  \"regions.2012_census.source_of_drinking_water_of_household\": {\n    file: \"regions.2012_census.source_of_drinking_water_of_household.tsv\",\n    table_name: \"regions.2012_census.source_of_drinking_water_of_household\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"source_of_drinking_water_of_household\",\n    n_data_list: 15204,\n    file_size: 1161688,\n    value_key_list_str:\n      \"bottled_water;bowser;other;protected_well_within_premises;rain_water;river_or_tank_or_stream;rural_water_projects;tap_within_unit_main_line;tube_well;unprotected_well\",\n  },\n  \"regions.2012_census.persons_living_in_housing_unit\": {\n    file: \"regions.2012_census.persons_living_in_housing_unit.tsv\",\n    table_name: \"regions.2012_census.persons_living_in_housing_unit\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"persons_living_in_housing_unit\",\n    n_data_list: 15204,\n    file_size: 1009983,\n    value_key_list_str:\n      \"10_or_more;1_person;2_persons;3_persons;4_persons;5_persons;6_persons;7_persons;8_persons;9_persons\",\n  },\n  \"regions_ec.2019_election_presidential.result\": {\n    file: \"regions_ec.2019_election_presidential.result.tsv\",\n    table_name: \"regions_ec.2019_election_presidential.result\",\n    space_id: \"regions_ec\",\n    time_id: \"2019_election_presidential\",\n    attr_id: \"result\",\n    n_data_list: 213,\n    file_size: 34807,\n    value_key_list_str: \"NDF;SLPP\",\n  },\n  \"regions_ec.1999_election_presidential.result\": {\n    file: \"regions_ec.1999_election_presidential.result.tsv\",\n    table_name: \"regions_ec.1999_election_presidential.result\",\n    space_id: \"regions_ec\",\n    time_id: \"1999_election_presidential\",\n    attr_id: \"result\",\n    n_data_list: 213,\n    file_size: 19604,\n    value_key_list_str: \"JVP;LDA;PA;UNP\",\n  },\n  \"pd.latest.basic\": {\n    file: \"pd.latest.basic.tsv\",\n    table_name: \"pd.latest.basic\",\n    space_id: \"pd\",\n    time_id: \"latest\",\n    attr_id: \"basic\",\n    n_data_list: 182,\n    file_size: 58027,\n    value_key_list_str: \"\",\n  },\n  \"gnd.latest.basic\": {\n    file: \"gnd.latest.basic.tsv\",\n    table_name: \"gnd.latest.basic\",\n    space_id: \"gnd\",\n    time_id: \"latest\",\n    attr_id: \"basic\",\n    n_data_list: 14021,\n    file_size: 2580047,\n    value_key_list_str: \"\",\n  },\n  \"regions_ec.2015_election_presidential.result\": {\n    file: \"regions_ec.2015_election_presidential.result.tsv\",\n    table_name: \"regions_ec.2015_election_presidential.result\",\n    space_id: \"regions_ec\",\n    time_id: \"2015_election_presidential\",\n    attr_id: \"result\",\n    n_data_list: 213,\n    file_size: 22881,\n    value_key_list_str: \"NDF;UPFA\",\n  },\n  \"regions_ec.1982_election_presidential.result\": {\n    file: \"regions_ec.1982_election_presidential.result.tsv\",\n    table_name: \"regions_ec.1982_election_presidential.result\",\n    space_id: \"regions_ec\",\n    time_id: \"1982_election_presidential\",\n    attr_id: \"result\",\n    n_data_list: 213,\n    file_size: 14444,\n    value_key_list_str: \"ACTC;JVP;LSSP;SLFP;UNP\",\n  },\n  \"regions.2012_census.occupation_status_of_housing_units\": {\n    file: \"regions.2012_census.occupation_status_of_housing_units.tsv\",\n    table_name: \"regions.2012_census.occupation_status_of_housing_units\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"occupation_status_of_housing_units\",\n    n_data_list: 15205,\n    file_size: 445615,\n    value_key_list_str: \"occupied;vacant\",\n  },\n  \"regions.2012_census.cooking_fuel_of_household\": {\n    file: \"regions.2012_census.cooking_fuel_of_household.tsv\",\n    table_name: \"regions.2012_census.cooking_fuel_of_household\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"cooking_fuel_of_household\",\n    n_data_list: 15204,\n    file_size: 689132,\n    value_key_list_str:\n      \"electricity;fire_wood;gas;kerosene;other;saw_dust_or_paddy_husk\",\n  },\n  \"regions.2012_census.gender_of_population\": {\n    file: \"regions.2012_census.gender_of_population.tsv\",\n    table_name: \"regions.2012_census.gender_of_population\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"gender_of_population\",\n    n_data_list: 15208,\n    file_size: 473971,\n    value_key_list_str: \"female;male\",\n  },\n  \"regions.2012_census.relationship_to_household_head_of_population\": {\n    file: \"regions.2012_census.relationship_to_household_head_of_population.tsv\",\n    table_name:\n      \"regions.2012_census.relationship_to_household_head_of_population\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"relationship_to_household_head_of_population\",\n    n_data_list: 15208,\n    file_size: 1205127,\n    value_key_list_str:\n      \"boarder;clergy;domestic_employee;grandchild_or_great_grand_child;head;non_relative;other_relative;son_or_daughter;wife_or_husband\",\n  },\n  \"regions.2012_census.structure_of_housing_units\": {\n    file: \"regions.2012_census.structure_of_housing_units.tsv\",\n    table_name: \"regions.2012_census.structure_of_housing_units\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"structure_of_housing_units\",\n    n_data_list: 15204,\n    file_size: 876749,\n    value_key_list_str:\n      \"attached_house_or_annex;condominium;flat;hut_or_shanty;row_house_or_line_room;single_house_double_floor;single_house_more_than_2_floors;single_house_single_floor;twin_house\",\n  },\n  \"regions.2012_census.religious_affiliation_of_population\": {\n    file: \"regions.2012_census.religious_affiliation_of_population.tsv\",\n    table_name: \"regions.2012_census.religious_affiliation_of_population\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"religious_affiliation_of_population\",\n    n_data_list: 15220,\n    file_size: 722594,\n    value_key_list_str:\n      \"buddhist;hindu;islam;other;other_christian;roman_catholic\",\n  },\n  \"dsd.latest.basic\": {\n    file: \"dsd.latest.basic.tsv\",\n    table_name: \"dsd.latest.basic\",\n    space_id: \"dsd\",\n    time_id: \"latest\",\n    attr_id: \"basic\",\n    n_data_list: 331,\n    file_size: 181963,\n    value_key_list_str: \"\",\n  },\n  \"moh.latest.basic\": {\n    file: \"moh.latest.basic.tsv\",\n    table_name: \"moh.latest.basic\",\n    space_id: \"moh\",\n    time_id: \"latest\",\n    attr_id: \"basic\",\n    n_data_list: 333,\n    file_size: 201645,\n    value_key_list_str: \"\",\n  },\n  \"regions_ec.2005_election_presidential.result\": {\n    file: \"regions_ec.2005_election_presidential.result.tsv\",\n    table_name: \"regions_ec.2005_election_presidential.result\",\n    space_id: \"regions_ec\",\n    time_id: \"2005_election_presidential\",\n    attr_id: \"result\",\n    n_data_list: 216,\n    file_size: 18901,\n    value_key_list_str: \"UNP;UPFA\",\n  },\n  \"regions.2012_census.lighting_of_household\": {\n    file: \"regions.2012_census.lighting_of_household.tsv\",\n    table_name: \"regions.2012_census.lighting_of_household\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"lighting_of_household\",\n    n_data_list: 15204,\n    file_size: 688799,\n    value_key_list_str:\n      \"electricity_national_electricity_network;electricity_rural_hydro_electricity_projects;kerosene;other;solar_power\",\n  },\n  \"regions.2012_census.wall_type_in_housing_units\": {\n    file: \"regions.2012_census.wall_type_in_housing_units.tsv\",\n    table_name: \"regions.2012_census.wall_type_in_housing_units\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"wall_type_in_housing_units\",\n    n_data_list: 15204,\n    file_size: 833523,\n    value_key_list_str:\n      \"brick;cabook;cadjan_or_palmyrah;cement_block_or_stone;mud;other;plank_or_metal_sheet;soil_bricks\",\n  },\n  \"district.latest.basic\": {\n    file: \"district.latest.basic.tsv\",\n    table_name: \"district.latest.basic\",\n    space_id: \"district\",\n    time_id: \"latest\",\n    attr_id: \"basic\",\n    n_data_list: 25,\n    file_size: 6982,\n    value_key_list_str: \"\",\n  },\n  \"regions.2012_census.communication_items_owned_by_household\": {\n    file: \"regions.2012_census.communication_items_owned_by_household.tsv\",\n    table_name: \"regions.2012_census.communication_items_owned_by_household\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"communication_items_owned_by_household\",\n    n_data_list: 15204,\n    file_size: 1469428,\n    value_key_list_str: \"fixed_tp;laptop;mobile;pc;radio;tv\",\n  },\n  \"regions_ec.2010_election_presidential.result\": {\n    file: \"regions_ec.2010_election_presidential.result.tsv\",\n    table_name: \"regions_ec.2010_election_presidential.result\",\n    space_id: \"regions_ec\",\n    time_id: \"2010_election_presidential\",\n    attr_id: \"result\",\n    n_data_list: 218,\n    file_size: 25322,\n    value_key_list_str: \"NDF;UPFA\",\n  },\n  \"ed.latest.basic\": {\n    file: \"ed.latest.basic.tsv\",\n    table_name: \"ed.latest.basic\",\n    space_id: \"ed\",\n    time_id: \"latest\",\n    attr_id: \"basic\",\n    n_data_list: 22,\n    file_size: 5551,\n    value_key_list_str: \"\",\n  },\n  \"regions.2012_census.living_quarters\": {\n    file: \"regions.2012_census.living_quarters.tsv\",\n    table_name: \"regions.2012_census.living_quarters\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"living_quarters\",\n    n_data_list: 15208,\n    file_size: 492617,\n    value_key_list_str:\n      \"collective_living_quarter;housing_unit;non_housing_unit\",\n  },\n  \"regions.2012_census.floor_type_in_housing_unit\": {\n    file: \"regions.2012_census.floor_type_in_housing_unit.tsv\",\n    table_name: \"regions.2012_census.floor_type_in_housing_unit\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"floor_type_in_housing_unit\",\n    n_data_list: 15204,\n    file_size: 773284,\n    value_key_list_str:\n      \"cement;concrete;mud;other;sand;tile_or_granite_or_terrazo\",\n  },\n  \"regions.2012_census.ethnicity_of_population\": {\n    file: \"regions.2012_census.ethnicity_of_population.tsv\",\n    table_name: \"regions.2012_census.ethnicity_of_population\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"ethnicity_of_population\",\n    n_data_list: 15220,\n    file_size: 897209,\n    value_key_list_str:\n      \"burgher;chetty;indian_tamil;malay;moor;other;sinhalese;sri_lankan_tamil\",\n  },\n  \"regions_ec.1994_election_presidential.result\": {\n    file: \"regions_ec.1994_election_presidential.result.tsv\",\n    table_name: \"regions_ec.1994_election_presidential.result\",\n    space_id: \"regions_ec\",\n    time_id: \"1994_election_presidential\",\n    attr_id: \"result\",\n    n_data_list: 213,\n    file_size: 14320,\n    value_key_list_str: \"PA;UNP\",\n  },\n  \"lg.latest.basic\": {\n    file: \"lg.latest.basic.tsv\",\n    table_name: \"lg.latest.basic\",\n    space_id: \"lg\",\n    time_id: \"latest\",\n    attr_id: \"basic\",\n    n_data_list: 338,\n    file_size: 199126,\n    value_key_list_str: \"\",\n  },\n  \"province.latest.basic\": {\n    file: \"province.latest.basic.tsv\",\n    table_name: \"province.latest.basic\",\n    space_id: \"province\",\n    time_id: \"latest\",\n    attr_id: \"basic\",\n    n_data_list: 9,\n    file_size: 1439,\n    value_key_list_str: \"\",\n  },\n  \"regions.2012_census.toilet_facilities_of_household\": {\n    file: \"regions.2012_census.toilet_facilities_of_household.tsv\",\n    table_name: \"regions.2012_census.toilet_facilities_of_household\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"toilet_facilities_of_household\",\n    n_data_list: 15204,\n    file_size: 690477,\n    value_key_list_str:\n      \"direct_pit;not_using_a_toilet;other;pour_flush_toilet_not_water_seal;water_seal_and_connected_to_a_piped_sewer_system;water_seal_and_connected_to_a_septic_tank\",\n  },\n  \"regions.2012_census.roof_type_in_housing_unit\": {\n    file: \"regions.2012_census.roof_type_in_housing_unit.tsv\",\n    table_name: \"regions.2012_census.roof_type_in_housing_unit\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"roof_type_in_housing_unit\",\n    n_data_list: 15204,\n    file_size: 777864,\n    value_key_list_str:\n      \"asbestos;cadjan_or_palmyrah_or_straw;concrete;metal_sheet;other;tile;zink_aluminium_sheet\",\n  },\n  \"regions_ec.1988_election_presidential.result\": {\n    file: \"regions_ec.1988_election_presidential.result.tsv\",\n    table_name: \"regions_ec.1988_election_presidential.result\",\n    space_id: \"regions_ec\",\n    time_id: \"1988_election_presidential\",\n    attr_id: \"result\",\n    n_data_list: 209,\n    file_size: 11698,\n    value_key_list_str: \"SLFP;SLMP;UNP\",\n  },\n  \"regions.2012_census.rooms_in_housing_unit\": {\n    file: \"regions.2012_census.rooms_in_housing_unit.tsv\",\n    table_name: \"regions.2012_census.rooms_in_housing_unit\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"rooms_in_housing_unit\",\n    n_data_list: 15204,\n    file_size: 1011590,\n    value_key_list_str:\n      \"10_and_above;1_room;2_rooms;3_rooms;4_rooms;5_rooms;6_rooms;7_rooms;8_rooms;9_rooms\",\n  },\n  \"regions.2012_census.age_group_of_population\": {\n    file: \"regions.2012_census.age_group_of_population.tsv\",\n    table_name: \"regions.2012_census.age_group_of_population\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"age_group_of_population\",\n    n_data_list: 15208,\n    file_size: 1121571,\n    value_key_list_str:\n      \"10_19;20_29;30_39;40_49;50_59;60_69;70_79;less_than_10\",\n  },\n  \"country.latest.basic\": {\n    file: \"country.latest.basic.tsv\",\n    table_name: \"country.latest.basic\",\n    space_id: \"country\",\n    time_id: \"latest\",\n    attr_id: \"basic\",\n    n_data_list: 1,\n    file_size: 86,\n    value_key_list_str: \"\",\n  },\n  \"regions.2012_census.marital_status_of_population\": {\n    file: \"regions.2012_census.marital_status_of_population.tsv\",\n    table_name: \"regions.2012_census.marital_status_of_population\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"marital_status_of_population\",\n    n_data_list: 15208,\n    file_size: 880050,\n    value_key_list_str: \"married_customary;married_registered;never_married\",\n  },\n  \"regions.2012_census.year_of_construction_of_housing_unit\": {\n    file: \"regions.2012_census.year_of_construction_of_housing_unit.tsv\",\n    table_name: \"regions.2012_census.year_of_construction_of_housing_unit\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"year_of_construction_of_housing_unit\",\n    n_data_list: 15204,\n    file_size: 1170511,\n    value_key_list_str:\n      \"1980_1989;1990_1994;1995_1999;2000_2004;2005;2006;2007;2008;2009;2010;2011;before_80\",\n  },\n  \"regions.2012_census.households_living_in_housing_unit\": {\n    file: \"regions.2012_census.households_living_in_housing_unit.tsv\",\n    table_name: \"regions.2012_census.households_living_in_housing_unit\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"households_living_in_housing_unit\",\n    n_data_list: 15204,\n    file_size: 613239,\n    value_key_list_str: \"1_household;2_households;3_households\",\n  },\n  \"regions.2012_census.type_of_housing_unit\": {\n    file: \"regions.2012_census.type_of_housing_unit.tsv\",\n    table_name: \"regions.2012_census.type_of_housing_unit\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"type_of_housing_unit\",\n    n_data_list: 15204,\n    file_size: 569224,\n    value_key_list_str: \"improvised;permanent;semi_permanent\",\n  },\n  \"regions.2012_census.housing_ownership_status_of_household\": {\n    file: \"regions.2012_census.housing_ownership_status_of_household.tsv\",\n    table_name: \"regions.2012_census.housing_ownership_status_of_household\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"housing_ownership_status_of_household\",\n    n_data_list: 15204,\n    file_size: 699228,\n    value_key_list_str:\n      \"encroached;occupied_free_of_rent;other;owned_by_a_household_member;rent_or_lease_government_owned;rent_or_lease_privately_owned\",\n  },\n  \"regions.2012_census.total_population\": {\n    file: \"regions.2012_census.total_population.tsv\",\n    table_name: \"regions.2012_census.total_population\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"total_population\",\n    n_data_list: 15220,\n    file_size: 281947,\n    value_key_list_str: \"\",\n  },\n  \"regions.2012_census.solid_waste_disposal_by_household\": {\n    file: \"regions.2012_census.solid_waste_disposal_by_household.tsv\",\n    table_name: \"regions.2012_census.solid_waste_disposal_by_household\",\n    space_id: \"regions\",\n    time_id: \"2012_census\",\n    attr_id: \"solid_waste_disposal_by_household\",\n    n_data_list: 15204,\n    file_size: 712055,\n    value_key_list_str:\n      \"collected_by_local_authorities;occupants_burn;occupants_bury;other\",\n  },\n};\n","export const COLOR_SL_FLAG = {\n  SINHALA: \"hsl(355, 63%, 34%)\",\n  TAMIL: \"hsl(21, 100%, 50%)\",\n  MOOR: \"hsl(165, 100%, 17%)\",\n  BUDDHIST: \"hsl(43, 100%, 50%)\",\n};\nexport const FIELD_NAME_TO_COLOR = {\n  // political parties\n  SLFP: \"blue\",\n  PA: \"blue\",\n  UPFA: \"blue\",\n  SLPP: COLOR_SL_FLAG.SINHALA,\n  UNP: \"green\",\n  NDF: \"green\",\n  JVP: \"red\",\n  LSSP: \"red\",\n  ACTC: COLOR_SL_FLAG.TAMIL,\n  SLMP: \"purple\",\n\n  other: \"ghostwhite\",\n  others: \"gray\",\n  // ethnicity_of_population\n  bharatha: \"cyan\",\n  burgher: \"purple\",\n  chetty: \"blue\",\n  indian_tamil: COLOR_SL_FLAG.TAMIL,\n  malay: COLOR_SL_FLAG.MOOR,\n  moor: COLOR_SL_FLAG.MOOR,\n  sinhalese: COLOR_SL_FLAG.SINHALA,\n  sri_lankan_tamil: COLOR_SL_FLAG.TAMIL,\n  // religious_affiliation_of_population\n  buddhist: COLOR_SL_FLAG.BUDDHIST,\n  islam: COLOR_SL_FLAG.MOOR,\n  hindu: COLOR_SL_FLAG.TAMIL,\n  roman_catholic: \"purple\",\n  other_christian: \"blue\",\n  // gender_of_population\n  female: \"pink\",\n  male: \"lightblue\",\n  // age_group_of_population\n  // relationship_to_household_head_of_population\n  son_or_daughter: \"green\",\n  head: \"blue\",\n  wife_or_husband: \"pink\",\n  grandchild_or_great_grand_child: \"darkgreen\",\n  other_relative: \"yellow\",\n  non_relative: \"silver\",\n  son_or_daughter_in_law: \"lightgreen\",\n  parent_of_head_or_spouse: \"red\",\n  boarder: \"gray\",\n  domestic_employee: \"brown\",\n  clergy: \"yellow\", //\n  // communication_items_owned_by_household\n  tv: \"green\",\n  mobile: \"purple\",\n  radio: \"maroon\",\n  fixed_tp: \"blue\",\n  pc: \"red\",\n  laptop: \"pink\",\n  fax: \"silver\",\n  // cooking_fuel_of_household\n  fire_wood: \"brown\",\n  gas: \"orange\",\n  kerosene: \"purple\",\n  electricity: \"blue\",\n  // roof_type_in_housing_unit\n\n  // rooms_in_housing_unit\n  // floor_type_in_housing_unit\n  asbestos: \"gray\",\n  tile: \"darkred\",\n  metal_sheet: \"silver\",\n  concrete: \"green\",\n  zink_aluminium_sheet: \"blue\",\n  cement: \"lightgray\",\n  tile_or_granite_or_terrazo: \"orange\",\n  mud: \"darkbrown\",\n  wood: \"brown\",\n  // solid_waste_disposal_by_household\n  occupants_burn: \"red\",\n  occupants_bury: \"orange\",\n  collected_by_local_authorities: \"blue\",\n  occupants_composting_solid_waste: \"green\",\n  // source_of_drinking_water_of_household\n  tap_within_unit_main_line: \"darkgreen\",\n  tap_within_premises_but_outside_unit_main_line: \"green\",\n  tap_outside_premises_main_line: \"orange\",\n  protected_well_within_premises: \"blue\",\n  protected_well_outside_premises: \"lightblue\",\n  unprotected_well: \"purple\",\n  tube_well: \"cyan\",\n  rural_water_projects: \"pink\",\n  river_or_tank_or_stream: \"red\", //\n  bottled_water: \"silver\",\n  // structure_of_housing_units\n  single_house_single_floor: \"darkgreen\",\n  single_house_double_floor: \"green\",\n  single_house_more_than_2_floors: \"lightgreen\",\n  row_house_or_line_room: \"orange\",\n  attached_house_or_annex: \"silver\",\n  twin_house: \"cyan\",\n  flat: \"blue\",\n  condominium: \"purple\",\n  hut_or_shanty: \"red\",\n\n  // housing_ownership_status_of_household\n  owned_by_a_household_member: \"green\",\n  rent_or_lease_privately_owned: \"blue\",\n  rent_or_lease_government_owned: \"cyan\",\n  occupied_free_of_rent: \"orange\",\n  encroached: \"red\",\n  // toilet_facilities_of_household\n  water_seal_and_connected_to_a_piped_sewer_system: \"green\",\n  water_seal_and_connected_to_a_septic_tank: \"lightgreen\",\n  pour_flush_toilet_not_water_seal: \"orange\",\n  direct_pit: \"red\",\n  not_using_a_toilet: \"black\",\n  // lighting_of_household\n  electricity_national_electricity_network: \"blue\",\n  solar_power: \"yellow\",\n  bio_gas: \"orange\",\n  // living_quarters\n  housing_unit: \"green\",\n  collective_living_quarter: \"orange\",\n  non_housing_unit: \"red\",\n  // type_of_housing_unit\n  semi_permanent: \"orange\",\n  permanent: \"green\",\n  improvised: \"red\",\n  unclassified: \"black\",\n  // marital_status_of_population\n  married_registered: \"blue\",\n  never_married: \"green\",\n  widowed: \"orange\",\n  married_customary: \"lightblue\",\n  separated_not_legally: \"pink\",\n  divorced: \"red\",\n  legally_separated: \"maroon\",\n  // wall_type_in_housing_units\n  cement_block_or_stone: \"darkgray\",\n  brick: \"maroon\",\n  cabook: \"orange\",\n  soil_bricks: \"green\",\n  plank_or_metal_sheet: \"silver\",\n  // occupation_status_of_housing_units\n  cadjan_or_palmyrah: \"orange\",\n  occupied: \"green\",\n  vacant: \"red\",\n  // year_of_construction_of_housing_unit\n  // persons_living_in_housing_unit\n};\n","export default class Random {\n  static randomFloat(minValue, maxValue) {\n    return minValue + Math.random() * (maxValue - minValue);\n  }\n\n  static randomInt(minValue, maxValue) {\n    return parseInt(Random.randomFloat(minValue, maxValue));\n  }\n}\n","import Random from \"./Random.js\";\n\nexport default class Color {\n  static hsla(h, s, l, a) {\n    return `hsla(${h},${s}%,${l}%,${h})`;\n  }\n  static getRandomHSLA() {\n    const h = Random.randomInt(0, 360);\n    const s = 100;\n    const l = 80;\n    const a = 1;\n    return Color.hsla(h, s, l, a);\n  }\n}\n","export default class MathX {\n  static sum(numList) {\n    return numList.reduce(function (_sum, num) {\n      return _sum + num;\n    }, 0);\n  }\n}\n","import { FIELD_NAME_TO_COLOR } from \"../constants/ColorConstants.js\";\nimport WWW from \"./WWW.js\";\nimport Color from \"./Color.js\";\nimport MathX from \"./MathX.js\";\n\nlet adhocValueKeyToColor = {};\n\nconst ID_FIELD_KEY = \"entity_id\";\n\nexport default class GIG2 {\n  static async getMetaData() {\n    return await WWW.tsv(\"/metaverse/data/gig2/_metadata.tsv\");\n  }\n\n  static async getTable(tableName) {\n    const url = `/metaverse/data/gig2/${tableName}.tsv`;\n    return await WWW.tsv(url);\n  }\n\n  static async getTableIndex(tableName) {\n    const table = await GIG2.getTable(tableName);\n    const valueKeys = GIG2.filterValueCellKeys(table[0]);\n    return table.reduce(function (tableIndex, tableRow) {\n      tableIndex[tableRow[ID_FIELD_KEY]] = Object.entries(tableRow).reduce(\n        function (cleanTableRow, [key, value]) {\n          if (valueKeys.includes(key)) {\n            value = parseFloat(value);\n          }\n          cleanTableRow[key] = value;\n          return cleanTableRow;\n        },\n        {}\n      );\n      return tableIndex;\n    }, {});\n  }\n\n  static filterValueCellKeys(tableRow) {\n    const valueCellKeys = Object.keys(tableRow).filter(\n      (cellKey) =>\n        !(\n          cellKey.includes(\"total_\") ||\n          cellKey.includes(\"_id\") ||\n          cellKey.includes(\"result_ut\") ||\n          cellKey.includes(\"valid\") ||\n          cellKey.includes(\"rejected\") ||\n          cellKey.includes(\"polled\") ||\n          cellKey.includes(\"electors\")\n        )\n    );\n    return valueCellKeys;\n  }\n\n  static getMaxValueKey(tableRow) {\n    const valueKeys = GIG2.filterValueCellKeys(tableRow);\n    const maxValueKey = valueKeys.reduce(function (maxValueKey, valueKey) {\n      if (tableRow[maxValueKey] < tableRow[valueKey]) {\n        maxValueKey = valueKey;\n      }\n      return maxValueKey;\n    }, valueKeys[0]);\n    return maxValueKey;\n  }\n\n  static getMinMaxValueP(dataList, valueKey) {\n    return dataList.reduce(\n      function ([minValueP, maxValueP], tableRow) {\n        const sumValue = GIG2.getSumValues(tableRow);\n        const value = tableRow[valueKey];\n        const valueP = value / sumValue;\n        return [Math.min(minValueP, valueP), Math.max(maxValueP, valueP)];\n      },\n      [1.0, 0.0]\n    );\n  }\n\n  static getSumValues(tableRow) {\n    const valueKeys = GIG2.filterValueCellKeys(tableRow);\n    return MathX.sum(valueKeys.map((valueKey) => tableRow[valueKey]));\n  }\n\n  static getValueKeyP(tableRow, valueKey) {\n    const sumValues = GIG2.getSumValues(tableRow);\n    return tableRow[valueKey] / sumValues;\n  }\n\n  static getValueKeyColor(valueKey) {\n    if (FIELD_NAME_TO_COLOR[valueKey]) {\n      return FIELD_NAME_TO_COLOR[valueKey];\n    }\n    if (!adhocValueKeyToColor[valueKey]) {\n      adhocValueKeyToColor[valueKey] = Color.getRandomHSLA();\n    }\n    return adhocValueKeyToColor[valueKey];\n  }\n\n  static getTableRowColor(tableRow) {\n    const maxValueKey = GIG2.getMaxValueKey(tableRow);\n    return GIG2.getValueKeyColor(maxValueKey);\n  }\n\n  static getValuePToRankP(dataList, valueKey) {\n    const sortedValuePs = dataList\n      .map((tableRow) => GIG2.getValueKeyP(tableRow, valueKey))\n      .sort();\n    const nValues = sortedValuePs.length;\n    return sortedValuePs.reduce(function (valuePToRankP, valueP, iValue) {\n      valuePToRankP[valueP] = iValue / nValues;\n      return valuePToRankP;\n    }, {});\n  }\n}\n","import \"./SourceView.css\";\n\nexport default function SourceView(props) {\n  const { source } = props;\n  return (\n    <div className=\"div-layer-source\">\n      {\"Source: \"}\n      <a className=\"a-layer-source-link\" href={source} target=\"-_blank\">\n        {source}\n      </a>\n    </div>\n  );\n}\n","import MathX from \"../../base/MathX.js\";\nimport StringX from \"../../base/StringX.js\";\nimport GIG2 from \"../../base/GIG2.js\";\nimport SourceView from \"../../nonstate/atoms/SourceView.js\";\nimport \"./TableView.css\";\n\nconst MIN_DISPLAY_VALUE = 0.01;\n\nexport default function TableView(props) {\n  const { data, source } = props;\n  const tableRow = data.censusData;\n  const valueCellKeys = GIG2.filterValueCellKeys(tableRow);\n  const values = valueCellKeys.map((valueCellKey) => tableRow[valueCellKey]);\n  const sumValues = MathX.sum(values);\n\n  let cellEntries = valueCellKeys\n    .map((valueCellKey) => [valueCellKey, tableRow[valueCellKey]])\n    .filter((d) => d[1] >= sumValues * MIN_DISPLAY_VALUE)\n    .sort((a, b) => b[1] - a[1]);\n\n  const othersValues = valueCellKeys\n    .map((valueCellKey) => tableRow[valueCellKey])\n    .filter((v) => v < sumValues * MIN_DISPLAY_VALUE);\n  if (othersValues.length > 0) {\n    const othersValueSum = MathX.sum(othersValues);\n    cellEntries.push([\"others\", othersValueSum]);\n  }\n\n  return (\n    <div className=\"div-table-view\">\n      <table>\n        <tbody>\n          {cellEntries.map(function (\n            [valueCellKey, valueCellValue],\n            iValueCellKey\n          ) {\n            const divColorStyle = {\n              background: GIG2.getValueKeyColor(valueCellKey),\n            };\n            return (\n              <tr key={`${iValueCellKey}-${valueCellKey}`}>\n                <td>\n                  <div className=\"div-color\" style={divColorStyle} />\n                </td>\n                <th>{StringX.toTitleCase(valueCellKey)}</th>\n                <td className=\"td-number\">\n                  {StringX.formatInt(valueCellValue)}\n                </td>\n                <td className=\"td-number\">\n                  {StringX.formatPercent(valueCellValue, sumValues)}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n      <SourceView source={source} />\n    </div>\n  );\n}\n","import StringX from \"../../base/StringX.js\";\nimport GIG2 from \"../../base/GIG2.js\";\nimport { METADATA_MAP } from \"../../constants/GIG2Constants.js\";\nimport \"./LegendView.css\";\n\nconst LEGEND_SIZE = 7;\nconst LEGEND_RANK_PS = [...Array(LEGEND_SIZE).keys()].map(\n  (i) => i / (LEGEND_SIZE - 1)\n);\n\nexport default function LegendView(props) {\n  const { dataList, displayMode, tableName } = props;\n  let legendInfoList;\n  if (displayMode === \"max\") {\n    const metadata = METADATA_MAP[tableName];\n    const valueKeyList = metadata.value_key_list_str.split(\";\");\n    legendInfoList = valueKeyList.map((valueKey) => ({\n      label: StringX.toTitleCase(valueKey),\n      color: GIG2.getValueKeyColor(valueKey),\n      opacity: 1,\n    }));\n  } else {\n    const sortedDataList = dataList.sort((a, b) => a.valueP - b.valueP);\n    const nValues = sortedDataList.length;\n    legendInfoList = LEGEND_RANK_PS.map(function (rankP) {\n      const iValue = parseInt((nValues - 1) * rankP);\n      const data = sortedDataList[iValue];\n      return {\n        label: StringX.formatPercent(data.valueP, 1),\n        color: data.color,\n        opacity: data.opacity,\n      };\n    });\n  }\n\n  return (\n    <div className=\"div-legend-view\">\n      {\" \"}\n      <table>\n        <tbody>\n          {legendInfoList.map(function (\n            { label, color, opacity },\n            iLegendInfo\n          ) {\n            const divColorStyle = {\n              backgroundColor: color,\n              opacity,\n            };\n            return (\n              <tr key={`tr-legend-info-${iLegendInfo}`}>\n                <td>\n                  <div className=\"div-color\" style={divColorStyle} />\n                </td>\n                <th className=\"th-label\">{label}</th>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n","import { Component } from \"react\";\nimport Ents from \"../../base/Ents.js\";\n\nimport \"./EntView.css\";\n\nexport default class EntView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ent: undefined };\n  }\n\n  async componentDidMount() {\n    const { entID } = this.props;\n    const ent = await Ents.getEnt(entID);\n    this.setState({ ent });\n  }\n\n  render() {\n    const { entID } = this.props;\n    const { ent } = this.state;\n    const entType = Ents.getEntType(entID);\n    if (!ent) {\n      return <div className=\"div-ent-id\">{entID}</div>;\n    }\n    return (\n      <div className=\"div-ent-name\">\n        <div className=\"div-ent-type\">{Ents.getEntTypeLongName(entType)}</div>\n        <div className=\"div-ent-name\">{ent.name}</div>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { GeoJSON, Popup } from \"react-leaflet\";\n\nimport GeoData from \"../../base/GeoData.js\";\nimport Ents, {\n  ENT_TYPE_TO_LONG_NAME,\n  PARENT_TO_CHILD,\n} from \"../../base/Ents.js\";\n\nimport EntView from \"../atoms/EntView.js\";\n\nimport \"./RegionGeo.css\";\n\nconst DEFAULT_STYLE_GEOJSON = {\n  color: \"white\",\n  fillColor: \"red\",\n  fillOpacity: 0.9,\n  weight: 1,\n};\n\nfunction dumbCopy(x) {\n  return JSON.parse(JSON.stringify(x));\n}\n\nexport default class RegionGeo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { geoData: undefined, ent: undefined };\n  }\n\n  async componentDidMount() {\n    this.isComponentMounted = true;\n    const { regionID } = this.props;\n    const geoData = await GeoData.getGeoForRegion(regionID);\n    const ent = await Ents.getEnt(regionID);\n\n    if (this.isComponentMounted) {\n      this.setState({ geoData, ent });\n    }\n  }\n\n  componentWillUnmount() {\n    this.isComponentMounted = false;\n  }\n\n  render() {\n    const { geoData } = this.state;\n    if (!geoData) {\n      return \"...\";\n    }\n\n    const { regionType, regionID, onClick, renderCustom, iRegion } = this.props;\n\n    const geoJsonData = {\n      type: \"MultiPolygon\",\n      coordinates: geoData,\n    };\n\n    let buttonShow = null;\n    const subRegionType = PARENT_TO_CHILD[regionType];\n    if (subRegionType) {\n      const subRegionTypeName = ENT_TYPE_TO_LONG_NAME[subRegionType];\n      const onClickInner = function () {\n        onClick(regionType, regionID);\n      };\n      buttonShow = (\n        <div className=\"div-show\" onClick={onClickInner}>\n          Show\n          <strong>{` ${subRegionTypeName}s`}</strong>\n        </div>\n      );\n    }\n\n    let style = dumbCopy(DEFAULT_STYLE_GEOJSON);\n    if (this.props.color) {\n      style.fillColor = this.props.color;\n    }\n    if (this.props.opacity) {\n      style.fillOpacity = this.props.opacity;\n    }\n\n    let styleDummy = dumbCopy(DEFAULT_STYLE_GEOJSON);\n    styleDummy.fillColor = \"white\";\n\n    return (\n      <>\n        <GeoJSON\n          className=\"geojson\"\n          key={`geojson-${regionID}-dummy`}\n          data={geoJsonData}\n          style={styleDummy}\n        />\n        <GeoJSON\n          className=\"geojson\"\n          key={`geojson-${regionID}`}\n          data={geoJsonData}\n          style={style}\n        >\n          <Popup>\n            <h2>\n              <EntView entID={regionID} />\n            </h2>\n            {buttonShow}\n            <hr />\n            {renderCustom(regionID, iRegion)}\n          </Popup>\n        </GeoJSON>\n      </>\n    );\n  }\n}\n","import Ents, { ENT } from \"../../../base/Ents.js\";\nimport GIG2 from \"../../../base/GIG2.js\";\nimport StringX from \"../../../base/StringX.js\";\nimport { METADATA_MAP } from \"../../../constants/GIG2Constants.js\";\nimport TableView from \"../../../nonstate/molecules/TableView.js\";\nimport LegendView from \"../../../nonstate/molecules/LegendView.js\";\n\nimport AbstractLayer from \"../AbstractLayer.js\";\nimport RegionGeo from \"../RegionGeo.js\";\n\nimport \"./GIG2Layer.css\";\n\nconst MIN_OPACITY = 0.1;\n\nexport default class GIG2Layer extends AbstractLayer {\n  static getTableName() {\n    return \"\";\n  }\n\n  static getDisplayMode() {\n    return \"\";\n  }\n\n  static getSource() {\n    const tableName = this.getTableName();\n    if (tableName.includes(\"census\")) {\n      return \"https://www.statistics.gov.lk\";\n    }\n    if (tableName.includes(\"election\")) {\n      return \"https://www.elections.gov.lk\";\n    }\n    return \"\";\n  }\n\n  static getMetadata() {\n    return METADATA_MAP[this.getTableName()];\n  }\n\n  static getLabel() {\n    const tableName = this.getTableName();\n    const displayMode = this.getDisplayMode();\n    const displayModeLabel =\n      displayMode === \"max\" ? \"Most Popular\" : displayMode;\n    const [timeID, attrID] = tableName.split(\".\").splice(1, 3);\n    const timeIDWords = timeID.split(\"_\");\n    const timeStr = StringX.toTitleCase(timeIDWords.reverse().join(\" \"));\n    const attrStr = StringX.toTitleCase(attrID);\n    const displayModeStr = StringX.toTitleCase(displayModeLabel);\n\n    return timeStr + attrStr + displayModeStr;\n  }\n\n  static renderLabel() {\n    const tableName = this.getTableName();\n    const displayMode = this.getDisplayMode();\n    const displayModeLabel =\n      displayMode === \"max\" ? \"Most Popular\" : displayMode;\n    const [timeID, attrID] = tableName.split(\".\").splice(1, 3);\n    const timeIDWords = timeID.split(\"_\");\n    const timeStr = StringX.toTitleCase(timeIDWords.reverse().join(\" \"));\n    const attrStr = StringX.toTitleCase(attrID);\n    const displayModeStr = StringX.toTitleCase(displayModeLabel);\n\n    return (\n      <div>\n        <div className=\"div-label-attr\">{timeStr + \" - \" + attrStr}</div>\n        <div className=\"div-label-display-mode\">{displayModeStr}</div>\n      </div>\n    );\n  }\n\n  static getLayerClassID() {\n    return this.getTableName();\n  }\n\n  static getRegionTypes() {\n    const [spaceID] = this.getTableName().split(\".\").slice(0, 1);\n    if (spaceID === \"regions\") {\n      return [\n        ENT.PROVINCE,\n        ENT.DISTRICT,\n        ENT.DSD,\n        ENT.GND,\n        ENT.ED,\n        ENT.PD,\n        ENT.MOH,\n        ENT.LG,\n      ];\n    }\n    if (spaceID === \"regions_ec\") {\n      return [ENT.PROVINCE, ENT.ED, ENT.PD];\n    }\n    return [];\n  }\n\n  async getDataList() {\n    const { childRegionType, parentRegionID } = this.props;\n    const tableName = this.constructor.getTableName();\n    const displayMode = this.constructor.getDisplayMode();\n    const childIDs = await Ents.getChildIDs(parentRegionID, childRegionType);\n    const tableIndex = await GIG2.getTableIndex(tableName);\n\n    const tableDataList = childIDs\n      .map((childID) => tableIndex[childID])\n      .filter((d) => d !== undefined);\n\n    let valuePToRankP;\n    if (displayMode !== \"max\") {\n      const selectedValueKey = displayMode;\n      valuePToRankP = GIG2.getValuePToRankP(tableDataList, selectedValueKey);\n    }\n\n    const dataList = childIDs\n      .map(function (childID) {\n        const tableRow = tableIndex[childID];\n        if (!tableRow) {\n          return undefined;\n        }\n        let color;\n        let opacity;\n        let valueP;\n        if (displayMode === \"max\") {\n          color = GIG2.getTableRowColor(tableRow);\n          opacity = 0.9;\n        } else {\n          const selectedValueKey = displayMode;\n          color = GIG2.getValueKeyColor(selectedValueKey);\n          valueP = GIG2.getValueKeyP(tableRow, selectedValueKey);\n          const rankP = valuePToRankP[valueP];\n          opacity = rankP * (1 - MIN_OPACITY) + MIN_OPACITY;\n        }\n\n        return {\n          regionID: childID,\n          regionType: childRegionType,\n          censusData: tableRow,\n          color,\n          opacity,\n          valueP,\n        };\n      })\n      .filter((data) => data !== undefined && data.regionID.slice(-1) !== \"P\");\n    return dataList;\n  }\n\n  onClick(regionType, regionID) {\n    this.setState(\n      {\n        parentRegionID: regionID,\n        parentRegionType: regionType,\n      },\n      async function () {\n        const dataList = await this.getDataList();\n        this.setState({ dataList });\n      }.bind(this)\n    );\n  }\n\n  renderDataList() {\n    const { dataList } = this.state;\n    const dataIndex = dataList.reduce(function (dataIndex, data) {\n      dataIndex[data.regionID] = data;\n      return dataIndex;\n    }, {});\n    const source = this.constructor.getSource();\n\n    const renderCustom = function (regionID, iRegion) {\n      const data = dataIndex[regionID];\n      return <TableView data={data} source={source} />;\n    };\n\n    return dataList.map(\n      function ({ regionType, regionID, color, opacity, censusData }, iRegion) {\n        return (\n          <RegionGeo\n            key={`region-geo-${regionID}`}\n            regionType={regionType}\n            regionID={regionID}\n            onClick={this.onClick.bind(this)}\n            color={color}\n            opacity={opacity}\n            renderCustom={renderCustom}\n            iRegion={iRegion}\n          />\n        );\n      }.bind(this)\n    );\n  }\n\n  renderLegend() {\n    const { dataList } = this.state;\n    return (\n      <LegendView\n        dataList={dataList}\n        tableName={this.constructor.getTableName()}\n        displayMode={this.constructor.getDisplayMode()}\n      />\n    );\n  }\n}\n","import { TABLE_NAMES, METADATA_MAP } from \"../../../constants/GIG2Constants.js\";\nimport GIG2Layer from \"./GIG2Layer.js\";\n\nconst DEFAULT_DISPLAY_MODES = [\"max\"];\n\nexport default class GIG2LayerFactory {\n  static build(tableName, displayMode) {\n    const GIG2Class = class extends GIG2Layer {\n      static getTableName() {\n        return tableName;\n      }\n\n      static getDisplayMode() {\n        return displayMode;\n      }\n    };\n    return GIG2Class;\n  }\n\n  static getAll() {\n    return TABLE_NAMES.reduce(function (GIG2ClassList, tableName) {\n      const metadata = METADATA_MAP[tableName];\n      const valueKeyList = metadata.value_key_list_str.split(\";\");\n      return []\n        .concat(DEFAULT_DISPLAY_MODES, valueKeyList)\n        .reduce(function (GIG2ClassList, displayMode) {\n          const GIG2Class = GIG2LayerFactory.build(tableName, displayMode);\n          GIG2ClassList.push(GIG2Class);\n          return GIG2ClassList;\n        }, GIG2ClassList);\n    }, []);\n  }\n}\n","import LKVaxCentersLayer from \"./LKVaxCentersLayer.js\";\nimport GIG2LayerFactory from \"./GIG2LayerFactory.js\";\n\nconst gig2LayerClasses = GIG2LayerFactory.getAll();\n\nexport const CUSTOM_LAYERS = [].concat([LKVaxCentersLayer], gig2LayerClasses);\n\nexport const CUSTOM_LAYERS_INDEX = CUSTOM_LAYERS.reduce(function (\n  CUSTOM_LAYERS_INDEX,\n  LayerClass\n) {\n  CUSTOM_LAYERS_INDEX[LayerClass.getLayerClassID()] = LayerClass;\n  return CUSTOM_LAYERS_INDEX;\n},\n{});\n\nexport const DEFAULT_LAYER_CLASS_ID = CUSTOM_LAYERS[0].getLayerClassID();\n","import Ents from \"../../base/Ents.js\";\n\nimport \"./RegionTypePicker.css\";\n\nexport default function RegionTypePicker(props) {\n  const { selectedRegionType, onSelectRegionType, regionTypes } = props;\n\n  const renderedItems = regionTypes.map(function (regionType) {\n    const regionName = Ents.getRegionName(regionType);\n    const onClick = function (e) {\n      onSelectRegionType(regionType);\n    };\n\n    const className =\n      \"div-region-type-picker-item\" +\n      (regionType === selectedRegionType\n        ? \" div-region-type-picker-item-selected\"\n        : \"\");\n    return (\n      <div\n        key={`region-type-picker-item-${regionType}`}\n        className={className}\n        onClick={onClick}\n      >\n        {`${regionName}`}\n      </div>\n    );\n  });\n  return (\n    <div className=\"div-region-type-picker\">\n      <span className=\"div-region-type-picker-desc\"> By</span>\n      {renderedItems}\n    </div>\n  );\n}\n","import { Component } from \"react\";\nimport \"./ShowHide.css\";\n\nexport default class ShowHide extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { isVisible: false };\n  }\n\n  render() {\n    const { isVisible } = this.state;\n\n    const onClickShow = function (e) {\n      this.setState({ isVisible: true });\n    }.bind(this);\n\n    const onClickHide = function (e) {\n      this.setState({ isVisible: false });\n    }.bind(this);\n\n    let renderedInner;\n    if (isVisible) {\n      renderedInner = (\n        <div>\n          <div className=\"div-hide\" onClick={onClickHide}>\n            ×\n          </div>\n          {this.props.children}\n        </div>\n      );\n    } else {\n      renderedInner = (\n        <div>\n          <div className=\"div-show\" onClick={onClickShow}>\n            {\" \"}\n            {this.props.label}\n          </div>\n        </div>\n      );\n    }\n\n    return <div className=\"div-show-hide\">{renderedInner}</div>;\n  }\n}\n","import { Component } from \"react\";\n\nimport { CUSTOM_LAYERS } from \"./custom_layers/CustomLayers.js\";\nimport ShowHide from \"../atoms/ShowHide.js\";\n\nimport \"./LayerSelector.css\";\n\nexport default class LayerSelector extends Component {\n  render() {\n    const { selectedLayerClasses, onSelectLayer } = this.props;\n\n    function renderLayer(LayerClass, iLayer) {\n      const renderedLabel = LayerClass.renderLabel();\n      const onClick = function (e) {\n        onSelectLayer(LayerClass);\n      };\n\n      let className = \"div-layer\";\n      if (selectedLayerClasses.includes(LayerClass)) {\n        className += \" div-layer-selected\";\n      }\n      return (\n        <div className={className} key={`li-${iLayer}`} onClick={onClick}>\n          {renderedLabel}\n        </div>\n      );\n    }\n\n    const sortedLayers = CUSTOM_LAYERS.sort(function (a, b) {\n      return a.getLabel().localeCompare(b.getLabel());\n    });\n\n    return (\n      <ShowHide label=\"Layers\">\n        <div className=\"div-layer-selector\">\n          {sortedLayers.map(renderLayer)}\n        </div>\n      </ShowHide>\n    );\n  }\n}\n","import { Component } from \"react\";\n\nimport RegionTypePicker from \"../../nonstate/atoms/RegionTypePicker.js\";\n\nimport LayerSelector from \"./LayerSelector.js\";\n// import EntView from \"../atoms/EntView.js\";\nimport SourceView from \"../../nonstate/atoms/SourceView.js\";\n\nimport \"./LayerMenuView.css\";\n\nexport default class LayerMenuView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { matchingLayerClasses: [] };\n  }\n  render() {\n    const { matchingLayerClasses } = this.state;\n    const {\n      onSelectLayer,\n      onSelectRegionType,\n      selectedLayerClasses,\n      childRegionType,\n      // parentRegionID,\n    } = this.props;\n\n    const renderedTitle = selectedLayerClasses.map((LayerClass) =>\n      LayerClass.renderLabel()\n    );\n\n    const source = selectedLayerClasses.map((LayerClass) =>\n      LayerClass.getSource()\n    );\n\n    const LayerClass = selectedLayerClasses[0]; // TODO Fix!\n    const regionTypes = LayerClass.getRegionTypes();\n    const showRegionTypePicker = regionTypes.length > 0;\n    // <EntView entID={parentRegionID} /> Removed Parent Region\n\n    return (\n      <div>\n        <div className=\"div-layer-view\">\n          <LayerSelector\n            matchingLayerClasses={matchingLayerClasses}\n            selectedLayerClasses={selectedLayerClasses}\n            onSelectLayer={onSelectLayer}\n          />\n        </div>\n        <div className=\"div-layer-view-2\">\n          <SourceView source={source} />\n          <div className=\"div-layer-title\">{renderedTitle}</div>\n          {showRegionTypePicker ? (\n            <RegionTypePicker\n              onSelectRegionType={onSelectRegionType}\n              selectedRegionType={childRegionType}\n              regionTypes={regionTypes}\n            />\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n","export default \"data:image/png;base64,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\"","import { Component } from \"react\";\nimport {\n  MapContainer,\n  TileLayer,\n  ZoomControl,\n  useMapEvents,\n} from \"react-leaflet\";\n\nimport \"./GeoMap.css\";\n\nimport imgGeoLocate from \"../../assets/images/geolocate.png\";\n\nconst URL_FORMAT = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\n\nfunction EventComponent(props) {\n  useMapEvents({\n    moveend: (e) => {\n      props.onMoveEnd(e);\n    },\n  });\n  return null;\n}\n\nexport default class GeoMap extends Component {\n  render() {\n    const { center, zoom, onMoveEnd } = this.props;\n    return (\n      <MapContainer center={center} zoom={zoom} zoomControl={false}>\n        <TileLayer url={URL_FORMAT} />\n        <EventComponent onMoveEnd={onMoveEnd} />\n        <ZoomControl zoom={zoom} position=\"bottomright\" />\n        {this.props.children}\n        <img\n          className=\"img-geolocate-geo-map\"\n          src={imgGeoLocate}\n          alt={\"geolocate\"}\n        />\n      </MapContainer>\n    );\n  }\n}\n","import { Component } from \"react\";\n\nimport {\n  getBrowserLatLng,\n  getLatLngZoomStr,\n  roundLatLng,\n  parseLatLngZoomStr,\n  DEFAULT_ZOOM,\n} from \"../../base/GeoData.js\";\n\nimport { CUSTOM_LAYERS_INDEX } from \"../molecules/custom_layers/CustomLayers.js\";\nimport LayerMenuView from \"../molecules/LayerMenuView.js\";\nimport GeoMap from \"../molecules/GeoMap.js\";\nimport imgGeoLocate from \"../../assets/images/geolocate.png\";\n\nimport \"./HomePage.css\";\n\nexport default class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    const layerClassID = this.props.match.params.layerClassID;\n    const latLngStr = this.props.match.params.latLngStr;\n    const { lat, lng, zoom } = parseLatLngZoomStr(latLngStr);\n\n    this.state = {\n      layerClassID,\n      selectedLayerClasses: [CUSTOM_LAYERS_INDEX[layerClassID]],\n      center: [lat, lng],\n      selectedCenter: [lat, lng],\n      zoom: zoom,\n      childRegionType: \"pd\",\n      parentRegionType: \"country\",\n      parentRegionID: \"LK\",\n    };\n  }\n\n  async onMoveEnd(e) {\n    const mapCenter = e.target.getCenter();\n    const newZoom = e.target.getZoom();\n    const newCenter = roundLatLng([mapCenter.lat, mapCenter.lng]);\n\n    const latLngZoomStr = getLatLngZoomStr(newCenter, newZoom);\n    const layerClassID = this.state.layerClassID;\n    const newUrl = `/metaverse/${layerClassID}/${latLngZoomStr}`;\n    window.history.pushState({}, null, newUrl);\n\n    this.setState({\n      zoom: newZoom,\n      center: newCenter,\n    });\n  }\n\n  onClickGeoLocate(e) {\n    getBrowserLatLng(\n      function (latLng) {\n        this.setState({\n          center: latLng,\n          selectedCenter: latLng,\n          zoom: DEFAULT_ZOOM,\n        });\n      }.bind(this)\n    );\n  }\n\n  onSelectLayer(SelectedLayerClass) {\n    const layerClassID = SelectedLayerClass.getLayerClassID();\n    const latLngZoomStr = getLatLngZoomStr(this.state.center, this.state.zoom);\n    const newUrl = `/metaverse/${layerClassID}/${latLngZoomStr}`;\n    window.history.pushState({}, null, newUrl);\n\n    this.setState({\n      selectedLayerClasses: [SelectedLayerClass],\n    });\n  }\n\n  onSelectRegionType(regionType) {\n    this.setState({ childRegionType: regionType });\n  }\n\n  render() {\n    const {\n      selectedLayerClasses,\n      center,\n      selectedCenter,\n      zoom,\n      childRegionType,\n      parentRegionID,\n      parentRegionType,\n    } = this.state;\n\n    return (\n      <>\n        <div className=\"div-title\">\n          <img\n            className=\"img-geolocate\"\n            src={imgGeoLocate}\n            alt=\"geolocate\"\n            onClick={this.onClickGeoLocate.bind(this)}\n          />\n        </div>\n        <LayerMenuView\n          onSelectLayer={this.onSelectLayer.bind(this)}\n          onSelectRegionType={this.onSelectRegionType.bind(this)}\n          selectedLayerClasses={selectedLayerClasses}\n          childRegionType={childRegionType}\n          parentRegionID={parentRegionID}\n        />\n        <GeoMap\n          key={`geomap-${selectedCenter}-${childRegionType}`}\n          center={center}\n          zoom={zoom}\n          onMoveEnd={this.onMoveEnd.bind(this)}\n        >\n          {selectedLayerClasses.map(function (\n            CustomLayerClass,\n            iCustomLayerClass\n          ) {\n            return (\n              <CustomLayerClass\n                key={`custom-layer-class-${iCustomLayerClass}`}\n                center={center}\n                childRegionType={childRegionType}\n                parentRegionID={parentRegionID}\n                parentRegionType={parentRegionType}\n              />\n            );\n          })}\n        </GeoMap>\n      </>\n    );\n  }\n}\n","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nimport { getDefaultLatLngZoomStr } from \"./base/GeoData.js\";\n\nimport { DEFAULT_LAYER_CLASS_ID } from \"./stateful/molecules/custom_layers/CustomLayers.js\";\n\nimport HomePage from \"./stateful/pages/HomePage.js\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const latLngStr = getDefaultLatLngZoomStr();\n  return (\n    <Router basename=\"/metaverse\">\n      <Switch>\n        <Route path=\"/:layerClassID/:latLngStr\" component={HomePage} />\n        <Route>\n          <Redirect to={`/${DEFAULT_LAYER_CLASS_ID}/${latLngStr}`} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}