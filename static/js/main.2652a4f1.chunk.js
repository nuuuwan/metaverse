(this.webpackJsonptemplate_react=this.webpackJsonptemplate_react||[]).push([[0],{40:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),s=n(24),a=n.n(s),o=(n(40),n(33)),c=n(8),u=n(2),l=n.n(u),_=n(5),d=n(3),p=n(4),g=n(9),h=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"get",value:function(){var e=Object(_.a)(l.a.mark((function e(t,n){var i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=localStorage.getItem(t))){e.next=3;break}return e.abrupt("return",JSON.parse(i));case 3:return e.next=5,n();case 5:r=e.sent;try{localStorage.setItem(t,JSON.stringify(r))}catch(s){localStorage.clear()}return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),f={headers:{Accept:"application/json"}},v={headers:{Accept:"text/csv"}};function b(e){return m.apply(this,arguments)}function m(){return(m=Object(_.a)(l.a.mark((function e(t){var n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,f);case 2:return n=e.sent,e.next=5,n.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y,j,k=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"pathJoin",value:function(e){return e.join("/")}},{key:"json",value:function(){var e=Object(_.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.get("WWW.json.".concat("v20210823",".").concat(t),Object(_.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(t));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"tsv",value:function(){var e=Object(_.a)(l.a.mark((function e(t){var n,i,r,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,v);case 2:return n=e.sent,e.next=5,n.text();case 5:return i=e.sent,r=i.split("\n"),s=r[0].split("\t").map((function(e){return e.replace("\r","")})),a=r.slice(1,-1).map((function(e){var t=e.split("\t");return s.reduce((function(e,n,i){return e[n]=t[i].replace("\r",""),e}),{})})).filter((function(e){return e})),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),O=n(11),w=n(0),x=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"toTitleCase",value:function(e){return e===e.toUpperCase()?e:(e=e.replaceAll("_"," ")).replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}},{key:"formatInt",value:function(e){var t,n,i,r=Math.log(e)/Math.log(1e3);e>1e6?(t=Number(e/1e6).toLocaleString(void 0,{maximumSignificantDigits:2}),n="M",i="black"):e>1e3?(t=Number(e/1e3).toLocaleString(void 0,{maximumSignificantDigits:2}),n="K",i="gray"):(t=Number(e).toLocaleString(void 0,{maximumSignificantDigits:2}),n="",i="lightgray");var s={fontSize:parseInt(100*r)+"%",color:i};return Object(w.jsxs)("span",{style:s,children:[t,n]})}},{key:"formatPercent",value:function(e,t){var n,i=e/t,r=Math.pow(i,.01),s=Number(i).toLocaleString(void 0,{style:"percent",maximumSignificantDigits:2});n=i>.1?"black":"lightgray";var a={fontSize:parseInt(100*r)+"%",color:n};return Object(w.jsx)("span",{style:a,children:s})}}]),e}(),D={COUNTRY:"country",PROVINCE:"province",DISTRICT:"district",DSD:"dsd",GND:"gnd",PD:"pd",ED:"ed",MOH:"moh",LG:"lg",UNKNOWN:"unknown-entity"},T=Object.values(D),L=(y={},Object(O.a)(y,D.Country,"Country"),Object(O.a)(y,D.PROVINCE,"Province"),Object(O.a)(y,D.DISTRICT,"District"),Object(O.a)(y,D.DSD,"Divisional Secretariat Division"),Object(O.a)(y,D.GND,"Grama Niladhari Division"),Object(O.a)(y,D.PD,"Polling Division"),Object(O.a)(y,D.ED,"Electoral District"),Object(O.a)(y,D.MOH,"Medical Officer of Health Area"),Object(O.a)(y,D.LG,"Local Authority Area"),y),S=(j={},Object(O.a)(j,D.COUNTRY,D.PROVINCE),Object(O.a)(j,D.PROVINCE,D.DISTRICT),Object(O.a)(j,D.DISTRICT,D.DSD),Object(O.a)(j,D.DSD,D.GND),Object(O.a)(j,D.GND,void 0),Object(O.a)(j,D.PD,void 0),Object(O.a)(j,D.ED,[D.PD]),j),C=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"getEntType",value:function(e){if("LK"===e.substring(0,2))switch(e.length){case 2:return D.COUNTRY;case 4:return D.PROVINCE;case 5:return D.DISTRICT;case 7:return D.DSD;case 10:return D.GND;default:return D.UNKNOWN}if("EC"===e.substring(0,2))switch(e.length){case 5:return D.ED;case 6:return D.PD;default:return D.UNKNOWN}return"LG"===e.substring(0,2)?D.LG:"MOH"===e.substring(0,3)?D.MOH:D.UNKNOWN}},{key:"getRegionName",value:function(e){return L[e]}},{key:"getEntsByType",value:function(){var e=Object(_.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/metaverse/data/ents/".concat(t,".tsv"),e.next=3,k.tsv(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEntIndexByType",value:function(){var t=Object(_.a)(l.a.mark((function t(n){var i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEntsByType(n);case 2:return i=t.sent,t.abrupt("return",i.reduce((function(e,t){return e[t.id]=t,e}),{}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAllEntIndex",value:function(){var t=Object(_.a)(l.a.mark((function t(){var n,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=T,t.next=3,Promise.all(n.map(function(){var t=Object(_.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEntIndexByType(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:return i=t.sent,t.abrupt("return",n.reduce((function(e,t,n){return e[t]=i[n],e}),{}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getEnt",value:function(){var t=Object(_.a)(l.a.mark((function t(n){var i,r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.getEntType(n),t.next=3,e.getEntIndexByType(i);case 3:return r=t.sent,(s=r[n]).centroid&&(s.centroid=JSON.parse(s.centroid)),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getParentToChildMap",value:function(){var e=Object(_.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"data/ents/parent_to_child_map.json",e.next=3,k.json("data/ents/parent_to_child_map.json");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getChildIDs",value:function(){var t=Object(_.a)(l.a.mark((function t(n,i){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEntsByType(i);case 2:return r=t.sent,t.abrupt("return",r.map((function(e){return e.id})).filter((function(e){return e.includes(n)||"LK"===n})));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getEntTypeLongName",value:function(e){return L[e]?L[e]:x.toTitleCase(e)}}]),e}(),N=[7.836173,80.403442];function I(e,t){var n=Object(g.a)(e,2),i=n[0],r=n[1];return"".concat(i,"N,").concat(r,"E,").concat(t,"z")}function P(e,t){var n=Object(g.a)(e,2),i=n[0],r=n[1],s=0;for(var a in t){var o=(a-1+t.length)%t.length,c=Object(g.a)(t[a],2),u=c[0],l=c[1],_=Object(g.a)(t[o],2),d=_[0],p=_[1];l>i!==p>i&&r<(d-u)*(i-l)/(p-l)+u&&(s+=1)}return s%2===1}function M(e,t){for(var n in t){var i=t[n];for(var r in i){if(P(e,i[r]))return!0}}return!1}var R=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"getGeoForRegion",value:function(){var e=Object(_.a)(l.a.mark((function e(t){var n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C.getEntType(t),i="/metaverse/data/geo/".concat(n,"/").concat(t,".json"),e.next=4,k.json(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRegionTree",value:function(){var e=Object(_.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/metaverse/data/geo/region_tree.json",e.next=3,k.json("/metaverse/data/geo/region_tree.json");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isPointInRegion",value:function(){var t=Object(_.a)(l.a.mark((function t(n,i){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getGeoForRegion(i);case 2:return r=t.sent,t.abrupt("return",M(n,r));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getRegionsForPoint",value:function(){var t=Object(_.a)(l.a.mark((function t(n){var i,r,s,a,o,c,u,_;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getRegionTree();case 2:i=t.sent,r={},t.t0=l.a.keys(T);case 5:if((t.t1=t.t0()).done){t.next=24;break}s=t.t1.value,a=T[s],o=Object.keys(i),c=!1,t.t2=l.a.keys(o);case 11:if((t.t3=t.t2()).done){t.next=20;break}return u=t.t3.value,_=o[u],t.next=16,e.isPointInRegion(n,_);case 16:t.sent&&(r[a]=_,i=i[_],c=!0),t.next=11;break;case 20:if(c){t.next=22;break}return t.abrupt("break",24);case 22:t.next=5;break;case 24:return t.abrupt("return",r);case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();function A(e){var t=1e6;return e.map((function(e){return Math.round(parseFloat(e)*t)/t}))}var z=n(7),K=n(6),E=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"getUnixTime",value:function(){return Math.floor(Date.now()/1e3)}},{key:"getDate",value:function(){return(new Date).toISOString().slice(0,10)}},{key:"getDateID",value:function(){return e.getDate().replaceAll("-","")}}]),e}(),U=n(71),B=n(66),F=(n(43),function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={dataList:void 0},i}return Object(p.a)(n,[{key:"getDataList",value:function(){var e=Object(_.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(_.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isComponentMounted=!0,e.next=3,this.getDataListAndUpdateState();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDataListAndUpdateState",value:function(){var e=Object(_.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataList();case 2:t=e.sent,this.isComponentMounted&&this.setState({dataList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.isComponentMounted=!1}},{key:"renderDataList",value:function(){return null}},{key:"renderLegend",value:function(){return null}},{key:"render",value:function(){return this.state.dataList?Object(w.jsxs)(w.Fragment,{children:[this.renderDataList(),this.renderLegend()]}):null}}],[{key:"getLayerClassID",value:function(){return"abstract"}},{key:"getLabel",value:function(){return"AbstractLayer"}},{key:"getDisplayMode",value:function(){return"max"}},{key:"getTableName",value:function(){return""}},{key:"isMatch",value:function(e){return this.getLabel().toLowerCase().includes(e.toLowerCase())}},{key:"getSource",value:function(){return"Source unknown"}},{key:"getRegionTypes",value:function(){return[]}}]),n}(i.Component)),V=function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getDataList",value:function(){var e=Object(_.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.getDateID(),n=k.pathJoin(["https://raw.githubusercontent.com","nuuuwan/covid19/data","covid19.lk_vax_centers.".concat(t,".tsv")]),e.next=4,k.tsv(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"renderDataList",value:function(){return this.state.dataList.map((function(e,t){if(!e.lat)return null;var n=[parseFloat(e.lat),parseFloat(e.lng)],i="green";e.tags&&(i="red");var r=[];e.dose1&&r.push("\ud83d\udc89 1st Dose"),e.dose2&&r.push("\ud83d\udc89 2nd Dose");return Object(w.jsx)(U.a,{center:n,radius:10,pathOptions:{color:i,stroke:null,fillOpacity:.5},eventHandlers:{mouseover:function(e){e.target.openPopup()}},children:Object(w.jsxs)(B.a,{children:[Object(w.jsx)("h3",{children:e.center}),Object(w.jsx)("address",{children:e.formatted_address}),r,Object(w.jsx)("hr",{}),Object(w.jsxs)("div",{children:[Object(w.jsx)("strong",{children:e.police})," ","Police Area, "," ",Object(w.jsx)("strong",{children:e.district})," District"]}),Object(w.jsx)("div",{children:e.tags}),Object(w.jsx)("div",{style:{fontSize:"70%"},children:e.fuzzy_key})]})},"layer-data-".concat(t))}))}}],[{key:"getLayerClassID",value:function(){return"covid19_vax_centers"}},{key:"getLabel",value:function(){var e=E.getDate();return"COVID19 \ud83e\udda0 Vaccination Centers (".concat(e,")")}},{key:"renderLabel",value:function(){return this.getLabel()}},{key:"getSource",value:function(){return"https://www.presidentsoffice.gov.lk/"}}]),n}(F),J=["regions.2012_census.age_group_of_population","regions.2012_census.communication_items_owned_by_household","regions.2012_census.cooking_fuel_of_household","regions.2012_census.ethnicity_of_population","regions.2012_census.floor_type_in_housing_unit","regions.2012_census.gender_of_population","regions.2012_census.households_living_in_housing_unit","regions.2012_census.housing_ownership_status_of_household","regions.2012_census.lighting_of_household","regions.2012_census.living_quarters","regions.2012_census.marital_status_of_population","regions.2012_census.occupation_status_of_housing_units","regions.2012_census.persons_living_in_housing_unit","regions.2012_census.relationship_to_household_head_of_population","regions.2012_census.religious_affiliation_of_population","regions.2012_census.roof_type_in_housing_unit","regions.2012_census.rooms_in_housing_unit","regions.2012_census.solid_waste_disposal_by_household","regions.2012_census.source_of_drinking_water_of_household","regions.2012_census.structure_of_housing_units","regions.2012_census.toilet_facilities_of_household","regions.2012_census.total_population","regions.2012_census.type_of_housing_unit","regions.2012_census.wall_type_in_housing_units","regions.2012_census.year_of_construction_of_housing_unit","regions_ec.1982_election_presidential.result","regions_ec.1988_election_presidential.result","regions_ec.1994_election_presidential.result","regions_ec.1999_election_presidential.result","regions_ec.2005_election_presidential.result","regions_ec.2010_election_presidential.result","regions_ec.2015_election_presidential.result","regions_ec.2019_election_presidential.result"],W={"regions.2012_census.source_of_drinking_water_of_household":{file:"regions.2012_census.source_of_drinking_water_of_household.tsv",table_name:"regions.2012_census.source_of_drinking_water_of_household",space_id:"regions",time_id:"2012_census",attr_id:"source_of_drinking_water_of_household",n_data_list:15204,file_size:1161688,value_key_list_str:"bottled_water;bowser;other;protected_well_within_premises;rain_water;river_or_tank_or_stream;rural_water_projects;tap_within_unit_main_line;tube_well;unprotected_well"},"regions.2012_census.persons_living_in_housing_unit":{file:"regions.2012_census.persons_living_in_housing_unit.tsv",table_name:"regions.2012_census.persons_living_in_housing_unit",space_id:"regions",time_id:"2012_census",attr_id:"persons_living_in_housing_unit",n_data_list:15204,file_size:1009983,value_key_list_str:"10_or_more;1_person;2_persons;3_persons;4_persons;5_persons;6_persons;7_persons;8_persons;9_persons"},"regions_ec.2019_election_presidential.result":{file:"regions_ec.2019_election_presidential.result.tsv",table_name:"regions_ec.2019_election_presidential.result",space_id:"regions_ec",time_id:"2019_election_presidential",attr_id:"result",n_data_list:213,file_size:34807,value_key_list_str:"NDF;SLPP"},"regions_ec.1999_election_presidential.result":{file:"regions_ec.1999_election_presidential.result.tsv",table_name:"regions_ec.1999_election_presidential.result",space_id:"regions_ec",time_id:"1999_election_presidential",attr_id:"result",n_data_list:213,file_size:19604,value_key_list_str:"JVP;LDA;PA;UNP"},"pd.latest.basic":{file:"pd.latest.basic.tsv",table_name:"pd.latest.basic",space_id:"pd",time_id:"latest",attr_id:"basic",n_data_list:182,file_size:58027,value_key_list_str:""},"gnd.latest.basic":{file:"gnd.latest.basic.tsv",table_name:"gnd.latest.basic",space_id:"gnd",time_id:"latest",attr_id:"basic",n_data_list:14021,file_size:2580047,value_key_list_str:""},"regions_ec.2015_election_presidential.result":{file:"regions_ec.2015_election_presidential.result.tsv",table_name:"regions_ec.2015_election_presidential.result",space_id:"regions_ec",time_id:"2015_election_presidential",attr_id:"result",n_data_list:213,file_size:22881,value_key_list_str:"NDF;UPFA"},"regions_ec.1982_election_presidential.result":{file:"regions_ec.1982_election_presidential.result.tsv",table_name:"regions_ec.1982_election_presidential.result",space_id:"regions_ec",time_id:"1982_election_presidential",attr_id:"result",n_data_list:213,file_size:14444,value_key_list_str:"ACTC;JVP;LSSP;SLFP;UNP"},"regions.2012_census.occupation_status_of_housing_units":{file:"regions.2012_census.occupation_status_of_housing_units.tsv",table_name:"regions.2012_census.occupation_status_of_housing_units",space_id:"regions",time_id:"2012_census",attr_id:"occupation_status_of_housing_units",n_data_list:15205,file_size:445615,value_key_list_str:"occupied;vacant"},"regions.2012_census.cooking_fuel_of_household":{file:"regions.2012_census.cooking_fuel_of_household.tsv",table_name:"regions.2012_census.cooking_fuel_of_household",space_id:"regions",time_id:"2012_census",attr_id:"cooking_fuel_of_household",n_data_list:15204,file_size:689132,value_key_list_str:"electricity;fire_wood;gas;kerosene;other;saw_dust_or_paddy_husk"},"regions.2012_census.gender_of_population":{file:"regions.2012_census.gender_of_population.tsv",table_name:"regions.2012_census.gender_of_population",space_id:"regions",time_id:"2012_census",attr_id:"gender_of_population",n_data_list:15208,file_size:473971,value_key_list_str:"female;male"},"regions.2012_census.relationship_to_household_head_of_population":{file:"regions.2012_census.relationship_to_household_head_of_population.tsv",table_name:"regions.2012_census.relationship_to_household_head_of_population",space_id:"regions",time_id:"2012_census",attr_id:"relationship_to_household_head_of_population",n_data_list:15208,file_size:1205127,value_key_list_str:"boarder;clergy;domestic_employee;grandchild_or_great_grand_child;head;non_relative;other_relative;son_or_daughter;wife_or_husband"},"regions.2012_census.structure_of_housing_units":{file:"regions.2012_census.structure_of_housing_units.tsv",table_name:"regions.2012_census.structure_of_housing_units",space_id:"regions",time_id:"2012_census",attr_id:"structure_of_housing_units",n_data_list:15204,file_size:876749,value_key_list_str:"attached_house_or_annex;condominium;flat;hut_or_shanty;row_house_or_line_room;single_house_double_floor;single_house_more_than_2_floors;single_house_single_floor;twin_house"},"regions.2012_census.religious_affiliation_of_population":{file:"regions.2012_census.religious_affiliation_of_population.tsv",table_name:"regions.2012_census.religious_affiliation_of_population",space_id:"regions",time_id:"2012_census",attr_id:"religious_affiliation_of_population",n_data_list:15220,file_size:722594,value_key_list_str:"buddhist;hindu;islam;other;other_christian;roman_catholic"},"dsd.latest.basic":{file:"dsd.latest.basic.tsv",table_name:"dsd.latest.basic",space_id:"dsd",time_id:"latest",attr_id:"basic",n_data_list:331,file_size:181963,value_key_list_str:""},"moh.latest.basic":{file:"moh.latest.basic.tsv",table_name:"moh.latest.basic",space_id:"moh",time_id:"latest",attr_id:"basic",n_data_list:333,file_size:201645,value_key_list_str:""},"regions_ec.2005_election_presidential.result":{file:"regions_ec.2005_election_presidential.result.tsv",table_name:"regions_ec.2005_election_presidential.result",space_id:"regions_ec",time_id:"2005_election_presidential",attr_id:"result",n_data_list:216,file_size:18901,value_key_list_str:"UNP;UPFA"},"regions.2012_census.lighting_of_household":{file:"regions.2012_census.lighting_of_household.tsv",table_name:"regions.2012_census.lighting_of_household",space_id:"regions",time_id:"2012_census",attr_id:"lighting_of_household",n_data_list:15204,file_size:688799,value_key_list_str:"electricity_national_electricity_network;electricity_rural_hydro_electricity_projects;kerosene;other;solar_power"},"regions.2012_census.wall_type_in_housing_units":{file:"regions.2012_census.wall_type_in_housing_units.tsv",table_name:"regions.2012_census.wall_type_in_housing_units",space_id:"regions",time_id:"2012_census",attr_id:"wall_type_in_housing_units",n_data_list:15204,file_size:833523,value_key_list_str:"brick;cabook;cadjan_or_palmyrah;cement_block_or_stone;mud;other;plank_or_metal_sheet;soil_bricks"},"district.latest.basic":{file:"district.latest.basic.tsv",table_name:"district.latest.basic",space_id:"district",time_id:"latest",attr_id:"basic",n_data_list:25,file_size:6982,value_key_list_str:""},"regions.2012_census.communication_items_owned_by_household":{file:"regions.2012_census.communication_items_owned_by_household.tsv",table_name:"regions.2012_census.communication_items_owned_by_household",space_id:"regions",time_id:"2012_census",attr_id:"communication_items_owned_by_household",n_data_list:15204,file_size:1469428,value_key_list_str:"fixed_tp;laptop;mobile;pc;radio;tv"},"regions_ec.2010_election_presidential.result":{file:"regions_ec.2010_election_presidential.result.tsv",table_name:"regions_ec.2010_election_presidential.result",space_id:"regions_ec",time_id:"2010_election_presidential",attr_id:"result",n_data_list:218,file_size:25322,value_key_list_str:"NDF;UPFA"},"ed.latest.basic":{file:"ed.latest.basic.tsv",table_name:"ed.latest.basic",space_id:"ed",time_id:"latest",attr_id:"basic",n_data_list:22,file_size:5551,value_key_list_str:""},"regions.2012_census.living_quarters":{file:"regions.2012_census.living_quarters.tsv",table_name:"regions.2012_census.living_quarters",space_id:"regions",time_id:"2012_census",attr_id:"living_quarters",n_data_list:15208,file_size:492617,value_key_list_str:"collective_living_quarter;housing_unit;non_housing_unit"},"regions.2012_census.floor_type_in_housing_unit":{file:"regions.2012_census.floor_type_in_housing_unit.tsv",table_name:"regions.2012_census.floor_type_in_housing_unit",space_id:"regions",time_id:"2012_census",attr_id:"floor_type_in_housing_unit",n_data_list:15204,file_size:773284,value_key_list_str:"cement;concrete;mud;other;sand;tile_or_granite_or_terrazo"},"regions.2012_census.ethnicity_of_population":{file:"regions.2012_census.ethnicity_of_population.tsv",table_name:"regions.2012_census.ethnicity_of_population",space_id:"regions",time_id:"2012_census",attr_id:"ethnicity_of_population",n_data_list:15220,file_size:897209,value_key_list_str:"burgher;chetty;indian_tamil;malay;moor;other;sinhalese;sri_lankan_tamil"},"regions_ec.1994_election_presidential.result":{file:"regions_ec.1994_election_presidential.result.tsv",table_name:"regions_ec.1994_election_presidential.result",space_id:"regions_ec",time_id:"1994_election_presidential",attr_id:"result",n_data_list:213,file_size:14320,value_key_list_str:"PA;UNP"},"lg.latest.basic":{file:"lg.latest.basic.tsv",table_name:"lg.latest.basic",space_id:"lg",time_id:"latest",attr_id:"basic",n_data_list:338,file_size:199126,value_key_list_str:""},"province.latest.basic":{file:"province.latest.basic.tsv",table_name:"province.latest.basic",space_id:"province",time_id:"latest",attr_id:"basic",n_data_list:9,file_size:1439,value_key_list_str:""},"regions.2012_census.toilet_facilities_of_household":{file:"regions.2012_census.toilet_facilities_of_household.tsv",table_name:"regions.2012_census.toilet_facilities_of_household",space_id:"regions",time_id:"2012_census",attr_id:"toilet_facilities_of_household",n_data_list:15204,file_size:690477,value_key_list_str:"direct_pit;not_using_a_toilet;other;pour_flush_toilet_not_water_seal;water_seal_and_connected_to_a_piped_sewer_system;water_seal_and_connected_to_a_septic_tank"},"regions.2012_census.roof_type_in_housing_unit":{file:"regions.2012_census.roof_type_in_housing_unit.tsv",table_name:"regions.2012_census.roof_type_in_housing_unit",space_id:"regions",time_id:"2012_census",attr_id:"roof_type_in_housing_unit",n_data_list:15204,file_size:777864,value_key_list_str:"asbestos;cadjan_or_palmyrah_or_straw;concrete;metal_sheet;other;tile;zink_aluminium_sheet"},"regions_ec.1988_election_presidential.result":{file:"regions_ec.1988_election_presidential.result.tsv",table_name:"regions_ec.1988_election_presidential.result",space_id:"regions_ec",time_id:"1988_election_presidential",attr_id:"result",n_data_list:209,file_size:11698,value_key_list_str:"SLFP;SLMP;UNP"},"regions.2012_census.rooms_in_housing_unit":{file:"regions.2012_census.rooms_in_housing_unit.tsv",table_name:"regions.2012_census.rooms_in_housing_unit",space_id:"regions",time_id:"2012_census",attr_id:"rooms_in_housing_unit",n_data_list:15204,file_size:1011590,value_key_list_str:"10_and_above;1_room;2_rooms;3_rooms;4_rooms;5_rooms;6_rooms;7_rooms;8_rooms;9_rooms"},"regions.2012_census.age_group_of_population":{file:"regions.2012_census.age_group_of_population.tsv",table_name:"regions.2012_census.age_group_of_population",space_id:"regions",time_id:"2012_census",attr_id:"age_group_of_population",n_data_list:15208,file_size:1121571,value_key_list_str:"10_19;20_29;30_39;40_49;50_59;60_69;70_79;less_than_10"},"country.latest.basic":{file:"country.latest.basic.tsv",table_name:"country.latest.basic",space_id:"country",time_id:"latest",attr_id:"basic",n_data_list:1,file_size:86,value_key_list_str:""},"regions.2012_census.marital_status_of_population":{file:"regions.2012_census.marital_status_of_population.tsv",table_name:"regions.2012_census.marital_status_of_population",space_id:"regions",time_id:"2012_census",attr_id:"marital_status_of_population",n_data_list:15208,file_size:880050,value_key_list_str:"married_customary;married_registered;never_married"},"regions.2012_census.year_of_construction_of_housing_unit":{file:"regions.2012_census.year_of_construction_of_housing_unit.tsv",table_name:"regions.2012_census.year_of_construction_of_housing_unit",space_id:"regions",time_id:"2012_census",attr_id:"year_of_construction_of_housing_unit",n_data_list:15204,file_size:1170511,value_key_list_str:"1980_1989;1990_1994;1995_1999;2000_2004;2005;2006;2007;2008;2009;2010;2011;before_80"},"regions.2012_census.households_living_in_housing_unit":{file:"regions.2012_census.households_living_in_housing_unit.tsv",table_name:"regions.2012_census.households_living_in_housing_unit",space_id:"regions",time_id:"2012_census",attr_id:"households_living_in_housing_unit",n_data_list:15204,file_size:613239,value_key_list_str:"1_household;2_households;3_households"},"regions.2012_census.type_of_housing_unit":{file:"regions.2012_census.type_of_housing_unit.tsv",table_name:"regions.2012_census.type_of_housing_unit",space_id:"regions",time_id:"2012_census",attr_id:"type_of_housing_unit",n_data_list:15204,file_size:569224,value_key_list_str:"improvised;permanent;semi_permanent"},"regions.2012_census.housing_ownership_status_of_household":{file:"regions.2012_census.housing_ownership_status_of_household.tsv",table_name:"regions.2012_census.housing_ownership_status_of_household",space_id:"regions",time_id:"2012_census",attr_id:"housing_ownership_status_of_household",n_data_list:15204,file_size:699228,value_key_list_str:"encroached;occupied_free_of_rent;other;owned_by_a_household_member;rent_or_lease_government_owned;rent_or_lease_privately_owned"},"regions.2012_census.total_population":{file:"regions.2012_census.total_population.tsv",table_name:"regions.2012_census.total_population",space_id:"regions",time_id:"2012_census",attr_id:"total_population",n_data_list:15220,file_size:281947,value_key_list_str:""},"regions.2012_census.solid_waste_disposal_by_household":{file:"regions.2012_census.solid_waste_disposal_by_household.tsv",table_name:"regions.2012_census.solid_waste_disposal_by_household",space_id:"regions",time_id:"2012_census",attr_id:"solid_waste_disposal_by_household",n_data_list:15204,file_size:712055,value_key_list_str:"collected_by_local_authorities;occupants_burn;occupants_bury;other"}},H="hsl(355, 63%, 34%)",Q="hsl(21, 100%, 50%)",q="hsl(165, 100%, 17%)",G={SLFP:"blue",PA:"blue",UPFA:"blue",SLPP:H,UNP:"green",NDF:"green",JVP:"red",LSSP:"red",ACTC:Q,SLMP:"purple",other:"ghostwhite",others:"gray",bharatha:"cyan",burgher:"purple",chetty:"blue",indian_tamil:Q,malay:q,moor:q,sinhalese:H,sri_lankan_tamil:Q,buddhist:"hsl(43, 100%, 50%)",islam:q,hindu:Q,roman_catholic:"purple",other_christian:"blue",female:"pink",male:"lightblue",son_or_daughter:"green",head:"blue",wife_or_husband:"pink",grandchild_or_great_grand_child:"darkgreen",other_relative:"yellow",non_relative:"silver",son_or_daughter_in_law:"lightgreen",parent_of_head_or_spouse:"red",boarder:"gray",domestic_employee:"brown",clergy:"yellow",tv:"green",mobile:"purple",radio:"maroon",fixed_tp:"blue",pc:"red",laptop:"pink",fax:"silver",fire_wood:"brown",gas:"orange",kerosene:"purple",electricity:"blue",asbestos:"gray",tile:"darkred",metal_sheet:"silver",concrete:"green",zink_aluminium_sheet:"blue",cement:"lightgray",tile_or_granite_or_terrazo:"orange",mud:"darkbrown",wood:"brown",occupants_burn:"red",occupants_bury:"orange",collected_by_local_authorities:"blue",occupants_composting_solid_waste:"green",tap_within_unit_main_line:"darkgreen",tap_within_premises_but_outside_unit_main_line:"green",tap_outside_premises_main_line:"orange",protected_well_within_premises:"blue",protected_well_outside_premises:"lightblue",unprotected_well:"purple",tube_well:"cyan",rural_water_projects:"pink",river_or_tank_or_stream:"red",bottled_water:"silver",single_house_single_floor:"darkgreen",single_house_double_floor:"green",single_house_more_than_2_floors:"lightgreen",row_house_or_line_room:"orange",attached_house_or_annex:"silver",twin_house:"cyan",flat:"blue",condominium:"purple",hut_or_shanty:"red",owned_by_a_household_member:"green",rent_or_lease_privately_owned:"blue",rent_or_lease_government_owned:"cyan",occupied_free_of_rent:"orange",encroached:"red",water_seal_and_connected_to_a_piped_sewer_system:"green",water_seal_and_connected_to_a_septic_tank:"lightgreen",pour_flush_toilet_not_water_seal:"orange",direct_pit:"red",not_using_a_toilet:"black",electricity_national_electricity_network:"blue",solar_power:"yellow",bio_gas:"orange",housing_unit:"green",collective_living_quarter:"orange",non_housing_unit:"red",semi_permanent:"orange",permanent:"green",improvised:"red",unclassified:"black",married_registered:"blue",never_married:"green",widowed:"orange",married_customary:"lightblue",separated_not_legally:"pink",divorced:"red",legally_separated:"maroon",cement_block_or_stone:"darkgray",brick:"maroon",cabook:"orange",soil_bricks:"green",plank_or_metal_sheet:"silver",cadjan_or_palmyrah:"orange",occupied:"green",vacant:"red"},X=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"randomFloat",value:function(e,t){return e+Math.random()*(t-e)}},{key:"randomInt",value:function(t,n){return parseInt(e.randomFloat(t,n))}}]),e}(),Z=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"hsla",value:function(e,t,n,i){return"hsla(".concat(e,",").concat(t,"%,").concat(n,"%,").concat(e,")")}},{key:"getRandomHSLA",value:function(){var t=X.randomInt(0,360);return e.hsla(t,100,80,1)}}]),e}(),Y=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"sum",value:function(e){return e.reduce((function(e,t){return e+t}),0)}}]),e}(),$={},ee=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"getMetaData",value:function(){var e=Object(_.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.tsv("/metaverse/data/gig2/_metadata.tsv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTable",value:function(){var e=Object(_.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/metaverse/data/gig2/".concat(t,".tsv"),e.next=3,k.tsv(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTableIndex",value:function(){var t=Object(_.a)(l.a.mark((function t(n){var i,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTable(n);case 2:return i=t.sent,r=e.filterValueCellKeys(i[0]),t.abrupt("return",i.reduce((function(e,t){return e[t.entity_id]=Object.entries(t).reduce((function(e,t){var n=Object(g.a)(t,2),i=n[0],s=n[1];return r.includes(i)&&(s=parseFloat(s)),e[i]=s,e}),{}),e}),{}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"filterValueCellKeys",value:function(e){return Object.keys(e).filter((function(e){return!(e.includes("total_")||e.includes("_id")||e.includes("result_ut")||e.includes("valid")||e.includes("rejected")||e.includes("polled")||e.includes("electors"))}))}},{key:"getMaxValueKey",value:function(t){var n=e.filterValueCellKeys(t);return n.reduce((function(e,n){return t[e]<t[n]&&(e=n),e}),n[0])}},{key:"getMinMaxValueP",value:function(t,n){return t.reduce((function(t,i){var r=Object(g.a)(t,2),s=r[0],a=r[1],o=e.getSumValues(i),c=i[n]/o;return[Math.min(s,c),Math.max(a,c)]}),[1,0])}},{key:"getSumValues",value:function(t){var n=e.filterValueCellKeys(t);return Y.sum(n.map((function(e){return t[e]})))}},{key:"getValueKeyP",value:function(t,n){var i=e.getSumValues(t);return t[n]/i}},{key:"getValueKeyColor",value:function(e){return G[e]?G[e]:($[e]||($[e]=Z.getRandomHSLA()),$[e])}},{key:"getTableRowColor",value:function(t){var n=e.getMaxValueKey(t);return e.getValueKeyColor(n)}},{key:"getValuePToRankP",value:function(t,n){var i=t.map((function(t){return e.getValueKeyP(t,n)})).sort(),r=i.length;return i.reduce((function(e,t,n){return e[t]=n/r,e}),{})}}]),e}();n(44);function te(e){var t=e.source;return Object(w.jsxs)("div",{className:"div-layer-source",children:["Source: ",Object(w.jsx)("a",{className:"a-layer-source-link",href:t,target:"-_blank",children:t})]})}n(45);function ne(e){var t=e.data,n=e.source,i=t.censusData,r=ee.filterValueCellKeys(i),s=r.map((function(e){return i[e]})),a=Y.sum(s),o=r.map((function(e){return[e,i[e]]})).filter((function(e){return e[1]>=.01*a})).sort((function(e,t){return t[1]-e[1]})),c=r.map((function(e){return i[e]})).filter((function(e){return e<.01*a}));if(c.length>0){var u=Y.sum(c);o.push(["others",u])}return Object(w.jsxs)("div",{className:"div-table-view",children:[Object(w.jsx)("table",{children:Object(w.jsx)("tbody",{children:o.map((function(e,t){var n=Object(g.a)(e,2),i=n[0],r=n[1],s={background:ee.getValueKeyColor(i)};return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("div",{className:"div-color",style:s})}),Object(w.jsx)("th",{children:x.toTitleCase(i)}),Object(w.jsx)("td",{className:"td-number",children:x.formatInt(r)}),Object(w.jsx)("td",{className:"td-number",children:x.formatPercent(r,a)})]},"".concat(t,"-").concat(i))}))})}),Object(w.jsx)(te,{source:n})]})}var ie=n(35),re=(n(46),Object(ie.a)(Array(7).keys()).map((function(e){return e/6})));function se(e){var t,n=e.dataList,i=e.displayMode,r=e.tableName;if("max"===i){t=W[r].value_key_list_str.split(";").map((function(e){return{label:x.toTitleCase(e),color:ee.getValueKeyColor(e),opacity:1}}))}else{var s=n.sort((function(e,t){return e.valueP-t.valueP})),a=s.length;t=re.map((function(e){var t=parseInt((a-1)*e),n=s[t];return{label:x.formatPercent(n.valueP,1),color:n.color,opacity:n.opacity}}))}return Object(w.jsxs)("div",{className:"div-legend-view",children:[" ",Object(w.jsx)("table",{children:Object(w.jsx)("tbody",{children:t.map((function(e,t){var n=e.label,i={backgroundColor:e.color,opacity:e.opacity};return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("div",{className:"div-color",style:i})}),Object(w.jsx)("th",{className:"th-label",children:n})]},"tr-legend-info-".concat(t))}))})})]})}var ae=n(67),oe=(n(47),function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={ent:void 0},i}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(_.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.entID,e.next=3,C.getEnt(t);case 3:n=e.sent,this.setState({ent:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.entID,t=this.state.ent,n=C.getEntType(e);return t?Object(w.jsxs)("div",{className:"div-ent-name",children:[Object(w.jsx)("div",{className:"div-ent-type",children:C.getEntTypeLongName(n)}),Object(w.jsx)("div",{className:"div-ent-name",children:t.name})]}):Object(w.jsx)("div",{className:"div-ent-id",children:e})}}]),n}(i.Component)),ce=(n(48),{color:"white",fillColor:"red",fillOpacity:.9,weight:1});function ue(e){return JSON.parse(JSON.stringify(e))}var le=function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={geoData:void 0,ent:void 0},i}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(_.a)(l.a.mark((function e(){var t,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isComponentMounted=!0,t=this.props.regionID,e.next=4,R.getGeoForRegion(t);case 4:return n=e.sent,e.next=7,C.getEnt(t);case 7:i=e.sent,this.isComponentMounted&&this.setState({geoData:n,ent:i});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.isComponentMounted=!1}},{key:"render",value:function(){var e=this.state.geoData;if(!e)return"...";var t=this.props,n=t.regionType,i=t.regionID,r=t.onClick,s=t.renderCustom,a=t.iRegion,o={type:"MultiPolygon",coordinates:e},c=null,u=S[n];if(u){var l=L[u];c=Object(w.jsxs)("div",{className:"div-show",onClick:function(){r(n,i)},children:["Show",Object(w.jsx)("strong",{children:" ".concat(l,"s")})]})}var _=ue(ce);this.props.color&&(_.fillColor=this.props.color),this.props.opacity&&(_.fillOpacity=this.props.opacity);var d=ue(ce);return d.fillColor="white",Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ae.a,{className:"geojson",data:o,style:d},"geojson-".concat(i,"-dummy")),Object(w.jsx)(ae.a,{className:"geojson",data:o,style:_,children:Object(w.jsxs)(B.a,{children:[Object(w.jsx)("h2",{children:Object(w.jsx)(oe,{entID:i})}),c,Object(w.jsx)("hr",{}),s(i,a)]})},"geojson-".concat(i))]})}}]),n}(i.Component),_e=(n(49),function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getDataList",value:function(){var e=Object(_.a)(l.a.mark((function e(){var t,n,i,r,s,a,o,c,u,_,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.childRegionType,i=t.parentRegionID,r=this.constructor.getTableName(),s=this.constructor.getDisplayMode(),e.next=5,C.getChildIDs(i,n);case 5:return a=e.sent,e.next=8,ee.getTableIndex(r);case 8:return o=e.sent,c=a.map((function(e){return o[e]})).filter((function(e){return void 0!==e})),"max"!==s&&(_=s,u=ee.getValuePToRankP(c,_)),d=a.map((function(e){var t=o[e];if(t){var i,r,a;if("max"===s)i=ee.getTableRowColor(t),r=.9;else{var c=s;i=ee.getValueKeyColor(c),a=ee.getValueKeyP(t,c),r=.9*u[a]+.1}return{regionID:e,regionType:n,censusData:t,color:i,opacity:r,valueP:a}}})).filter((function(e){return void 0!==e&&"P"!==e.regionID.slice(-1)})),e.abrupt("return",d);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onClick",value:function(e,t){this.setState({parentRegionID:t,parentRegionType:e},Object(_.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataList();case 2:t=e.sent,this.setState({dataList:t});case 4:case"end":return e.stop()}}),e,this)}))).bind(this))}},{key:"renderDataList",value:function(){var e=this.state.dataList,t=e.reduce((function(e,t){return e[t.regionID]=t,e}),{}),n=this.constructor.getSource(),i=function(e,i){var r=t[e];return Object(w.jsx)(ne,{data:r,source:n})};return e.map(function(e,t){var n=e.regionType,r=e.regionID,s=e.color,a=e.opacity;e.censusData;return Object(w.jsx)(le,{regionType:n,regionID:r,onClick:this.onClick.bind(this),color:s,opacity:a,renderCustom:i,iRegion:t},"region-geo-".concat(r))}.bind(this))}},{key:"renderLegend",value:function(){var e=this.state.dataList;return Object(w.jsx)(se,{dataList:e,tableName:this.constructor.getTableName(),displayMode:this.constructor.getDisplayMode()})}}],[{key:"getTableName",value:function(){return""}},{key:"getDisplayMode",value:function(){return""}},{key:"getSource",value:function(){var e=this.getTableName();return e.includes("census")?"https://www.statistics.gov.lk":e.includes("election")?"https://www.elections.gov.lk":""}},{key:"getMetadata",value:function(){return W[this.getTableName()]}},{key:"getLabel",value:function(){var e=this.getTableName(),t=this.getDisplayMode(),n="max"===t?"Most Popular":t,i=e.split(".").splice(1,3),r=Object(g.a)(i,2),s=r[0],a=r[1],o=s.split("_");return x.toTitleCase(o.reverse().join(" "))+x.toTitleCase(a)+x.toTitleCase(n)}},{key:"renderLabel",value:function(){var e=this.getTableName(),t=this.getDisplayMode(),n="max"===t?"Most Popular":t,i=e.split(".").splice(1,3),r=Object(g.a)(i,2),s=r[0],a=r[1],o=s.split("_"),c=x.toTitleCase(o.reverse().join(" ")),u=x.toTitleCase(a),l=x.toTitleCase(n);return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"div-label-attr",children:c+" - "+u}),Object(w.jsx)("div",{className:"div-label-display-mode",children:l})]})}},{key:"getLayerClassID",value:function(){return this.getTableName()}},{key:"getRegionTypes",value:function(){var e=this.getTableName().split(".").slice(0,1),t=Object(g.a)(e,1)[0];return"regions"===t?[D.PROVINCE,D.DISTRICT,D.DSD,D.GND,D.ED,D.PD,D.MOH,D.LG]:"regions_ec"===t?[D.PROVINCE,D.ED,D.PD]:[]}}]),n}(F)),de=["max"],pe=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"build",value:function(e,t){return function(n){Object(z.a)(r,n);var i=Object(K.a)(r);function r(){return Object(d.a)(this,r),i.apply(this,arguments)}return Object(p.a)(r,null,[{key:"getTableName",value:function(){return e}},{key:"getDisplayMode",value:function(){return t}}]),r}(_e)}},{key:"getAll",value:function(){return J.reduce((function(t,n){var i=W[n].value_key_list_str.split(";");return[].concat(de,i).reduce((function(t,i){var r=e.build(n,i);return t.push(r),t}),t)}),[])}}]),e}().getAll(),ge=[].concat([V],pe),he=ge.reduce((function(e,t){return e[t.getLayerClassID()]=t,e}),{}),fe=ge[0].getLayerClassID();n(50);function ve(e){var t=e.selectedRegionType,n=e.onSelectRegionType,i=e.regionTypes.map((function(e){var i=C.getRegionName(e),r="div-region-type-picker-item"+(e===t?" div-region-type-picker-item-selected":"");return Object(w.jsx)("div",{className:r,onClick:function(t){n(e)},children:"".concat(i)},"region-type-picker-item-".concat(e))}));return Object(w.jsxs)("div",{className:"div-region-type-picker",children:[Object(w.jsx)("span",{className:"div-region-type-picker-desc",children:" By"}),i]})}n(51);var be=function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={isVisible:!1},i}return Object(p.a)(n,[{key:"render",value:function(){var e,t=this.state.isVisible,n=function(e){this.setState({isVisible:!0})}.bind(this),i=function(e){this.setState({isVisible:!1})}.bind(this);return e=t?Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"div-hide",onClick:i,children:"\xd7"}),this.props.children]}):Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"div-show",onClick:n,children:[" ",this.props.label]})}),Object(w.jsx)("div",{className:"div-show-hide",children:e})}}]),n}(i.Component),me=(n(52),function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selectedLayerClasses,n=e.onSelectLayer;var i=ge.sort((function(e,t){return e.getLabel().localeCompare(t.getLabel())}));return Object(w.jsx)(be,{label:"Layers",children:Object(w.jsx)("div",{className:"div-layer-selector",children:i.map((function(e,i){var r=e.renderLabel(),s="div-layer";return t.includes(e)&&(s+=" div-layer-selected"),Object(w.jsx)("div",{className:s,onClick:function(t){n(e)},children:r},"li-".concat(i))}))})})}}]),n}(i.Component)),ye=(n(53),function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={matchingLayerClasses:[]},i}return Object(p.a)(n,[{key:"render",value:function(){var e=this.state.matchingLayerClasses,t=this.props,n=t.onSelectLayer,i=t.onSelectRegionType,r=t.selectedLayerClasses,s=t.childRegionType,a=r.map((function(e){return e.renderLabel()})),o=r.map((function(e){return e.getSource()})),c=r[0].getRegionTypes(),u=c.length>0;return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"div-layer-view",children:Object(w.jsx)(me,{matchingLayerClasses:e,selectedLayerClasses:r,onSelectLayer:n})}),Object(w.jsxs)("div",{className:"div-layer-view-2",children:[Object(w.jsx)(te,{source:o}),Object(w.jsx)("div",{className:"div-layer-title",children:a}),u?Object(w.jsx)(ve,{onSelectRegionType:i,selectedRegionType:s,regionTypes:c}):null]})]})}}]),n}(i.Component)),je=n(68),ke=n(69),Oe=n(72),we=n(70),xe=(n(54),"data:image/png;base64,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");function De(e){return Object(je.a)({moveend:function(t){e.onMoveEnd(t)}}),null}var Te=function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.center,n=e.zoom,i=e.onMoveEnd;return Object(w.jsxs)(ke.a,{center:t,zoom:n,zoomControl:!1,children:[Object(w.jsx)(Oe.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(w.jsx)(De,{onMoveEnd:i}),Object(w.jsx)(we.a,{zoom:n,position:"bottomright"}),this.props.children,Object(w.jsx)("img",{className:"img-geolocate-geo-map",src:xe,alt:"geolocate"})]})}}]),n}(i.Component),Le=(n(55),function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(e){var i;Object(d.a)(this,n);var r=(i=t.call(this,e)).props.match.params.layerClassID,s=function(e){var t=e.split(","),n=Object(g.a)(t,3),i=n[0],r=n[1],s=n[2];return{lat:parseFloat(i.replace("N","")),lng:parseFloat(r.replace("E","")),zoom:parseInt(s.replace("z",""))}}(i.props.match.params.latLngStr),a=s.lat,o=s.lng,c=s.zoom;return i.state={layerClassID:r,selectedLayerClasses:[he[r]],center:[a,o],selectedCenter:[a,o],zoom:c,childRegionType:"pd",parentRegionType:"country",parentRegionID:"LK"},i}return Object(p.a)(n,[{key:"onMoveEnd",value:function(){var e=Object(_.a)(l.a.mark((function e(t){var n,i,r,s,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.getCenter(),i=t.target.getZoom(),r=A([n.lat,n.lng]),s=I(r,i),a=this.state.layerClassID,o="/metaverse/".concat(a,"/").concat(s),window.history.pushState({},null,o),this.setState({zoom:i,center:r});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onClickGeoLocate",value:function(e){var t;t=function(e){this.setState({center:e,selectedCenter:e,zoom:8})}.bind(this),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){t([e.coords.latitude,e.coords.longitude])})):t(N)}},{key:"onSelectLayer",value:function(e){var t=e.getLayerClassID(),n=I(this.state.center,this.state.zoom),i="/metaverse/".concat(t,"/").concat(n);window.history.pushState({},null,i),this.setState({selectedLayerClasses:[e]})}},{key:"onSelectRegionType",value:function(e){this.setState({childRegionType:e})}},{key:"render",value:function(){var e=this.state,t=e.selectedLayerClasses,n=e.center,i=e.selectedCenter,r=e.zoom,s=e.childRegionType,a=e.parentRegionID,o=e.parentRegionType;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"div-title",children:Object(w.jsx)("img",{className:"img-geolocate",src:xe,alt:"geolocate",onClick:this.onClickGeoLocate.bind(this)})}),Object(w.jsx)(ye,{onSelectLayer:this.onSelectLayer.bind(this),onSelectRegionType:this.onSelectRegionType.bind(this),selectedLayerClasses:t,childRegionType:s,parentRegionID:a}),Object(w.jsx)(Te,{center:n,zoom:r,onMoveEnd:this.onMoveEnd.bind(this),children:t.map((function(e,t){return Object(w.jsx)(e,{center:n,childRegionType:s,parentRegionID:a,parentRegionType:o},"custom-layer-class-".concat(t))}))},"geomap-".concat(i,"-").concat(s))]})}}]),n}(i.Component));n(56);var Se=function(){var e=I(N,8);return Object(w.jsx)(o.a,{basename:"/metaverse",children:Object(w.jsxs)(c.d,{children:[Object(w.jsx)(c.b,{path:"/:layerClassID/:latLngStr",component:Le}),Object(w.jsx)(c.b,{children:Object(w.jsx)(c.a,{to:"/".concat(fe,"/").concat(e)})})]})})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),s(e),a(e)}))};a.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(Se,{})}),document.getElementById("root")),Ce()}},[[65,1,2]]]);
//# sourceMappingURL=main.2652a4f1.chunk.js.map