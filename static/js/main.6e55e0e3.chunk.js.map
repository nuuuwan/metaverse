{"version":3,"sources":["base/Cache.js","base/WWW.js","base/StringX.js","base/Ents.js","base/GeoData.js","base/TimeX.js","stateful/molecules/AbstractLayer.js","stateful/molecules/custom_layers/LKVaxCentersLayer.js","base/MathX.js","constants/ColorConstants.js","base/Random.js","base/Color.js","base/Census.js","stateful/atoms/EntView.js","stateful/molecules/RegionGeo.js","stateful/molecules/custom_layers/CensusLayer.js","stateful/molecules/custom_layers/CustomLayers.js","nonstate/atoms/RegionTypePicker.js","stateful/atoms/ShowHide.js","stateful/molecules/LayerSelector.js","stateful/molecules/LayerMenuView.js","assets/images/geolocate.png","stateful/molecules/GeoMap.js","stateful/pages/HomePage.js","App.js","reportWebVitals.js","index.js"],"names":["Cache","cacheKey","asyncFallback","hotItem","localStorage","getItem","JSON","parse","coldItem","setItem","stringify","QuotaExceededError","clear","JSON_HEADERS","headers","Accept","TSV_HEADERS","jsonNonCache","url","a","fetch","response","json","dataJson","WWW","pathFragmentList","join","get","text","content","lines","split","keys","map","key","replace","dataList","slice","line","values","reduce","data","i","StringX","str","replaceAll","txt","charAt","toUpperCase","substr","toLowerCase","x","numPart","multPart","color","logBase1000","Math","log","Number","toLocaleString","undefined","maximumSignificantDigits","style","fontSize","parseInt","numerator","denominator","p","pFontSize","pow","ENT","COUNTRY","PROVINCE","DISTRICT","DSD","GND","UNKNOWN","REGION_TYPES","Object","ENT_TYPE_TO_LONG_NAME","Country","PARENT_TO_CHILD","Ents","entID","substring","length","regionType","entType","tsv","getEntsByType","ents","entIndex","ent","id","entTypes","Promise","all","getEntIndexByType","entIndexList","allEntIndex","iEnt","getEntType","parentID","childRegionType","filter","includes","toTitleCase","DEFAULT_LATLNG","getLatLngZoomStr","zoom","lat","lng","isPointInPolygon","point","polygon","y","nIntersects","j","xi","yi","xj","yj","isPointInMultiMultiPolygon","multiMultiPolygon","multiPolygon","GeoData","regionID","getGeoForRegion","getRegionTree","regionTree","regionMap","iRegionType","regionIDs","isFoundRegion","iRegion","isPointInRegion","roundLatLng","latLng","Q","round","parseFloat","TimeX","floor","Date","now","toISOString","getDate","AbstractLayer","props","state","this","isComponentMounted","getDataListAndUpdateState","getDataList","setState","renderDataList","getLabel","Component","LKVaxCentersLayer","dateID","getDateID","pathJoin","iData","position","tags","renderedDoseInfo","dose1","push","dose2","Circle","center","radius","pathOptions","eventHandlers","mouseover","e","target","openPopup","Popup","formatted_address","police","district","fuzzy_key","date","MathX","numList","_sum","num","COLOR_SL_FLAG","FIELD_NAME_TO_COLOR","other","others","bharatha","burgher","chetty","indian_tamil","malay","moor","sinhalese","sri_lankan_tamil","buddhist","islam","hindu","roman_catholic","other_christian","female","male","son_or_daughter","head","wife_or_husband","grandchild_or_great_grand_child","other_relative","non_relative","son_or_daughter_in_law","parent_of_head_or_spouse","boarder","domestic_employee","clergy","tv","mobile","radio","fixed_tp","pc","laptop","fax","fire_wood","gas","kerosene","electricity","asbestos","tile","metal_sheet","concrete","zink_aluminium_sheet","cement","tile_or_granite_or_terrazo","mud","wood","occupants_burn","occupants_bury","collected_by_local_authorities","occupants_composting_solid_waste","tap_within_unit_main_line","tap_within_premises_but_outside_unit_main_line","tap_outside_premises_main_line","protected_well_within_premises","protected_well_outside_premises","unprotected_well","tube_well","rural_water_projects","river_or_tank_or_stream","bottled_water","single_house_single_floor","single_house_double_floor","single_house_more_than_2_floors","row_house_or_line_room","attached_house_or_annex","twin_house","flat","condominium","hut_or_shanty","owned_by_a_household_member","rent_or_lease_privately_owned","rent_or_lease_government_owned","occupied_free_of_rent","encroached","water_seal_and_connected_to_a_piped_sewer_system","water_seal_and_connected_to_a_septic_tank","pour_flush_toilet_not_water_seal","direct_pit","not_using_a_toilet","electricity_national_electricity_network","solar_power","bio_gas","housing_unit","collective_living_quarter","non_housing_unit","semi_permanent","permanent","improvised","unclassified","married_registered","never_married","widowed","married_customary","separated_not_legally","divorced","legally_separated","cement_block_or_stone","brick","cabook","soil_bricks","plank_or_metal_sheet","cadjan_or_palmyrah","occupied","vacant","Random","minValue","maxValue","random","randomFloat","Color","h","s","l","randomInt","hsla","TABLE_NAMES","adhocValueKeyToColor","Census","tableName","getTable","table","valueKeys","filterValueCellKeys","tableIndex","tableRow","entity_id","entries","cleanTableRow","value","cellKey","maxValueKey","valueKey","getRandomHSLA","getMaxValueKey","getValueKeyColor","EntView","getEnt","className","name","getEntTypeLongName","STYLE_GEOJSON","fillColor","fillOpacity","weight","RegionGeo","geoData","onClick","renderCustom","geoJsonData","type","coordinates","buttonShow","subRegionType","subRegionTypeName","GeoJSON","CensusLayer","parentRegionID","constructor","getTableName","getChildIDs","childIDs","getTableIndex","childID","getTableRowColor","censusData","parentRegionType","bind","valueCellKeys","valueCellKey","sumValues","sum","sortedValueCellEntries","sort","b","iValueCellKey","valueCellValue","tdColorStyle","background","formatInt","formatPercent","censusLayerClasses","CensusLayerFactory","build","getAll","CUSTOM_LAYERS","concat","CUSTOM_LAYERS_INDEX","LayerClass","getLayerClassID","DEFAULT_LAYER_CLASS_ID","RegionTypePicker","selectedRegionType","onSelectRegionType","renderedItems","regionName","getRegionName","ShowHide","isVisible","renderedInner","onClickShow","onClickHide","children","label","LayerSelector","selectedLayerClasses","onSelectLayer","sortedLayers","localeCompare","LayerMenuView","matchingLayerClasses","title","source","getSource","showRegionTypePicker","hasRegions","href","EventComponent","useMapEvents","moveend","onMoveEnd","GeoMap","MapContainer","zoomControl","TileLayer","ZoomControl","src","imgGeoLocate","alt","HomePage","layerClassID","match","params","locationStr","latStr","lngStr","zoomStr","parseLatLngZoomStr","latLngStr","selectedCenter","mapCenter","getCenter","newZoom","getZoom","newCenter","latLngZoomStr","newUrl","window","history","pushState","callback","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","SelectedLayerClass","onClickGeoLocate","CustomLayerClass","iCustomLayerClass","App","basename","path","component","to","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6dAAqBA,E,+HACnB,WAAiBC,EAAUC,GAA3B,8EACQC,EAAUC,aAAaC,QAAQJ,IADvC,yCAGWK,KAAKC,MAAMJ,IAHtB,uBAMyBD,IANzB,OAMQM,EANR,OAOE,IACEJ,aAAaK,QAAQR,EAAUK,KAAKI,UAAUF,IAC9C,MAAOG,GACPP,aAAaQ,QAVjB,yBAYSJ,GAZT,2C,gECGIK,EAAe,CACnBC,QAAS,CACPC,OAAQ,qBAINC,EAAc,CAClBF,QAAS,CACPC,OAAQ,a,SAIGE,E,8EAAf,WAA4BC,GAA5B,iBAAAC,EAAA,sEACyBC,MAAMF,EAAKL,GADpC,cACQQ,EADR,gBAEyBA,EAASC,OAFlC,cAEQC,EAFR,yBAGSA,GAHT,4C,8BAMqBC,E,6FACnB,SAAgBC,GACd,OAAOA,EAAiBC,KAAK,O,yDAG/B,WAAkBR,GAAlB,0FACSlB,EAAM2B,IAAN,mBA1BW,YA0BX,YAAuCT,GAAvC,sBAA8C,sBAAAC,EAAA,+EAC5CF,EAAaC,IAD+B,6CADvD,2C,+GAMA,WAAiBA,GAAjB,+FACyBE,MAAMF,EAAKF,GADpC,cACQK,EADR,gBAEwBA,EAASO,OAFjC,cAEQC,EAFR,OAGQC,EAAQD,EAAQE,MAAM,MACtBC,EAAOF,EAAM,GAAGC,MAAM,MAAME,KAAI,SAACC,GAAD,OAASA,EAAIC,QAAQ,KAAM,OAC3DC,EAAWN,EAAMO,MAAM,GAAI,GAAGJ,KAAI,SAAUK,GAChD,IAAMC,EAASD,EAAKP,MAAM,MAC1B,OAAOC,EAAKQ,QAAO,SAAUC,EAAMP,EAAKQ,GAEtC,OADAD,EAAKP,GAAOK,EAAOG,GAAGP,QAAQ,KAAM,IAC7BM,IACN,OAVP,kBAYSL,GAZT,4C,6EC/BmBO,E,gGACnB,SAAmBC,GAEjB,OADAA,EAAMA,EAAIC,WAAW,IAAK,MACfV,QAAQ,UAAU,SAAUW,GACrC,OAAOA,EAAIC,OAAO,GAAGC,cAAgBF,EAAIG,OAAO,GAAGC,mB,uBAIvD,SAAiBC,GACf,IAEIC,EAASC,EAAUC,EAFjBC,EAAcC,KAAKC,IAAIN,GAAKK,KAAKC,IAAI,KAGvCN,EAAI,KACNC,EAAUM,OAAOP,EAAI,KAAWQ,oBAAeC,EAAW,CACxDC,yBAhBe,IAkBjBR,EAAW,IACXC,EAAQ,SACCH,EAAI,KACbC,EAAUM,OAAOP,EAAI,KAAOQ,oBAAeC,EAAW,CACpDC,yBAtBe,IAwBjBR,EAAW,IACXC,EAAQ,SAERF,EAAUM,OAAOP,GAAGQ,oBAAeC,EAAW,CAC5CC,yBA5Be,IA8BjBR,EAAW,GACXC,EAAQ,aAGV,IAAMQ,EAAQ,CACZC,SAAUC,SAAuB,IAAdT,GAAqB,IACxCD,SAGF,OACE,uBAAMQ,MAAOA,EAAb,UACGV,EACAC,O,2BAKP,SAAqBY,EAAWC,GAC9B,IAQIZ,EAREa,EAAIF,EAAYC,EAChBE,EAAYZ,KAAKa,IAAIF,EAAG,KAE1Bf,EAAUM,OAAOS,GAAGR,oBAAeC,EAAW,CAChDE,MAAO,UACPD,yBArDiB,IAyDfM,EAAI,GACNb,EAAQ,QACCa,EAAI,IACbb,EAAQ,QAERA,EAAQ,YACRF,EAAU,OAGZ,IAAMU,EAAQ,CACZC,SAAUC,SAAqB,IAAZI,GAAmB,IACtCd,MAAOA,GAGT,OAAO,sBAAMQ,MAAOA,EAAb,SAAqBV,Q,KCpEnBkB,EAAM,CACjBC,QAAS,UACTC,SAAU,WACVC,SAAU,WACVC,IAAK,MACLC,IAAK,MACLC,QAAS,kBAGEC,EAAeC,OAAOvC,OAAO+B,GAE7BS,GAAqB,mBAC/BT,EAAIU,QAAU,WADiB,cAE/BV,EAAIE,SAAW,YAFgB,cAG/BF,EAAIG,SAAW,YAHgB,cAI/BH,EAAII,IAAM,mCAJqB,cAK/BJ,EAAIK,IAAM,4BALqB,GAQrBM,GAAe,mBACzBX,EAAIC,QAAUD,EAAIE,UADO,cAEzBF,EAAIE,SAAWF,EAAIG,UAFM,cAGzBH,EAAIG,SAAWH,EAAII,KAHM,cAIzBJ,EAAII,IAAMJ,EAAIK,KAJW,cAKzBL,EAAIK,SAAMf,GALe,GAQPsB,E,+FACnB,SAAkBC,GAChB,GAA8B,OAA1BA,EAAMC,UAAU,EAAG,GAErB,OADoBD,EAAME,QAExB,KAAK,EACH,OAAOf,EAAIC,QACb,KAAK,EACH,OAAOD,EAAIE,SACb,KAAK,EACH,OAAOF,EAAIG,SACb,KAAK,EACH,OAAOH,EAAII,IACb,KAAK,GACH,OAAOJ,EAAIK,IACb,QACE,OAAOL,EAAIM,QAGjB,OAAON,EAAIM,U,2BAEb,SAAqBU,GACnB,OAAOP,EAAsBO,K,kEAE/B,WAA2BC,GAA3B,8EACQrE,EADR,+BACsCqE,EADtC,iBAEe/D,EAAIgE,IAAItE,GAFvB,mF,6HAKA,WAA+BqE,GAA/B,uFACqBL,EAAKO,cAAcF,GADxC,cACQG,EADR,yBAESA,EAAKlD,QAAO,SAAUmD,EAAUC,GAErC,OADAD,EAASC,EAAIC,IAAMD,EACZD,IACN,KALL,2C,0HAQA,6FACQG,EAAWjB,EADnB,SAE6BkB,QAAQC,IACjCF,EAAS7D,IAAT,uCAAa,WAAgBsD,GAAhB,SAAApE,EAAA,sEACE+D,EAAKe,kBAAkBV,GADzB,mFAAb,wDAHJ,cAEQW,EAFR,yBAQSJ,EAAStD,QAAO,SAAU2D,EAAaZ,EAASa,GAErD,OADAD,EAAYZ,GAAWW,EAAaE,GAC7BD,IACN,KAXL,2C,iHAcA,WAAoBhB,GAApB,kFACQI,EAAUL,EAAKmB,WAAWlB,GADlC,SAEyBD,EAAKe,kBAAkBV,GAFhD,cAEQI,EAFR,QAGMC,EAAMD,EAASR,IACZ,WACLS,EAAG,SAAetF,KAAKC,MAAMqF,EAAG,WALpC,kBAOSA,GAPT,2C,+HAUA,kIAEepE,EAAIF,KAFnB,yH,sHAKA,WAAyBgF,EAAUC,GAAnC,uFACqBrB,EAAKO,cAAcc,GADxC,cACQb,EADR,yBAESA,EACJzD,KAAI,SAAC2D,GAAD,OAASA,EAAIC,MACjBW,QAAO,SAACrB,GAAD,OAAWA,EAAMsB,SAASH,OAJtC,2C,yFAOA,SAA0Bf,GACxB,OAAOR,EAAsBQ,GACzBR,EAAsBQ,GACtB5C,EAAQ+D,YAAYnB,O,KCpGfoB,EAAiB,CAAC,OAAQ,SAMhC,SAASC,EAAT,EAAsCC,GAAO,IAAD,mBAAjBC,EAAiB,KAAZC,EAAY,KACjD,MAAM,GAAN,OAAUD,EAAV,aAAkBC,EAAlB,aAA0BF,EAA1B,KAqBF,SAASG,EAAiBC,EAAOC,GAC/B,kBAAeD,EAAf,GAAOE,EAAP,KAAUhE,EAAV,KACIiE,EAAc,EAClB,IAAK,IAAI1E,KAAKwE,EAAS,CACrB,IAAMG,GAAK3E,EAAI,EAAIwE,EAAQ7B,QAAU6B,EAAQ7B,OAE7C,cAAiB6B,EAAQxE,GAAzB,GAAO4E,EAAP,KAAWC,EAAX,KACA,cAAiBL,EAAQG,GAAzB,GAAOG,EAAP,KAAWC,EAAX,KAGUF,EAAKJ,IAAMM,EAAKN,GAEhBhE,GAAMqE,EAAKF,IAAOH,EAAII,IAAQE,EAAKF,GAAMD,IAIjDF,GAAe,GAGnB,OAAOA,EAAc,IAAM,EAG7B,SAASM,EAA2BT,EAAOU,GACzC,IAAK,IAAIjF,KAAKiF,EAAmB,CAC/B,IAAMC,EAAeD,EAAkBjF,GACvC,IAAK,IAAI2E,KAAKO,EAAc,CAE1B,GAAIZ,EAAiBC,EADLW,EAAaP,IAE3B,OAAO,GAIb,OAAO,E,IAGYQ,E,2IACnB,WAA6BC,GAA7B,gFACQxC,EAAaJ,EAAKmB,WAAWyB,GAC7B5G,EAFR,8BAEqCoE,EAFrC,YAEmDwC,EAFnD,kBAGetG,EAAIF,KAAKJ,GAHxB,mF,yHAMA,oIAEeM,EAAIF,KAFnB,2H,0HAKA,WAA6B2F,EAAOa,GAApC,uFAC6BD,EAAQE,gBAAgBD,GADrD,cACQF,EADR,yBAESF,EAA2BT,EAAOW,IAF3C,2C,gIAKA,WAAgCX,GAAhC,qGACyBY,EAAQG,gBADjC,OACMC,EADN,OAGMC,EAAY,GAHlB,cAK0BrD,GAL1B,8CAKWsD,EALX,WAMU7C,EAAaT,EAAasD,GAC1BC,EAAYtD,OAAO9C,KAAKiG,GAC1BI,GAAgB,EARxB,cASwBD,GATxB,sDASaE,EATb,WAUYR,EAAWM,EAAUE,GAVjC,UAWqCT,EAAQU,gBAAgBtB,EAAOa,GAXpE,iBAaQI,EAAU5C,GAAcwC,EACxBG,EAAaA,EAAWH,GACxBO,GAAgB,GAfxB,2BAkBSA,EAlBT,qGAsBSH,GAtBT,4C,8DA0BK,SAASM,EAAYC,GAC1B,IAAMC,EAAI,IACV,OAAOD,EAAOxG,KAAI,SAACkB,GAAD,OAAOK,KAAKmF,MAAMC,WAAWzF,GAAKuF,GAAKA,K,kBClHtCG,E,gGACnB,WACE,OAAOrF,KAAKsF,MAAMC,KAAKC,MAAQ,O,qBAGjC,WACE,OAAO,IAAID,MAAOE,cAAc5G,MAAM,EAAG,M,uBAG3C,WACE,OAAOwG,EAAMK,UAAUrG,WAAW,IAAK,Q,qBCNtBsG,G,wDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAEjH,cAAUwB,GAFR,E,sFAKnB,sBAAAzC,EAAA,+EACS,IADT,2C,4HAIA,sBAAAA,EAAA,6DACEmI,KAAKC,oBAAqB,EAD5B,SAEQD,KAAKE,4BAFb,gD,oIAKA,4BAAArI,EAAA,sEACyBmI,KAAKG,cAD9B,OACQrH,EADR,OAEMkH,KAAKC,oBACPD,KAAKI,SAAS,CAAEtH,aAHpB,gD,wFAOA,WACEkH,KAAKC,oBAAqB,I,4BAuB5B,WACE,OAAO,O,oBAGT,WAEE,OADqBD,KAAKD,MAAlBjH,SAIDkH,KAAKK,iBAFH,Q,8BA3BX,WACE,MAAO,a,sBAGT,WACE,MAAO,kB,qBAGT,SAAe/H,GACb,OAAO0H,KAAKM,WAAW1G,cAAcuD,SAAS7E,EAAKsB,iB,uBAGrD,WACE,MAAO,mB,wBAGT,WACE,OAAO,M,GA3CgC2G,cCGtBC,E,wMAcnB,8BAAA3I,EAAA,6DACQ4I,EAASlB,EAAMmB,YACf9I,EAAMM,EAAIyI,SAAS,CACvB,oCACA,uBAFuB,iCAGGF,EAHH,UAF3B,SAOevI,EAAIgE,IAAItE,GAPvB,mF,kFAUA,WAGE,OAFqBoI,KAAKD,MAAlBjH,SAEQH,KAAI,SAAUQ,EAAMyH,GAClC,IAAKzH,EAAKqE,IACR,OAAO,KAET,IAAMqD,EAAW,CAACvB,WAAWnG,EAAKqE,KAAM8B,WAAWnG,EAAKsE,MAEpDzD,EAAQ,QACRb,EAAK2H,OACP9G,EAAQ,OAGV,IAAI+G,EAAmB,GACnB5H,EAAK6H,OACPD,EAAiBE,KAAK,yBAEpB9H,EAAK+H,OACPH,EAAiBE,KAAK,yBASxB,OACE,cAACE,EAAA,EAAD,CAEEC,OAAQP,EACRQ,OA1DmB,IA2DnBC,YAAa,CAAEtH,MAAOA,GACtBuH,cAZkB,CACpBC,UAAW,SAAUC,GACnBA,EAAEC,OAAOC,cAKX,SAOE,eAACC,EAAA,EAAD,WACE,6BAAKzI,EAAKiI,SACV,kCAAUjI,EAAK0I,oBACdd,EACD,uBACA,gCACE,iCAAS5H,EAAK2I,SADhB,IACkC,gBAAiB,IACjD,iCAAS3I,EAAK4I,WAFhB,eAIA,8BAAM5I,EAAK2H,OACX,qBAAKtG,MAAO,CAAEC,SAAU,OAAxB,SAAkCtB,EAAK6I,gBAjB3C,qBACqBpB,U,8BArD3B,WACE,MAAO,wB,sBAGT,WACE,IAAMqB,EAAO1C,EAAMK,UACnB,MAAM,6CAAN,OAA0CqC,EAA1C,O,uBAGF,WACE,MAAO,2C,GAXoCpC,GCP1BqC,E,wFACnB,SAAWC,GACT,OAAOA,EAAQjJ,QAAO,SAAUkJ,EAAMC,GACpC,OAAOD,EAAOC,IACb,O,KCJMC,EAEJ,qBAFIA,EAGL,sBAGKC,EAAsB,CACjCC,MAAO,aACPC,OAAQ,OAERC,SAAU,OACVC,QAAS,SACTC,OAAQ,OACRC,aAAcP,EACdQ,MAAOR,EACPS,KAAMT,EACNU,UAfS,qBAgBTC,iBAAkBX,EAElBY,SAfU,qBAgBVC,MAAOb,EACPc,MAAOd,EACPe,eAAgB,SAChBC,gBAAiB,OAEjBC,OAAQ,OACRC,KAAM,YAGNC,gBAAiB,QACjBC,KAAM,OACNC,gBAAiB,OACjBC,gCAAiC,YACjCC,eAAgB,SAChBC,aAAc,SACdC,uBAAwB,aACxBC,yBAA0B,MAC1BC,QAAS,OACTC,kBAAmB,QACnBC,OAAQ,SAERC,GAAI,QACJC,OAAQ,SACRC,MAAO,SACPC,SAAU,OACVC,GAAI,MACJC,OAAQ,OACRC,IAAK,SAELC,UAAW,QACXC,IAAK,SACLC,SAAU,SACVC,YAAa,OAKbC,SAAU,OACVC,KAAM,UACNC,YAAa,SACbC,SAAU,QACVC,qBAAsB,OACtBC,OAAQ,YACRC,2BAA4B,SAC5BC,IAAK,YACLC,KAAM,QAENC,eAAgB,MAChBC,eAAgB,SAChBC,+BAAgC,OAChCC,iCAAkC,QAElCC,0BAA2B,YAC3BC,+CAAgD,QAChDC,+BAAgC,SAChCC,+BAAgC,OAChCC,gCAAiC,YACjCC,iBAAkB,SAClBC,UAAW,OACXC,qBAAsB,OACtBC,wBAAyB,MACzBC,cAAe,SAEfC,0BAA2B,YAC3BC,0BAA2B,QAC3BC,gCAAiC,aACjCC,uBAAwB,SACxBC,wBAAyB,SACzBC,WAAY,OACZC,KAAM,OACNC,YAAa,SACbC,cAAe,MAGfC,4BAA6B,QAC7BC,8BAA+B,OAC/BC,+BAAgC,OAChCC,sBAAuB,SACvBC,WAAY,MAEZC,iDAAkD,QAClDC,0CAA2C,aAC3CC,iCAAkC,SAClCC,WAAY,MACZC,mBAAoB,QAEpBC,yCAA0C,OAC1CC,YAAa,SACbC,QAAS,SAETC,aAAc,QACdC,0BAA2B,SAC3BC,iBAAkB,MAElBC,eAAgB,SAChBC,UAAW,QACXC,WAAY,MACZC,aAAc,QAEdC,mBAAoB,OACpBC,cAAe,QACfC,QAAS,SACTC,kBAAmB,YACnBC,sBAAuB,OACvBC,SAAU,MACVC,kBAAmB,SAEnBC,sBAAuB,WACvBC,MAAO,SACPC,OAAQ,SACRC,YAAa,QACbC,qBAAsB,SAEtBC,mBAAoB,SACpBC,SAAU,QACVC,OAAQ,OCvIWC,E,gGACnB,SAAmBC,EAAUC,GAC3B,OAAOD,EAAWjP,KAAKmP,UAAYD,EAAWD,K,uBAGhD,SAAiBA,EAAUC,GACzB,OAAO1O,SAASwO,EAAOI,YAAYH,EAAUC,Q,KCJ5BG,E,yFACnB,SAAYC,EAAGC,EAAGC,EAAG7R,GACnB,MAAM,QAAN,OAAe2R,EAAf,YAAoBC,EAApB,aAA0BC,EAA1B,aAAgCF,EAAhC,O,2BAEF,WACE,IAAMA,EAAIN,EAAOS,UAAU,EAAG,KAI9B,OAAOJ,EAAMK,KAAKJ,EAHR,IACA,GACA,O,KCNDK,EAAc,CACzB,wCACA,wBACA,iCACA,yCACA,oCACA,0BACA,mBACA,+CACA,sCACA,+BACA,uBACA,kBACA,0BACA,uBACA,qCACA,6BACA,6BACA,4BACA,6BACA,oCACA,iCACA,uCACA,wBACA,4BACA,yCAGEC,EAAuB,GAENC,E,uIACnB,gIAEe7R,EAAIF,KAFnB,uH,mHAKA,WAAsBgS,GAAtB,8EACQpS,EADR,sCAC6CoS,EAD7C,iBAEe9R,EAAIgE,IAAItE,GAFvB,mF,yHAKA,WAA2BoS,GAA3B,yFACsBD,EAAOE,SAASD,GADtC,cACQE,EADR,OAEQC,EAAYJ,EAAOK,oBAAoBF,EAAM,IAFrD,kBAGSA,EAAMhR,QAAO,SAAUmR,EAAYC,GAWxC,OAVAD,EAAWC,EAASC,WAAa/O,OAAOgP,QAAQF,GAAUpR,QACxD,SAAUuR,EAAV,GAAwC,IAAD,mBAAb7R,EAAa,KAAR8R,EAAQ,KAKrC,OAJIP,EAAUhN,SAASvE,KACrB8R,EAAQpL,WAAWoL,IAErBD,EAAc7R,GAAO8R,EACdD,IAET,IAEKJ,IACN,KAfL,2C,wFAkBA,SAA2BC,GACzB,OAAO9O,OAAO9C,KAAK4R,GAAUpN,QAC3B,SAACyN,GAAD,QAAeA,EAAQxN,SAAS,WAAyB,cAAZwN,Q,4BAIjD,SAAsBL,GACpB,IAAMH,EAAYJ,EAAOK,oBAAoBE,GAO7C,OANoBH,EAAUjR,QAAO,SAAU0R,EAAaC,GAI1D,OAHIP,EAASM,GAAeN,EAASO,KACnCD,EAAcC,GAETD,IACNT,EAAU,M,8BAIf,SAAwBU,GACtB,OAAItI,EAAoBsI,GACftI,EAAoBsI,IAExBf,EAAqBe,KACxBf,EAAqBe,GAAYtB,EAAMuB,iBAElChB,EAAqBe,M,8BAG9B,SAAwBP,GACtB,IAAMM,EAAcb,EAAOgB,eAAeT,GAC1C,OAAOP,EAAOiB,iBAAiBJ,O,aCvFdK,I,wDACnB,WAAYnL,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAEzD,SAAKhC,GAFH,E,4FAKnB,8BAAAzC,EAAA,6DACUgE,EAAUmE,KAAKF,MAAfjE,MADV,SAEoBD,EAAKsP,OAAOrP,GAFhC,OAEQS,EAFR,OAGE0D,KAAKI,SAAS,CAAE9D,QAHlB,gD,0EAMA,WACE,IAAQT,EAAUmE,KAAKF,MAAfjE,MACAS,EAAQ0D,KAAKD,MAAbzD,IACFL,EAAUL,EAAKmB,WAAWlB,GAChC,OAAKS,EAIH,sBAAK6O,UAAU,eAAf,UACE,sBAAMA,UAAU,gBAAhB,SAAiC7O,EAAI8O,OACrC,sBAAMD,UAAU,gBAAhB,SACGvP,EAAKyP,mBAAmBpP,QANtB,qBAAKkP,UAAU,aAAf,SAA6BtP,Q,GAjBL0E,cCQ/B+K,I,MAAgB,CACpBtR,MAAO,QACPuR,UAAW,MACXC,YAAa,GACbC,OAAQ,IAGWC,G,kDACnB,WAAY5L,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAE4L,aAASrR,EAAWgC,SAAKhC,GAFvB,E,4FAKnB,gCAAAzC,EAAA,6DACEmI,KAAKC,oBAAqB,EAClBzB,EAAawB,KAAKF,MAAlBtB,SAFV,SAGwBD,EAAQE,gBAAgBD,GAHhD,cAGQmN,EAHR,gBAIoB/P,EAAKsP,OAAO1M,GAJhC,OAIQlC,EAJR,OAMM0D,KAAKC,oBACPD,KAAKI,SAAS,CAAEuL,UAASrP,QAP7B,gD,wFAWA,WACE0D,KAAKC,oBAAqB,I,oBAG5B,WACE,IAAQ0L,EAAY3L,KAAKD,MAAjB4L,QACR,IAAKA,EACH,MAAO,MAGT,MAAiE3L,KAAKF,MAA9D9D,EAAR,EAAQA,WAAYwC,EAApB,EAAoBA,SAAUoN,EAA9B,EAA8BA,QAASC,EAAvC,EAAuCA,aAAc7M,EAArD,EAAqDA,QAE/C8M,EAAc,CAClBC,KAAM,eACNC,YAAaL,GAGXM,EAAa,KACXC,EAAgBvQ,EAAgBK,GACtC,GAAIkQ,EAAe,CACjB,IAAMC,EAAoB1Q,EAAsByQ,GAIhDD,EACE,sBAAKd,UAAU,WAAWS,QAJP,WACnBA,EAAQ5P,EAAYwC,IAGpB,iBAEE,4CAAa2N,EAAb,UAKN,IAAI3R,EAAQ8Q,GAKZ,OAJItL,KAAKF,MAAM9F,QACbQ,EAAM+Q,UAAYvL,KAAKF,MAAM9F,OAI7B,cAACoS,EAAA,EAAD,CACEjB,UAAU,UAEVhS,KAAM2S,EACNtR,MAAOA,EAJT,SAME,eAACoH,EAAA,EAAD,WACE,6BACE,cAAC,GAAD,CAAS/F,MAAO2C,MAEjByN,EACD,uBACCJ,EAAa7M,OAZlB,kBAEkBR,Q,GAzDe+B,aCVlB8L,I,8MAqBnB,wCAAAxU,EAAA,+DAC8CmI,KAAKF,MAAzC7C,EADV,EACUA,gBAAiBqP,EAD3B,EAC2BA,eACnBtC,EAAYhK,KAAKuM,YAAYC,eAFrC,SAGyB5Q,EAAK6Q,YAAYH,EAAgBrP,GAH1D,cAGQyP,EAHR,gBAI2B3C,EAAO4C,cAAc3C,GAJhD,cAIQK,EAJR,OAMQvR,EAAW4T,EAAS/T,KAAI,SAAUiU,GACtC,IAAMtC,EAAWD,EAAWuC,GACtB5S,EAAQ+P,EAAO8C,iBAAiBvC,GACtC,MAAO,CACL9L,SAAUoO,EACV5Q,WAAYiB,EACZ6P,WAAYxC,EACZtQ,MAAOA,MAbb,kBAgBSlB,GAhBT,iD,2EAmBA,SAAQkD,EAAYwC,GAClBwB,KAAKI,SACH,CACEkM,eAAgB9N,EAChBuO,iBAAkB/Q,GAEpB,cAAAnE,EAAA,kCAAAA,EAAA,sEACyBmI,KAAKG,cAD9B,OACQrH,EADR,OAEEkH,KAAKI,SAAS,CAAEtH,aAFlB,gDAGEkU,KAAKhN,S,4BAIX,WACE,IAAQlH,EAAakH,KAAKD,MAAlBjH,SAEF+S,EAAe,SAAU7M,GAC7B,IACMsL,EADOxR,EAASkG,GACA8N,WAChBG,EAAgBlD,EAAOK,oBAAoBE,GAC3CrR,EAASgU,EAActU,KAC3B,SAACuU,GAAD,OAAkB5C,EAAS4C,MAEvBC,EAAYjL,EAAMkL,IAAInU,GAEtBoU,EAAyBJ,EAC5BtU,KAAI,SAACuU,GAAD,MAAkB,CAACA,EAAc5C,EAAS4C,OAC9CI,MAAK,SAACzV,EAAG0V,GAAJ,OAAUA,EAAE,GAAK1V,EAAE,MAC3B,OACE,gCACE,gCACGwV,EAAuB1U,KAAI,WAE1B6U,GACC,IAAD,mBAFCN,EAED,KAFeO,EAEf,KACMC,EAAe,CACnBC,WAAY5D,EAAOiB,iBAAiBkC,IAEtC,OACE,+BACE,oBAAI/B,UAAU,WAAW3Q,MAAOkT,IAChC,6BAAKrU,EAAQ+D,YAAY8P,KACzB,oBAAI/B,UAAU,YAAd,SACG9R,EAAQuU,UAAUH,KAErB,oBAAItC,UAAU,YAAd,SACG9R,EAAQwU,cAAcJ,EAAgBN,OAP3C,UAAYK,EAAZ,YAA6BN,YAiBzC,OAAOpU,EAASH,IACd,WAAuDqG,GAAU,IAArDhD,EAAoD,EAApDA,WAAYwC,EAAwC,EAAxCA,SAAUxE,EAA8B,EAA9BA,MAA8B,EAAvB8S,WACvC,OACE,cAAC,GAAD,CAEE9Q,WAAYA,EACZwC,SAAUA,EACVoN,QAAS5L,KAAK4L,QAAQoB,KAAKhN,MAC3BhG,MAAOA,EACP6R,aAAcA,EACd7M,QAASA,GAPX,qBACqBR,KASvBwO,KAAKhN,U,2BA5GX,WACE,MAAO,K,sBAGT,WACE,MAAO,K,uBAGT,WACE,MAAO,kC,qBAGT,SAAe1H,GACb,OAAO,I,wBAGT,WACE,OAAO,M,GAlB8BuH,ICPnCiO,GDyHN,0FACE,SAAa9D,GAcX,OAbiB,uKACf,WACE,OAAOA,IAFM,sBAKf,WACE,OAAO3Q,EAAQ+D,YAAY4M,EAAUzQ,WAAW,IAAK,QANxC,6BASf,WACE,OAAOyG,KAAKwM,mBAVC,GAAiBH,MAFtC,oBAkBE,WACE,OAAOxC,EAAYlR,KAAI,SAACqR,GAAD,OAAe+D,EAAmBC,MAAMhE,UAnBnE,KCzH8CiE,SAEjCC,GAAgB,GAAGC,OAAO,CAAC3N,GAAoBsN,IAE/CM,GAAsBF,GAAchV,QAAO,SACtDkV,EACAC,GAGA,OADAD,EAAoBC,EAAWC,mBAAqBD,EAC7CD,IAET,IAEaG,GAAyBL,GAAc,GAAGI,kB,MCZxC,SAASE,GAAiB1O,GACvC,IAAQ2O,EAA2C3O,EAA3C2O,mBAAoBC,EAAuB5O,EAAvB4O,mBAGtBC,EAFc,CAAC3T,EAAIE,SAAUF,EAAIG,SAAUH,EAAII,KAEnBzC,KAAI,SAAUqD,GAC9C,IAAM4S,EAAahT,EAAKiT,cAAc7S,GAKhCmP,EACJ,gCACCnP,IAAeyS,EACZ,yCACA,IACN,OACE,sBAEEtD,UAAWA,EACXS,QAbY,SAAUnK,GACxBiN,EAAmB1S,IASnB,mBAKM4S,IALN,kCACkC5S,OAQtC,OACE,sBAAKmP,UAAU,yBAAf,UACE,sBAAMA,UAAU,8BAAhB,iBACCwD,K,UC7BcG,G,kDACnB,WAAYhP,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAEgP,WAAW,GAFT,E,0CAKnB,WACE,IAUIC,EAVID,EAAc/O,KAAKD,MAAnBgP,UAEFE,EAAc,SAAUxN,GAC5BzB,KAAKI,SAAS,CAAE2O,WAAW,KAC3B/B,KAAKhN,MAEDkP,EAAc,SAAUzN,GAC5BzB,KAAKI,SAAS,CAAE2O,WAAW,KAC3B/B,KAAKhN,MAuBP,OAnBEgP,EADED,EAEA,gCACE,qBAAK5D,UAAU,WAAWS,QAASsD,EAAnC,kBAGClP,KAAKF,MAAMqP,YAKd,8BACE,sBAAKhE,UAAU,WAAWS,QAASqD,EAAnC,UACG,IACAjP,KAAKF,MAAMsP,WAMb,qBAAKjE,UAAU,gBAAf,SAAgC6D,Q,GAtCLzO,aCIjB8O,I,kKACnB,WACE,MAAgDrP,KAAKF,MAA7CwP,EAAR,EAAQA,qBAAsBC,EAA9B,EAA8BA,cAmB9B,IAAMC,EAAetB,GAAcZ,MAAK,SAAUzV,EAAG0V,GACnD,OAAO1V,EAAEyI,WAAWmP,cAAclC,EAAEjN,eAGtC,OACE,cAAC,GAAD,CAAU8O,MAAM,SAAhB,SACE,qBAAKjE,UAAU,qBAAf,SACGqE,EAAa7W,KAxBpB,SAAqB0V,GACnB,IAAMe,EAAQf,EAAW/N,WAKrB6K,EAAY,YAIhB,OAHImE,EAAqBnS,SAASkR,KAChClD,GAAa,uBAGb,qBAAKA,UAAWA,EAA+BS,QATjC,SAAUnK,GACxB8N,EAAclB,IAQd,SACGe,GADH,aAAsCA,e,GAfH7O,cCEtBmP,I,wDACnB,WAAY5P,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAE4P,qBAAsB,IAFpB,E,0CAInB,WACE,IAAQA,EAAyB3P,KAAKD,MAA9B4P,qBACR,EAMI3P,KAAKF,MALPyP,EADF,EACEA,cACAb,EAFF,EAEEA,mBACAY,EAHF,EAGEA,qBACArS,EAJF,EAIEA,gBACAqP,EALF,EAKEA,eAGIsD,EAAQN,EAAqB3W,KAAI,SAAC0V,GAAD,OACrCA,EAAW/N,cAGPuP,EAASP,EAAqB3W,KAAI,SAAC0V,GAAD,OACtCA,EAAWyB,eAGPC,EAAuBT,EAAqBpW,QAAO,SACvD6W,EACA1B,GAEA,OAAO0B,GAAwB1B,EAAW2B,gBAE5C,GAEA,OACE,gCACE,qBAAK7E,UAAU,iBAAf,SACE,cAAC,GAAD,CACEwE,qBAAsBA,EACtBL,qBAAsBA,EACtBC,cAAeA,MAGnB,sBAAKpE,UAAU,mBAAf,UACE,qBAAKA,UAAU,kBAAf,SAAkCyE,IAClC,sBAAKzE,UAAU,mBAAf,UACG,WACD,mBAAGA,UAAU,sBAAsB8E,KAAMJ,EAAQnO,OAAO,UAAxD,SACGmO,OAGL,cAAC,GAAD,CAAShU,MAAOyQ,IACfyD,EACC,cAAC,GAAD,CACErB,mBAAoBA,EACpBD,mBAAoBxR,IAEpB,e,GAtD6BsD,c,oCCT5B,I,MAAA,s1PCcf,SAAS2P,GAAepQ,GAMtB,OALAqQ,aAAa,CACXC,QAAS,SAAC3O,GACR3B,EAAMuQ,UAAU5O,MAGb,K,IAGY6O,G,4JACnB,WACE,MAAoCtQ,KAAKF,MAAjCsB,EAAR,EAAQA,OAAQ7D,EAAhB,EAAgBA,KAAM8S,EAAtB,EAAsBA,UACtB,OACE,eAACE,GAAA,EAAD,CAAcnP,OAAQA,EAAQ7D,KAAMA,EAAMiT,aAAa,EAAvD,UACE,cAACC,GAAA,EAAD,CAAW7Y,IAhBA,uDAiBX,cAACsY,GAAD,CAAgBG,UAAWA,IAC3B,cAACK,GAAA,EAAD,CAAanT,KAAMA,EAAMsD,SAAS,gBACjCb,KAAKF,MAAMqP,SACZ,qBACEhE,UAAU,wBACVwF,IAAKC,GACLC,IAAK,qB,GAZqBtQ,aCNfuQ,I,wDACnB,WAAYhR,GAAQ,IAAD,sBAGjB,IAAMiR,GAFN,cAAMjR,IAEoBA,MAAMkR,MAAMC,OAAOF,aAE7C,EnBPG,SAA4BG,GACjC,MAAkCA,EAAYzY,MAAM,KAApD,mBAAO0Y,EAAP,KAAeC,EAAf,KAAuBC,EAAvB,KAIA,MAAO,CAAE7T,IAHG8B,WAAW6R,EAAOtY,QAAQ,IAAK,KAG7B4E,IAFF6B,WAAW8R,EAAOvY,QAAQ,IAAK,KAExB0E,KADN7C,SAAS2W,EAAQxY,QAAQ,IAAK,MmBGdyY,CADT,EAAKxR,MAAMkR,MAAMC,OAAOM,WAClC/T,EAAR,EAAQA,IAAKC,EAAb,EAAaA,IAAKF,EAAlB,EAAkBA,KALD,OAOjB,EAAKwC,MAAQ,CACXgR,eACAzB,qBAAsB,CAAClB,GAAoB2C,IAC3C3P,OAAQ,CAAC5D,EAAKC,GACd+T,eAAgB,CAAChU,EAAKC,GACtBF,KAAMA,EACNN,gBAAiB,WACjB8P,iBAAkB,UAClBT,eAAgB,MAfD,E,oFAmBnB,WAAgB7K,GAAhB,yBAAA5J,EAAA,sDACQ4Z,EAAYhQ,EAAEC,OAAOgQ,YACrBC,EAAUlQ,EAAEC,OAAOkQ,UACnBC,EAAY3S,EAAY,CAACuS,EAAUjU,IAAKiU,EAAUhU,MAElDqU,EAAgBxU,EAAiBuU,EAAWF,GAC5CZ,EAAe/Q,KAAKD,MAAMgR,aAC1BgB,EAPR,qBAO+BhB,EAP/B,YAO+Ce,GAC7CE,OAAOC,QAAQC,UAAU,GAAI,KAAMH,GAEnC/R,KAAKI,SAAS,CACZ7C,KAAMoU,EACNvQ,OAAQyQ,IAZZ,gD,qFAgBA,SAAiBpQ,GnB7BZ,IAA0B0Q,ImB+B3B,SAAUhT,GACRa,KAAKI,SAAS,CACZgB,OAAQjC,EACRqS,eAAgBrS,EAChB5B,KnBtDkB,MmBwDpByP,KAAKhN,MnBpCPoS,UAAUC,YACZD,UAAUC,YAAYC,oBAAmB,SAAUzR,GACjDsR,EAAS,CAACtR,EAAS0R,OAAOC,SAAU3R,EAAS0R,OAAOE,eAGtDN,EAAS9U,K,2BmBmCX,SAAcqV,GACZ,IAAM3B,EAAe2B,EAAmBpE,kBAClCwD,EAAgBxU,EAAiB0C,KAAKD,MAAMqB,OAAQpB,KAAKD,MAAMxC,MAC/DwU,EAAM,qBAAiBhB,EAAjB,YAAiCe,GAC7CE,OAAOC,QAAQC,UAAU,GAAI,KAAMH,GAEnC/R,KAAKI,SAAS,CACZkP,qBAAsB,CAACoD,O,gCAI3B,SAAmB1W,GACjBgE,KAAKI,SAAS,CAAEnD,gBAAiBjB,M,oBAGnC,WACE,MAQIgE,KAAKD,MAPPuP,EADF,EACEA,qBACAlO,EAFF,EAEEA,OACAoQ,EAHF,EAGEA,eACAjU,EAJF,EAIEA,KACAN,EALF,EAKEA,gBACAqP,EANF,EAMEA,eACAS,EAPF,EAOEA,iBAGF,OACE,qCACE,qBAAK5B,UAAU,YAAf,SACE,qBACEA,UAAU,gBACVwF,IAAKC,GACLC,IAAI,YACJjF,QAAS5L,KAAK2S,iBAAiB3F,KAAKhN,UAGxC,cAAC,GAAD,CACEuP,cAAevP,KAAKuP,cAAcvC,KAAKhN,MACvC0O,mBAAoB1O,KAAK0O,mBAAmB1B,KAAKhN,MACjDsP,qBAAsBA,EACtBrS,gBAAiBA,EACjBqP,eAAgBA,IAElB,cAAC,GAAD,CAEElL,OAAQA,EACR7D,KAAMA,EACN8S,UAAWrQ,KAAKqQ,UAAUrD,KAAKhN,MAJjC,SAMGsP,EAAqB3W,KAAI,SACxBia,EACAC,GAEA,OACE,cAACD,EAAD,CAEExR,OAAQA,EACRnE,gBAAiBA,EACjBqP,eAAgBA,EAChBS,iBAAkBA,GALpB,6BAC6B8F,QAZnC,iBACiBrB,EADjB,YACmCvU,W,GA5FLsD,c,MCYvBuS,OAdf,WACE,IAAMvB,EpBPCjU,EAAiBD,EAJE,IoBY1B,OACE,cAAC,IAAD,CAAQ0V,SAAS,aAAjB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,4BAA4BC,UAAWnC,KACnD,cAAC,IAAD,UACE,cAAC,IAAD,CAAUoC,GAAE,WAAM3E,GAAN,YAAgCgD,aCVvC4B,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1Bb,O","file":"static/js/main.6e55e0e3.chunk.js","sourcesContent":["export default class Cache {\n  static async get(cacheKey, asyncFallback) {\n    const hotItem = localStorage.getItem(cacheKey);\n    if (hotItem) {\n      return JSON.parse(hotItem);\n    }\n\n    const coldItem = await asyncFallback();\n    try {\n      localStorage.setItem(cacheKey, JSON.stringify(coldItem));\n    } catch (QuotaExceededError) {\n      localStorage.clear();\n    }\n    return coldItem;\n  }\n}\n","import Cache from \"./Cache.js\";\n\nconst CACHE_VERSION = \"v20210823\";\n\nconst JSON_HEADERS = {\n  headers: {\n    Accept: \"application/json\",\n  },\n};\n\nconst TSV_HEADERS = {\n  headers: {\n    Accept: \"text/csv\",\n  },\n};\n\nasync function jsonNonCache(url) {\n  const response = await fetch(url, JSON_HEADERS);\n  const dataJson = await response.json();\n  return dataJson;\n}\n\nexport default class WWW {\n  static pathJoin(pathFragmentList) {\n    return pathFragmentList.join(\"/\");\n  }\n\n  static async json(url) {\n    return Cache.get(`WWW.json.${CACHE_VERSION}.${url}`, async function () {\n      return jsonNonCache(url);\n    });\n  }\n\n  static async tsv(url) {\n    const response = await fetch(url, TSV_HEADERS);\n    const content = await response.text();\n    const lines = content.split(\"\\n\");\n    const keys = lines[0].split(\"\\t\").map((key) => key.replace(\"\\r\", \"\"));\n    const dataList = lines.slice(1, -1).map(function (line) {\n      const values = line.split(\"\\t\");\n      return keys.reduce(function (data, key, i) {\n        data[key] = values[i].replace(\"\\r\", \"\");\n        return data;\n      }, {});\n    });\n    return dataList;\n  }\n}\n","const MAX_SIG_DIGITS = 2;\n\nexport default class StringX {\n  static toTitleCase(str) {\n    str = str.replaceAll(\"_\", \" \");\n    return str.replace(/\\w\\S*/g, function (txt) {\n      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n    });\n  }\n\n  static formatInt(x) {\n    const logBase1000 = Math.log(x) / Math.log(1000);\n\n    let numPart, multPart, color;\n    if (x > 1_000_000) {\n      numPart = Number(x / 1_000_000).toLocaleString(undefined, {\n        maximumSignificantDigits: MAX_SIG_DIGITS,\n      });\n      multPart = \"M\";\n      color = \"black\";\n    } else if (x > 1_000) {\n      numPart = Number(x / 1_000).toLocaleString(undefined, {\n        maximumSignificantDigits: MAX_SIG_DIGITS,\n      });\n      multPart = \"K\";\n      color = \"gray\";\n    } else {\n      numPart = Number(x).toLocaleString(undefined, {\n        maximumSignificantDigits: MAX_SIG_DIGITS,\n      });\n      multPart = \"\";\n      color = \"lightgray\";\n    }\n\n    const style = {\n      fontSize: parseInt(logBase1000 * 100) + \"%\",\n      color,\n    };\n\n    return (\n      <span style={style}>\n        {numPart}\n        {multPart}\n      </span>\n    );\n  }\n\n  static formatPercent(numerator, denominator) {\n    const p = numerator / denominator;\n    const pFontSize = Math.pow(p, 0.01);\n\n    let numPart = Number(p).toLocaleString(undefined, {\n      style: \"percent\",\n      maximumSignificantDigits: MAX_SIG_DIGITS,\n    });\n\n    let color;\n    if (p > 0.1) {\n      color = \"black\";\n    } else if (p > 0.01) {\n      color = \"gray\";\n    } else {\n      color = \"lightgray\";\n      numPart = \"<1%\";\n    }\n\n    const style = {\n      fontSize: parseInt(pFontSize * 100) + \"%\",\n      color: color,\n    };\n\n    return <span style={style}>{numPart}</span>;\n  }\n}\n","import StringX from \"./StringX.js\";\nimport WWW from \"./WWW.js\";\n\nexport const ENT = {\n  COUNTRY: \"country\",\n  PROVINCE: \"province\",\n  DISTRICT: \"district\",\n  DSD: \"dsd\",\n  GND: \"gnd\",\n  UNKNOWN: \"unknown-entity\",\n};\n\nexport const REGION_TYPES = Object.values(ENT);\n\nexport const ENT_TYPE_TO_LONG_NAME = {\n  [ENT.Country]: \"Country\",\n  [ENT.PROVINCE]: \"Province\",\n  [ENT.DISTRICT]: \"District\",\n  [ENT.DSD]: \"Divisional Secretariat Division\",\n  [ENT.GND]: \"Grama Niladhari Division\",\n};\n\nexport const PARENT_TO_CHILD = {\n  [ENT.COUNTRY]: ENT.PROVINCE,\n  [ENT.PROVINCE]: ENT.DISTRICT,\n  [ENT.DISTRICT]: ENT.DSD,\n  [ENT.DSD]: ENT.GND,\n  [ENT.GND]: undefined,\n};\n\nexport default class Ents {\n  static getEntType(entID) {\n    if (entID.substring(0, 2) === \"LK\") {\n      const entIDLength = entID.length;\n      switch (entIDLength) {\n        case 2:\n          return ENT.COUNTRY;\n        case 4:\n          return ENT.PROVINCE;\n        case 5:\n          return ENT.DISTRICT;\n        case 7:\n          return ENT.DSD;\n        case 10:\n          return ENT.GND;\n        default:\n          return ENT.UNKNOWN;\n      }\n    }\n    return ENT.UNKNOWN;\n  }\n  static getRegionName(regionType) {\n    return ENT_TYPE_TO_LONG_NAME[regionType];\n  }\n  static async getEntsByType(entType) {\n    const url = `/metaverse/data/ents/${entType}.tsv`;\n    return await WWW.tsv(url);\n  }\n\n  static async getEntIndexByType(entType) {\n    const ents = await Ents.getEntsByType(entType);\n    return ents.reduce(function (entIndex, ent) {\n      entIndex[ent.id] = ent;\n      return entIndex;\n    }, {});\n  }\n\n  static async getAllEntIndex() {\n    const entTypes = REGION_TYPES;\n    const entIndexList = await Promise.all(\n      entTypes.map(async function (entType) {\n        return await Ents.getEntIndexByType(entType);\n      })\n    );\n\n    return entTypes.reduce(function (allEntIndex, entType, iEnt) {\n      allEntIndex[entType] = entIndexList[iEnt];\n      return allEntIndex;\n    }, {});\n  }\n\n  static async getEnt(entID) {\n    const entType = Ents.getEntType(entID);\n    const entIndex = await Ents.getEntIndexByType(entType);\n    let ent = entIndex[entID];\n    if (ent[\"centroid\"]) {\n      ent[\"centroid\"] = JSON.parse(ent[\"centroid\"]);\n    }\n    return ent;\n  }\n\n  static async getParentToChildMap() {\n    const url = `data/ents/parent_to_child_map.json`;\n    return await WWW.json(url);\n  }\n\n  static async getChildIDs(parentID, childRegionType) {\n    const ents = await Ents.getEntsByType(childRegionType);\n    return ents\n      .map((ent) => ent.id)\n      .filter((entID) => entID.includes(parentID));\n  }\n\n  static getEntTypeLongName(entType) {\n    return ENT_TYPE_TO_LONG_NAME[entType]\n      ? ENT_TYPE_TO_LONG_NAME[entType]\n      : StringX.toTitleCase(entType);\n  }\n}\n","import WWW from \"./WWW.js\";\nimport Ents from \"./Ents.js\";\n\nimport { REGION_TYPES } from \"./Ents.js\";\n\nexport const DEFAULT_ZOOM = 15;\nexport const DEFAULT_LATLNG = [6.9157, 79.8636];\n\nexport function getDefaultLatLngZoomStr() {\n  return getLatLngZoomStr(DEFAULT_LATLNG, DEFAULT_ZOOM);\n}\n\nexport function getLatLngZoomStr([lat, lng], zoom) {\n  return `${lat}N,${lng}E,${zoom}z`;\n}\n\nexport function parseLatLngZoomStr(locationStr) {\n  const [latStr, lngStr, zoomStr] = locationStr.split(\",\");\n  const lat = parseFloat(latStr.replace(\"N\", \"\"));\n  const lng = parseFloat(lngStr.replace(\"E\", \"\"));\n  const zoom = parseInt(zoomStr.replace(\"z\", \"\"));\n  return { lat, lng, zoom };\n}\n\nexport function getBrowserLatLng(callback) {\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      callback([position.coords.latitude, position.coords.longitude]);\n    });\n  } else {\n    callback(DEFAULT_LATLNG);\n  }\n}\n\nfunction isPointInPolygon(point, polygon) {\n  const [y, x] = point;\n  let nIntersects = 0;\n  for (let i in polygon) {\n    const j = (i - 1 + polygon.length) % polygon.length;\n\n    const [xi, yi] = polygon[i];\n    const [xj, yj] = polygon[j];\n\n    // eslint-disable-next-line no-mixed-operators\n    const a = yi > y !== yj > y;\n    // eslint-disable-next-line no-mixed-operators\n    const b = x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\n\n    const intersect = a && b;\n    if (intersect) {\n      nIntersects += 1;\n    }\n  }\n  return nIntersects % 2 === 1;\n}\n\nfunction isPointInMultiMultiPolygon(point, multiMultiPolygon) {\n  for (let i in multiMultiPolygon) {\n    const multiPolygon = multiMultiPolygon[i];\n    for (let j in multiPolygon) {\n      const polygon = multiPolygon[j];\n      if (isPointInPolygon(point, polygon)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nexport default class GeoData {\n  static async getGeoForRegion(regionID) {\n    const regionType = Ents.getEntType(regionID);\n    const url = `/metaverse/data/geo/${regionType}/${regionID}.json`;\n    return await WWW.json(url);\n  }\n\n  static async getRegionTree() {\n    const url = `/metaverse/data/geo/region_tree.json`;\n    return await WWW.json(url);\n  }\n\n  static async isPointInRegion(point, regionID) {\n    const multiPolygon = await GeoData.getGeoForRegion(regionID);\n    return isPointInMultiMultiPolygon(point, multiPolygon);\n  }\n\n  static async getRegionsForPoint(point) {\n    let regionTree = await GeoData.getRegionTree();\n\n    let regionMap = {};\n\n    for (let iRegionType in REGION_TYPES) {\n      const regionType = REGION_TYPES[iRegionType];\n      const regionIDs = Object.keys(regionTree);\n      let isFoundRegion = false;\n      for (let iRegion in regionIDs) {\n        const regionID = regionIDs[iRegion];\n        const _isPointInRegion = await GeoData.isPointInRegion(point, regionID);\n        if (_isPointInRegion) {\n          regionMap[regionType] = regionID;\n          regionTree = regionTree[regionID];\n          isFoundRegion = true;\n        }\n      }\n      if (!isFoundRegion) {\n        break;\n      }\n    }\n    return regionMap;\n  }\n}\n\nexport function roundLatLng(latLng) {\n  const Q = 1000_000;\n  return latLng.map((x) => Math.round(parseFloat(x) * Q) / Q);\n}\n","export default class TimeX {\n  static getUnixTime() {\n    return Math.floor(Date.now() / 1000);\n  }\n\n  static getDate() {\n    return new Date().toISOString().slice(0, 10);\n  }\n\n  static getDateID() {\n    return TimeX.getDate().replaceAll(\"-\", \"\");\n  }\n}\n","import { Component } from \"react\";\n\nimport \"./AbstractLayer.css\";\n\nexport default class AbstractLayer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { dataList: undefined };\n  }\n\n  async getDataList() {\n    return [];\n  }\n\n  async componentDidMount() {\n    this.isComponentMounted = true;\n    await this.getDataListAndUpdateState();\n  }\n\n  async getDataListAndUpdateState() {\n    const dataList = await this.getDataList();\n    if (this.isComponentMounted) {\n      this.setState({ dataList });\n    }\n  }\n\n  componentWillUnmount() {\n    this.isComponentMounted = false;\n  }\n\n  static getLayerClassID() {\n    return \"abstract\";\n  }\n\n  static getLabel() {\n    return \"AbstractLayer\";\n  }\n\n  static isMatch(text) {\n    return this.getLabel().toLowerCase().includes(text.toLowerCase());\n  }\n\n  static getSource() {\n    return \"Source unknown\";\n  }\n\n  static hasRegions() {\n    return false;\n  }\n\n  renderDataList() {\n    return null;\n  }\n\n  render() {\n    const { dataList } = this.state;\n    if (!dataList) {\n      return null;\n    }\n    return this.renderDataList();\n  }\n}\n","import WWW from \"../../../base/WWW.js\";\nimport TimeX from \"../../../base/TimeX.js\";\nimport { Circle, Popup } from \"react-leaflet\";\nimport AbstractLayer from \"../AbstractLayer.js\";\n\nconst DEFAULT_CIRLE_RADIUS = 1000;\n\nexport default class LKVaxCentersLayer extends AbstractLayer {\n  static getLayerClassID() {\n    return \"covid19_vax_centers\";\n  }\n\n  static getLabel() {\n    const date = TimeX.getDate();\n    return `COVID19 🦠 Vaccination Centers (${date})`;\n  }\n\n  static getSource() {\n    return \"https://www.presidentsoffice.gov.lk/\";\n  }\n\n  async getDataList() {\n    const dateID = TimeX.getDateID();\n    const url = WWW.pathJoin([\n      \"https://raw.githubusercontent.com\",\n      \"nuuuwan/covid19/data\",\n      `covid19.lk_vax_centers.${dateID}.tsv`,\n    ]);\n    return await WWW.tsv(url);\n  }\n\n  renderDataList() {\n    const { dataList } = this.state;\n\n    return dataList.map(function (data, iData) {\n      if (!data.lat) {\n        return null;\n      }\n      const position = [parseFloat(data.lat), parseFloat(data.lng)];\n\n      let color = \"green\";\n      if (data.tags) {\n        color = \"red\";\n      }\n\n      let renderedDoseInfo = [];\n      if (data.dose1) {\n        renderedDoseInfo.push(\"💉 1st Dose\");\n      }\n      if (data.dose2) {\n        renderedDoseInfo.push(\"💉 2nd Dose\");\n      }\n\n      const eventHandlers = {\n        mouseover: function (e) {\n          e.target.openPopup();\n        },\n      };\n\n      return (\n        <Circle\n          key={`layer-data-${iData}`}\n          center={position}\n          radius={DEFAULT_CIRLE_RADIUS}\n          pathOptions={{ color: color }}\n          eventHandlers={eventHandlers}\n        >\n          <Popup>\n            <h3>{data.center}</h3>\n            <address>{data.formatted_address}</address>\n            {renderedDoseInfo}\n            <hr />\n            <div>\n              <strong>{data.police}</strong> {\"Police Area, \"}{\" \"}\n              <strong>{data.district}</strong> District\n            </div>\n            <div>{data.tags}</div>\n            <div style={{ fontSize: \"70%\" }}>{data.fuzzy_key}</div>\n          </Popup>\n        </Circle>\n      );\n    });\n  }\n}\n","export default class MathX {\n  static sum(numList) {\n    return numList.reduce(function (_sum, num) {\n      return _sum + num;\n    }, 0);\n  }\n}\n","export const COLOR_SL_FLAG = {\n  SINHALA: \"hsl(355, 63%, 34%)\",\n  TAMIL: \"hsl(21, 100%, 50%)\",\n  MOOR: \"hsl(165, 100%, 17%)\",\n  BUDDHIST: \"hsl(43, 100%, 50%)\",\n};\nexport const FIELD_NAME_TO_COLOR = {\n  other: \"ghostwhite\",\n  others: \"gray\",\n  // ethnicity_of_population\n  bharatha: \"cyan\",\n  burgher: \"purple\",\n  chetty: \"blue\",\n  indian_tamil: COLOR_SL_FLAG.TAMIL,\n  malay: COLOR_SL_FLAG.MOOR,\n  moor: COLOR_SL_FLAG.MOOR,\n  sinhalese: COLOR_SL_FLAG.SINHALA,\n  sri_lankan_tamil: COLOR_SL_FLAG.TAMIL,\n  // religious_affiliation_of_population\n  buddhist: COLOR_SL_FLAG.BUDDHIST,\n  islam: COLOR_SL_FLAG.MOOR,\n  hindu: COLOR_SL_FLAG.TAMIL,\n  roman_catholic: \"purple\",\n  other_christian: \"blue\",\n  // gender_of_population\n  female: \"pink\",\n  male: \"lightblue\",\n  // age_group_of_population\n  // relationship_to_household_head_of_population\n  son_or_daughter: \"green\",\n  head: \"blue\",\n  wife_or_husband: \"pink\",\n  grandchild_or_great_grand_child: \"darkgreen\",\n  other_relative: \"yellow\",\n  non_relative: \"silver\",\n  son_or_daughter_in_law: \"lightgreen\",\n  parent_of_head_or_spouse: \"red\",\n  boarder: \"gray\",\n  domestic_employee: \"brown\",\n  clergy: \"yellow\", //\n  // communication_items_owned_by_household\n  tv: \"green\",\n  mobile: \"purple\",\n  radio: \"maroon\",\n  fixed_tp: \"blue\",\n  pc: \"red\",\n  laptop: \"pink\",\n  fax: \"silver\",\n  // cooking_fuel_of_household\n  fire_wood: \"brown\",\n  gas: \"orange\",\n  kerosene: \"purple\",\n  electricity: \"blue\",\n  // roof_type_in_housing_unit\n\n  // rooms_in_housing_unit\n  // floor_type_in_housing_unit\n  asbestos: \"gray\",\n  tile: \"darkred\",\n  metal_sheet: \"silver\",\n  concrete: \"green\",\n  zink_aluminium_sheet: \"blue\",\n  cement: \"lightgray\",\n  tile_or_granite_or_terrazo: \"orange\",\n  mud: \"darkbrown\",\n  wood: \"brown\",\n  // solid_waste_disposal_by_household\n  occupants_burn: \"red\",\n  occupants_bury: \"orange\",\n  collected_by_local_authorities: \"blue\",\n  occupants_composting_solid_waste: \"green\",\n  // source_of_drinking_water_of_household\n  tap_within_unit_main_line: \"darkgreen\",\n  tap_within_premises_but_outside_unit_main_line: \"green\",\n  tap_outside_premises_main_line: \"orange\",\n  protected_well_within_premises: \"blue\",\n  protected_well_outside_premises: \"lightblue\",\n  unprotected_well: \"purple\",\n  tube_well: \"cyan\",\n  rural_water_projects: \"pink\",\n  river_or_tank_or_stream: \"red\", //\n  bottled_water: \"silver\",\n  // structure_of_housing_units\n  single_house_single_floor: \"darkgreen\",\n  single_house_double_floor: \"green\",\n  single_house_more_than_2_floors: \"lightgreen\",\n  row_house_or_line_room: \"orange\",\n  attached_house_or_annex: \"silver\",\n  twin_house: \"cyan\",\n  flat: \"blue\",\n  condominium: \"purple\",\n  hut_or_shanty: \"red\",\n\n  // housing_ownership_status_of_household\n  owned_by_a_household_member: \"green\",\n  rent_or_lease_privately_owned: \"blue\",\n  rent_or_lease_government_owned: \"cyan\",\n  occupied_free_of_rent: \"orange\",\n  encroached: \"red\",\n  // toilet_facilities_of_household\n  water_seal_and_connected_to_a_piped_sewer_system: \"green\",\n  water_seal_and_connected_to_a_septic_tank: \"lightgreen\",\n  pour_flush_toilet_not_water_seal: \"orange\",\n  direct_pit: \"red\",\n  not_using_a_toilet: \"black\",\n  // lighting_of_household\n  electricity_national_electricity_network: \"blue\",\n  solar_power: \"yellow\",\n  bio_gas: \"orange\",\n  // living_quarters\n  housing_unit: \"green\",\n  collective_living_quarter: \"orange\",\n  non_housing_unit: \"red\",\n  // type_of_housing_unit\n  semi_permanent: \"orange\",\n  permanent: \"green\",\n  improvised: \"red\",\n  unclassified: \"black\",\n  // marital_status_of_population\n  married_registered: \"blue\",\n  never_married: \"green\",\n  widowed: \"orange\",\n  married_customary: \"lightblue\",\n  separated_not_legally: \"pink\",\n  divorced: \"red\",\n  legally_separated: \"maroon\",\n  // wall_type_in_housing_units\n  cement_block_or_stone: \"darkgray\",\n  brick: \"maroon\",\n  cabook: \"orange\",\n  soil_bricks: \"green\",\n  plank_or_metal_sheet: \"silver\",\n  // occupation_status_of_housing_units\n  cadjan_or_palmyrah: \"orange\",\n  occupied: \"green\",\n  vacant: \"red\",\n  // year_of_construction_of_housing_unit\n  // persons_living_in_housing_unit\n};\n","export default class Random {\n  static randomFloat(minValue, maxValue) {\n    return minValue + Math.random() * (maxValue - minValue);\n  }\n\n  static randomInt(minValue, maxValue) {\n    return parseInt(Random.randomFloat(minValue, maxValue));\n  }\n}\n","import Random from \"./Random.js\";\n\nexport default class Color {\n  static hsla(h, s, l, a) {\n    return `hsla(${h},${s}%,${l}%,${h})`;\n  }\n  static getRandomHSLA() {\n    const h = Random.randomInt(0, 360);\n    const s = 100;\n    const l = 80;\n    const a = 1;\n    return Color.hsla(h, s, l, a);\n  }\n}\n","import { FIELD_NAME_TO_COLOR } from \"../constants/ColorConstants.js\";\nimport WWW from \"./WWW.js\";\nimport Color from \"./Color.js\";\n\nexport const TABLE_NAMES = [\n  \"housing_ownership_status_of_household\",\n  \"lighting_of_household\",\n  \"toilet_facilities_of_household\",\n  \"communication_items_owned_by_household\",\n  \"solid_waste_disposal_by_household\",\n  \"ethnicity_of_population\",\n  \"total_population\",\n  \"relationship_to_household_head_of_population\",\n  \"religious_affiliation_of_population\",\n  \"marital_status_of_population\",\n  \"gender_of_population\",\n  \"living_quarters\",\n  \"age_group_of_population\",\n  \"type_of_housing_unit\",\n  \"occupation_status_of_housing_units\",\n  \"wall_type_in_housing_units\",\n  \"structure_of_housing_units\",\n  \"roof_type_in_housing_unit\",\n  \"floor_type_in_housing_unit\",\n  \"households_living_in_housing_unit\",\n  \"persons_living_in_housing_unit\",\n  \"year_of_construction_of_housing_unit\",\n  \"rooms_in_housing_unit\",\n  \"cooking_fuel_of_household\",\n  \"source_of_drinking_water_of_household\",\n];\n\nlet adhocValueKeyToColor = {};\n\nexport default class Census {\n  static async getMetaData() {\n    const url = `/metaverse/data/census/meta.json`;\n    return await WWW.json(url);\n  }\n\n  static async getTable(tableName) {\n    const url = `/metaverse/data/census/data.${tableName}.tsv`;\n    return await WWW.tsv(url);\n  }\n\n  static async getTableIndex(tableName) {\n    const table = await Census.getTable(tableName);\n    const valueKeys = Census.filterValueCellKeys(table[0]);\n    return table.reduce(function (tableIndex, tableRow) {\n      tableIndex[tableRow.entity_id] = Object.entries(tableRow).reduce(\n        function (cleanTableRow, [key, value]) {\n          if (valueKeys.includes(key)) {\n            value = parseFloat(value);\n          }\n          cleanTableRow[key] = value;\n          return cleanTableRow;\n        },\n        {}\n      );\n      return tableIndex;\n    }, {});\n  }\n\n  static filterValueCellKeys(tableRow) {\n    return Object.keys(tableRow).filter(\n      (cellKey) => !(cellKey.includes(\"total_\") || cellKey === \"entity_id\")\n    );\n  }\n\n  static getMaxValueKey(tableRow) {\n    const valueKeys = Census.filterValueCellKeys(tableRow);\n    const maxValueKey = valueKeys.reduce(function (maxValueKey, valueKey) {\n      if (tableRow[maxValueKey] < tableRow[valueKey]) {\n        maxValueKey = valueKey;\n      }\n      return maxValueKey;\n    }, valueKeys[0]);\n    return maxValueKey;\n  }\n\n  static getValueKeyColor(valueKey) {\n    if (FIELD_NAME_TO_COLOR[valueKey]) {\n      return FIELD_NAME_TO_COLOR[valueKey];\n    }\n    if (!adhocValueKeyToColor[valueKey]) {\n      adhocValueKeyToColor[valueKey] = Color.getRandomHSLA();\n    }\n    return adhocValueKeyToColor[valueKey];\n  }\n\n  static getTableRowColor(tableRow) {\n    const maxValueKey = Census.getMaxValueKey(tableRow);\n    return Census.getValueKeyColor(maxValueKey);\n  }\n}\n","import { Component } from \"react\";\nimport Ents from \"../../base/Ents.js\";\n\nimport \"./EntView.css\";\n\nexport default class EntView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ent: undefined };\n  }\n\n  async componentDidMount() {\n    const { entID } = this.props;\n    const ent = await Ents.getEnt(entID);\n    this.setState({ ent });\n  }\n\n  render() {\n    const { entID } = this.props;\n    const { ent } = this.state;\n    const entType = Ents.getEntType(entID);\n    if (!ent) {\n      return <div className=\"div-ent-id\">{entID}</div>;\n    }\n    return (\n      <div className=\"div-ent-name\">\n        <span className=\"span-ent-name\">{ent.name}</span>\n        <span className=\"span-ent-type\">\n          {Ents.getEntTypeLongName(entType)}\n        </span>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { GeoJSON, Popup } from \"react-leaflet\";\n\nimport GeoData from \"../../base/GeoData.js\";\nimport Ents, {\n  ENT_TYPE_TO_LONG_NAME,\n  PARENT_TO_CHILD,\n} from \"../../base/Ents.js\";\n\nimport EntView from \"../atoms/EntView.js\";\n\nimport \"./RegionGeo.css\";\n\nconst STYLE_GEOJSON = {\n  color: \"white\",\n  fillColor: \"red\",\n  fillOpacity: 0.5,\n  weight: 1,\n};\n\nexport default class RegionGeo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { geoData: undefined, ent: undefined };\n  }\n\n  async componentDidMount() {\n    this.isComponentMounted = true;\n    const { regionID } = this.props;\n    const geoData = await GeoData.getGeoForRegion(regionID);\n    const ent = await Ents.getEnt(regionID);\n\n    if (this.isComponentMounted) {\n      this.setState({ geoData, ent });\n    }\n  }\n\n  componentWillUnmount() {\n    this.isComponentMounted = false;\n  }\n\n  render() {\n    const { geoData } = this.state;\n    if (!geoData) {\n      return \"...\";\n    }\n\n    const { regionType, regionID, onClick, renderCustom, iRegion } = this.props;\n\n    const geoJsonData = {\n      type: \"MultiPolygon\",\n      coordinates: geoData,\n    };\n\n    let buttonShow = null;\n    const subRegionType = PARENT_TO_CHILD[regionType];\n    if (subRegionType) {\n      const subRegionTypeName = ENT_TYPE_TO_LONG_NAME[subRegionType];\n      const onClickInner = function () {\n        onClick(regionType, regionID);\n      };\n      buttonShow = (\n        <div className=\"div-show\" onClick={onClickInner}>\n          Show\n          <strong>{` ${subRegionTypeName}s`}</strong>\n        </div>\n      );\n    }\n\n    let style = STYLE_GEOJSON;\n    if (this.props.color) {\n      style.fillColor = this.props.color;\n    }\n\n    return (\n      <GeoJSON\n        className=\"geojson\"\n        key={`geojson-${regionID}`}\n        data={geoJsonData}\n        style={style}\n      >\n        <Popup>\n          <h2>\n            <EntView entID={regionID} />\n          </h2>\n          {buttonShow}\n          <hr />\n          {renderCustom(iRegion)}\n        </Popup>\n      </GeoJSON>\n    );\n  }\n}\n","import Ents from \"../../../base/Ents.js\";\nimport MathX from \"../../../base/MathX.js\";\nimport StringX from \"../../../base/StringX.js\";\nimport Census, { TABLE_NAMES } from \"../../../base/Census.js\";\n\nimport AbstractLayer from \"../AbstractLayer.js\";\nimport RegionGeo from \"../RegionGeo.js\";\n\nimport \"./CensusLayer.css\";\n\nexport default class CensusLayer extends AbstractLayer {\n  static getTableName() {\n    return \"\";\n  }\n\n  static getLabel() {\n    return \"\";\n  }\n\n  static getSource() {\n    return \"http://www.statistics.gov.lk/\";\n  }\n\n  static isMatch(text) {\n    return false;\n  }\n\n  static hasRegions() {\n    return true;\n  }\n\n  async getDataList() {\n    const { childRegionType, parentRegionID } = this.props;\n    const tableName = this.constructor.getTableName();\n    const childIDs = await Ents.getChildIDs(parentRegionID, childRegionType);\n    const tableIndex = await Census.getTableIndex(tableName);\n\n    const dataList = childIDs.map(function (childID) {\n      const tableRow = tableIndex[childID];\n      const color = Census.getTableRowColor(tableRow);\n      return {\n        regionID: childID,\n        regionType: childRegionType,\n        censusData: tableRow,\n        color: color,\n      };\n    });\n    return dataList;\n  }\n\n  onClick(regionType, regionID) {\n    this.setState(\n      {\n        parentRegionID: regionID,\n        parentRegionType: regionType,\n      },\n      async function () {\n        const dataList = await this.getDataList();\n        this.setState({ dataList });\n      }.bind(this)\n    );\n  }\n\n  renderDataList() {\n    const { dataList } = this.state;\n\n    const renderCustom = function (iRegion) {\n      const data = dataList[iRegion];\n      const tableRow = data.censusData;\n      const valueCellKeys = Census.filterValueCellKeys(tableRow);\n      const values = valueCellKeys.map(\n        (valueCellKey) => tableRow[valueCellKey]\n      );\n      const sumValues = MathX.sum(values);\n\n      const sortedValueCellEntries = valueCellKeys\n        .map((valueCellKey) => [valueCellKey, tableRow[valueCellKey]])\n        .sort((a, b) => b[1] - a[1]);\n      return (\n        <table>\n          <tbody>\n            {sortedValueCellEntries.map(function (\n              [valueCellKey, valueCellValue],\n              iValueCellKey\n            ) {\n              const tdColorStyle = {\n                background: Census.getValueKeyColor(valueCellKey),\n              };\n              return (\n                <tr key={`${iValueCellKey}-${valueCellKey}`}>\n                  <td className=\"td-color\" style={tdColorStyle}></td>\n                  <th>{StringX.toTitleCase(valueCellKey)}</th>\n                  <td className=\"td-number\">\n                    {StringX.formatInt(valueCellValue)}\n                  </td>\n                  <td className=\"td-number\">\n                    {StringX.formatPercent(valueCellValue, sumValues)}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      );\n    };\n\n    return dataList.map(\n      function ({ regionType, regionID, color, censusData }, iRegion) {\n        return (\n          <RegionGeo\n            key={`region-geo-${regionID}`}\n            regionType={regionType}\n            regionID={regionID}\n            onClick={this.onClick.bind(this)}\n            color={color}\n            renderCustom={renderCustom}\n            iRegion={iRegion}\n          />\n        );\n      }.bind(this)\n    );\n  }\n}\n\nexport class CensusLayerFactory {\n  static build(tableName) {\n    const CensusClass = class extends CensusLayer {\n      static getTableName() {\n        return tableName;\n      }\n\n      static getLabel() {\n        return StringX.toTitleCase(tableName.replaceAll(\"_\", \" \"));\n      }\n\n      static getLayerClassID() {\n        return this.getTableName();\n      }\n    };\n    return CensusClass;\n  }\n\n  static getAll() {\n    return TABLE_NAMES.map((tableName) => CensusLayerFactory.build(tableName));\n  }\n}\n","import LKVaxCentersLayer from \"./LKVaxCentersLayer.js\";\nimport { CensusLayerFactory } from \"./CensusLayer.js\";\n\nconst censusLayerClasses = CensusLayerFactory.getAll();\n\nexport const CUSTOM_LAYERS = [].concat([LKVaxCentersLayer], censusLayerClasses);\n\nexport const CUSTOM_LAYERS_INDEX = CUSTOM_LAYERS.reduce(function (\n  CUSTOM_LAYERS_INDEX,\n  LayerClass\n) {\n  CUSTOM_LAYERS_INDEX[LayerClass.getLayerClassID()] = LayerClass;\n  return CUSTOM_LAYERS_INDEX;\n},\n{});\n\nexport const DEFAULT_LAYER_CLASS_ID = CUSTOM_LAYERS[0].getLayerClassID();\n","import Ents, { ENT } from \"../../base/Ents.js\";\n\nimport \"./RegionTypePicker.css\";\n\nexport default function RegionTypePicker(props) {\n  const { selectedRegionType, onSelectRegionType } = props;\n  const regionTypes = [ENT.PROVINCE, ENT.DISTRICT, ENT.DSD];\n\n  const renderedItems = regionTypes.map(function (regionType) {\n    const regionName = Ents.getRegionName(regionType);\n    const onClick = function (e) {\n      onSelectRegionType(regionType);\n    };\n\n    const className =\n      \"span-region-type-picker-item\" +\n      (regionType === selectedRegionType\n        ? \" span-region-type-picker-item-selected\"\n        : \"\");\n    return (\n      <span\n        key={`region-type-picker-item-${regionType}`}\n        className={className}\n        onClick={onClick}\n      >\n        {`${regionName}`}\n      </span>\n    );\n  });\n  return (\n    <div className=\"div-region-type-picker\">\n      <span className=\"div-region-type-picker-desc\"> By</span>\n      {renderedItems}\n    </div>\n  );\n}\n","import { Component } from \"react\";\nimport \"./ShowHide.css\";\n\nexport default class ShowHide extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { isVisible: false };\n  }\n\n  render() {\n    const { isVisible } = this.state;\n\n    const onClickShow = function (e) {\n      this.setState({ isVisible: true });\n    }.bind(this);\n\n    const onClickHide = function (e) {\n      this.setState({ isVisible: false });\n    }.bind(this);\n\n    let renderedInner;\n    if (isVisible) {\n      renderedInner = (\n        <div>\n          <div className=\"div-hide\" onClick={onClickHide}>\n            ×\n          </div>\n          {this.props.children}\n        </div>\n      );\n    } else {\n      renderedInner = (\n        <div>\n          <div className=\"div-show\" onClick={onClickShow}>\n            {\" \"}\n            {this.props.label}\n          </div>\n        </div>\n      );\n    }\n\n    return <div className=\"div-show-hide\">{renderedInner}</div>;\n  }\n}\n","import { Component } from \"react\";\n\nimport { CUSTOM_LAYERS } from \"./custom_layers/CustomLayers.js\";\nimport ShowHide from \"../atoms/ShowHide.js\";\n\nimport \"./LayerSelector.css\";\n\nexport default class LayerSelector extends Component {\n  render() {\n    const { selectedLayerClasses, onSelectLayer } = this.props;\n\n    function renderLayer(LayerClass) {\n      const label = LayerClass.getLabel();\n      const onClick = function (e) {\n        onSelectLayer(LayerClass);\n      };\n\n      let className = \"div-layer\";\n      if (selectedLayerClasses.includes(LayerClass)) {\n        className += \" div-layer-selected\";\n      }\n      return (\n        <div className={className} key={`li-${label}`} onClick={onClick}>\n          {label}\n        </div>\n      );\n    }\n\n    const sortedLayers = CUSTOM_LAYERS.sort(function (a, b) {\n      return a.getLabel().localeCompare(b.getLabel());\n    });\n\n    return (\n      <ShowHide label=\"Layers\">\n        <div className=\"div-layer-selector\">\n          {sortedLayers.map(renderLayer)}\n        </div>\n      </ShowHide>\n    );\n  }\n}\n","import { Component } from \"react\";\n\nimport RegionTypePicker from \"../../nonstate/atoms/RegionTypePicker.js\";\n\nimport LayerSelector from \"./LayerSelector.js\";\nimport EntView from \"../atoms/EntView.js\";\n\nimport \"./LayerMenuView.css\";\n\nexport default class LayerMenuView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { matchingLayerClasses: [] };\n  }\n  render() {\n    const { matchingLayerClasses } = this.state;\n    const {\n      onSelectLayer,\n      onSelectRegionType,\n      selectedLayerClasses,\n      childRegionType,\n      parentRegionID,\n    } = this.props;\n\n    const title = selectedLayerClasses.map((LayerClass) =>\n      LayerClass.getLabel()\n    );\n\n    const source = selectedLayerClasses.map((LayerClass) =>\n      LayerClass.getSource()\n    );\n\n    const showRegionTypePicker = selectedLayerClasses.reduce(function (\n      showRegionTypePicker,\n      LayerClass\n    ) {\n      return showRegionTypePicker || LayerClass.hasRegions();\n    },\n    false);\n\n    return (\n      <div>\n        <div className=\"div-layer-view\">\n          <LayerSelector\n            matchingLayerClasses={matchingLayerClasses}\n            selectedLayerClasses={selectedLayerClasses}\n            onSelectLayer={onSelectLayer}\n          />\n        </div>\n        <div className=\"div-layer-view-2\">\n          <div className=\"div-layer-title\">{title}</div>\n          <div className=\"div-layer-source\">\n            {\"Source: \"}\n            <a className=\"a-layer-source-link\" href={source} target=\"-_blank\">\n              {source}\n            </a>\n          </div>\n          <EntView entID={parentRegionID} />\n          {showRegionTypePicker ? (\n            <RegionTypePicker\n              onSelectRegionType={onSelectRegionType}\n              selectedRegionType={childRegionType}\n            />\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n","export default \"data:image/png;base64,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\"","import { Component } from \"react\";\nimport {\n  MapContainer,\n  TileLayer,\n  ZoomControl,\n  useMapEvents,\n} from \"react-leaflet\";\n\nimport \"./GeoMap.css\";\n\nimport imgGeoLocate from \"../../assets/images/geolocate.png\";\n\nconst URL_FORMAT = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\n\nfunction EventComponent(props) {\n  useMapEvents({\n    moveend: (e) => {\n      props.onMoveEnd(e);\n    },\n  });\n  return null;\n}\n\nexport default class GeoMap extends Component {\n  render() {\n    const { center, zoom, onMoveEnd } = this.props;\n    return (\n      <MapContainer center={center} zoom={zoom} zoomControl={false}>\n        <TileLayer url={URL_FORMAT} />\n        <EventComponent onMoveEnd={onMoveEnd} />\n        <ZoomControl zoom={zoom} position=\"bottomright\" />\n        {this.props.children}\n        <img\n          className=\"img-geolocate-geo-map\"\n          src={imgGeoLocate}\n          alt={\"geolocate\"}\n        />\n      </MapContainer>\n    );\n  }\n}\n","import { Component } from \"react\";\n\nimport {\n  getBrowserLatLng,\n  getLatLngZoomStr,\n  roundLatLng,\n  parseLatLngZoomStr,\n  DEFAULT_ZOOM,\n} from \"../../base/GeoData.js\";\n\nimport { CUSTOM_LAYERS_INDEX } from \"../molecules/custom_layers/CustomLayers.js\";\nimport LayerMenuView from \"../molecules/LayerMenuView.js\";\nimport GeoMap from \"../molecules/GeoMap.js\";\nimport imgGeoLocate from \"../../assets/images/geolocate.png\";\n\nimport \"./HomePage.css\";\n\nexport default class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    const layerClassID = this.props.match.params.layerClassID;\n    const latLngStr = this.props.match.params.latLngStr;\n    const { lat, lng, zoom } = parseLatLngZoomStr(latLngStr);\n\n    this.state = {\n      layerClassID,\n      selectedLayerClasses: [CUSTOM_LAYERS_INDEX[layerClassID]],\n      center: [lat, lng],\n      selectedCenter: [lat, lng],\n      zoom: zoom,\n      childRegionType: \"district\",\n      parentRegionType: \"country\",\n      parentRegionID: \"LK\",\n    };\n  }\n\n  async onMoveEnd(e) {\n    const mapCenter = e.target.getCenter();\n    const newZoom = e.target.getZoom();\n    const newCenter = roundLatLng([mapCenter.lat, mapCenter.lng]);\n\n    const latLngZoomStr = getLatLngZoomStr(newCenter, newZoom);\n    const layerClassID = this.state.layerClassID;\n    const newUrl = `/metaverse/${layerClassID}/${latLngZoomStr}`;\n    window.history.pushState({}, null, newUrl);\n\n    this.setState({\n      zoom: newZoom,\n      center: newCenter,\n    });\n  }\n\n  onClickGeoLocate(e) {\n    getBrowserLatLng(\n      function (latLng) {\n        this.setState({\n          center: latLng,\n          selectedCenter: latLng,\n          zoom: DEFAULT_ZOOM,\n        });\n      }.bind(this)\n    );\n  }\n\n  onSelectLayer(SelectedLayerClass) {\n    const layerClassID = SelectedLayerClass.getLayerClassID();\n    const latLngZoomStr = getLatLngZoomStr(this.state.center, this.state.zoom);\n    const newUrl = `/metaverse/${layerClassID}/${latLngZoomStr}`;\n    window.history.pushState({}, null, newUrl);\n\n    this.setState({\n      selectedLayerClasses: [SelectedLayerClass],\n    });\n  }\n\n  onSelectRegionType(regionType) {\n    this.setState({ childRegionType: regionType });\n  }\n\n  render() {\n    const {\n      selectedLayerClasses,\n      center,\n      selectedCenter,\n      zoom,\n      childRegionType,\n      parentRegionID,\n      parentRegionType,\n    } = this.state;\n\n    return (\n      <>\n        <div className=\"div-title\">\n          <img\n            className=\"img-geolocate\"\n            src={imgGeoLocate}\n            alt=\"geolocate\"\n            onClick={this.onClickGeoLocate.bind(this)}\n          />\n        </div>\n        <LayerMenuView\n          onSelectLayer={this.onSelectLayer.bind(this)}\n          onSelectRegionType={this.onSelectRegionType.bind(this)}\n          selectedLayerClasses={selectedLayerClasses}\n          childRegionType={childRegionType}\n          parentRegionID={parentRegionID}\n        />\n        <GeoMap\n          key={`geomap-${selectedCenter}-${childRegionType}`}\n          center={center}\n          zoom={zoom}\n          onMoveEnd={this.onMoveEnd.bind(this)}\n        >\n          {selectedLayerClasses.map(function (\n            CustomLayerClass,\n            iCustomLayerClass\n          ) {\n            return (\n              <CustomLayerClass\n                key={`custom-layer-class-${iCustomLayerClass}`}\n                center={center}\n                childRegionType={childRegionType}\n                parentRegionID={parentRegionID}\n                parentRegionType={parentRegionType}\n              />\n            );\n          })}\n        </GeoMap>\n      </>\n    );\n  }\n}\n","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nimport { getDefaultLatLngZoomStr } from \"./base/GeoData.js\";\n\nimport { DEFAULT_LAYER_CLASS_ID } from \"./stateful/molecules/custom_layers/CustomLayers.js\";\n\nimport HomePage from \"./stateful/pages/HomePage.js\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const latLngStr = getDefaultLatLngZoomStr();\n  return (\n    <Router basename=\"/metaverse\">\n      <Switch>\n        <Route path=\"/:layerClassID/:latLngStr\" component={HomePage} />\n        <Route>\n          <Redirect to={`/${DEFAULT_LAYER_CLASS_ID}/${latLngStr}`} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}