(this.webpackJsonptemplate_react=this.webpackJsonptemplate_react||[]).push([[0],{37:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(23),i=n.n(o),c=(n(37),n(31)),s=n(6),u=n(2),l=n.n(u),p=n(5),d=n(3),h=n(4),f=n(10),g=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"get",value:function(){var e=Object(p.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=localStorage.getItem(t))){e.next=3;break}return e.abrupt("return",JSON.parse(r));case 3:return e.next=5,n();case 5:a=e.sent;try{localStorage.setItem(t,JSON.stringify(a))}catch(o){localStorage.clear()}return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),b={headers:{Accept:"application/json"}},v={headers:{Accept:"text/csv"}};function y(e){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,b);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m,k,O=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"pathJoin",value:function(e){return e.join("/")}},{key:"json",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.get("WWW.json.".concat("v20210823",".").concat(t),Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(t));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"tsv",value:function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r,a,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,v);case 2:return n=e.sent,e.next=5,n.text();case 5:return r=e.sent,a=r.split("\n"),o=a[0].split("\t").map((function(e){return e.replace("\r","")})),i=a.slice(1,-1).map((function(e){var t=e.split("\t");return o.reduce((function(e,n,r){return e[n]=t[r].replace("\r",""),e}),{})})),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=n(14),w=n(1),_=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"toTitleCase",value:function(e){return(e=e.replaceAll("_"," ")).replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}},{key:"formatInt",value:function(e){var t,n,r,a=Math.log(e)/Math.log(1e3);e>1e6?(t=Number(e/1e6).toLocaleString(void 0,{maximumSignificantDigits:2}),n="M",r="black"):e>1e3?(t=Number(e/1e3).toLocaleString(void 0,{maximumSignificantDigits:2}),n="K",r="gray"):(t=Number(e).toLocaleString(void 0,{maximumSignificantDigits:2}),n="",r="lightgray");var o={fontSize:parseInt(100*a)+"%",color:r};return Object(w.jsxs)("span",{style:o,children:[t,n]})}},{key:"formatPercent",value:function(e,t){var n,r=e/t,a=Math.pow(r,.01),o=Number(r).toLocaleString(void 0,{style:"percent",maximumSignificantDigits:2});r>.1?n="black":r>.01?n="gray":(n="lightgray",o="<1%");var i={fontSize:parseInt(100*a)+"%",color:n};return Object(w.jsx)("span",{style:i,children:o})}}]),e}(),D={COUNTRY:"country",PROVINCE:"province",DISTRICT:"district",DSD:"dsd",GND:"gnd",UNKNOWN:"unknown-entity"},S=Object.values(D),T=(m={},Object(x.a)(m,D.Country,"Country"),Object(x.a)(m,D.PROVINCE,"Province"),Object(x.a)(m,D.DISTRICT,"District"),Object(x.a)(m,D.DSD,"Divisional Secretariat Division"),Object(x.a)(m,D.GND,"Grama Niladhari Division"),m),C=(k={},Object(x.a)(k,D.COUNTRY,D.PROVINCE),Object(x.a)(k,D.PROVINCE,D.DISTRICT),Object(x.a)(k,D.DISTRICT,D.DSD),Object(x.a)(k,D.DSD,D.GND),Object(x.a)(k,D.GND,void 0),k),L=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"getEntType",value:function(e){if("LK"===e.substring(0,2))switch(e.length){case 2:return D.COUNTRY;case 4:return D.PROVINCE;case 5:return D.DISTRICT;case 7:return D.DSD;case 10:return D.GND;default:return D.UNKNOWN}return D.UNKNOWN}},{key:"getRegionName",value:function(e){return T[e]}},{key:"getEntsByType",value:function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/metaverse/data/ents/".concat(t,".tsv"),e.next=3,O.tsv(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEntIndexByType",value:function(){var t=Object(p.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEntsByType(n);case 2:return r=t.sent,t.abrupt("return",r.reduce((function(e,t){return e[t.id]=t,e}),{}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAllEntIndex",value:function(){var t=Object(p.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=S,t.next=3,Promise.all(n.map(function(){var t=Object(p.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEntIndexByType(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:return r=t.sent,t.abrupt("return",n.reduce((function(e,t,n){return e[t]=r[n],e}),{}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getEnt",value:function(){var t=Object(p.a)(l.a.mark((function t(n){var r,a,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getEntType(n),t.next=3,e.getEntIndexByType(r);case 3:return a=t.sent,(o=a[n]).centroid&&(o.centroid=JSON.parse(o.centroid)),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getParentToChildMap",value:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"data/ents/parent_to_child_map.json",e.next=3,O.json("data/ents/parent_to_child_map.json");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getChildIDs",value:function(){var t=Object(p.a)(l.a.mark((function t(n,r){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEntsByType(r);case 2:return a=t.sent,t.abrupt("return",a.map((function(e){return e.id})).filter((function(e){return e.includes(n)})));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getEntTypeLongName",value:function(e){return T[e]?T[e]:_.toTitleCase(e)}}]),e}(),I=[6.9157,79.8636];function R(e,t){var n=Object(f.a)(e,2),r=n[0],a=n[1];return"".concat(r,"N,").concat(a,"E,").concat(t,"z")}function N(e,t){var n=Object(f.a)(e,2),r=n[0],a=n[1],o=0;for(var i in t){var c=(i-1+t.length)%t.length,s=Object(f.a)(t[i],2),u=s[0],l=s[1],p=Object(f.a)(t[c],2),d=p[0],h=p[1];l>r!==h>r&&a<(d-u)*(r-l)/(h-l)+u&&(o+=1)}return o%2===1}function M(e,t){for(var n in t){var r=t[n];for(var a in r){if(N(e,r[a]))return!0}}return!1}var A=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"getGeoForRegion",value:function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.getEntType(t),r="/metaverse/data/geo/".concat(n,"/").concat(t,".json"),e.next=4,O.json(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRegionTree",value:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/metaverse/data/geo/region_tree.json",e.next=3,O.json("/metaverse/data/geo/region_tree.json");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isPointInRegion",value:function(){var t=Object(p.a)(l.a.mark((function t(n,r){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getGeoForRegion(r);case 2:return a=t.sent,t.abrupt("return",M(n,a));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getRegionsForPoint",value:function(){var t=Object(p.a)(l.a.mark((function t(n){var r,a,o,i,c,s,u,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getRegionTree();case 2:r=t.sent,a={},t.t0=l.a.keys(S);case 5:if((t.t1=t.t0()).done){t.next=24;break}o=t.t1.value,i=S[o],c=Object.keys(r),s=!1,t.t2=l.a.keys(c);case 11:if((t.t3=t.t2()).done){t.next=20;break}return u=t.t3.value,p=c[u],t.next=16,e.isPointInRegion(n,p);case 16:t.sent&&(a[i]=p,r=r[p],s=!0),t.next=11;break;case 20:if(s){t.next=22;break}return t.abrupt("break",24);case 22:t.next=5;break;case 24:return t.abrupt("return",a);case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();function K(e){var t=1e6;return e.map((function(e){return Math.round(parseFloat(e)*t)/t}))}var B=n(8),E=n(7),U=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"getUnixTime",value:function(){return Math.floor(Date.now()/1e3)}},{key:"getDate",value:function(){return(new Date).toISOString().slice(0,10)}},{key:"getDateID",value:function(){return e.getDate().replaceAll("-","")}}]),e}(),P=n(65),W=n(60),F=(n(40),function(e){Object(B.a)(n,e);var t=Object(E.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={dataList:void 0},r}return Object(h.a)(n,[{key:"getDataList",value:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isComponentMounted=!0,e.next=3,this.getDataListAndUpdateState();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDataListAndUpdateState",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataList();case 2:t=e.sent,this.isComponentMounted&&this.setState({dataList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.isComponentMounted=!1}},{key:"renderDataList",value:function(){return null}},{key:"render",value:function(){return this.state.dataList?this.renderDataList():null}}],[{key:"getLayerClassID",value:function(){return"abstract"}},{key:"getLabel",value:function(){return"AbstractLayer"}},{key:"isMatch",value:function(e){return this.getLabel().toLowerCase().includes(e.toLowerCase())}},{key:"getSource",value:function(){return"Source unknown"}},{key:"hasRegions",value:function(){return!1}}]),n}(r.Component)),J=function(e){Object(B.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getDataList",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=U.getDateID(),n=O.pathJoin(["https://raw.githubusercontent.com","nuuuwan/covid19/data","covid19.lk_vax_centers.".concat(t,".tsv")]),e.next=4,O.tsv(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"renderDataList",value:function(){return this.state.dataList.map((function(e,t){if(!e.lat)return null;var n=[parseFloat(e.lat),parseFloat(e.lng)],r="green";e.tags&&(r="red");var a=[];e.dose1&&a.push("\ud83d\udc89 1st Dose"),e.dose2&&a.push("\ud83d\udc89 2nd Dose");return Object(w.jsx)(P.a,{center:n,radius:1e3,pathOptions:{color:r},eventHandlers:{mouseover:function(e){e.target.openPopup()}},children:Object(w.jsxs)(W.a,{children:[Object(w.jsx)("h3",{children:e.center}),Object(w.jsx)("address",{children:e.formatted_address}),a,Object(w.jsx)("hr",{}),Object(w.jsxs)("div",{children:[Object(w.jsx)("strong",{children:e.police})," ","Police Area, "," ",Object(w.jsx)("strong",{children:e.district})," District"]}),Object(w.jsx)("div",{children:e.tags}),Object(w.jsx)("div",{style:{fontSize:"70%"},children:e.fuzzy_key})]})},"layer-data-".concat(t))}))}}],[{key:"getLayerClassID",value:function(){return"covid19_vax_centers"}},{key:"getLabel",value:function(){var e=U.getDate();return"COVID19 \ud83e\udda0 Vaccination Centers (".concat(e,")")}},{key:"getSource",value:function(){return"https://www.presidentsoffice.gov.lk/"}}]),n}(F),Q=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"sum",value:function(e){return e.reduce((function(e,t){return e+t}),0)}}]),e}(),V="hsl(21, 100%, 50%)",H="hsl(165, 100%, 17%)",z={other:"ghostwhite",others:"gray",bharatha:"cyan",burgher:"purple",chetty:"blue",indian_tamil:V,malay:H,moor:H,sinhalese:"hsl(355, 63%, 34%)",sri_lankan_tamil:V,buddhist:"hsl(43, 100%, 50%)",islam:H,hindu:V,roman_catholic:"purple",other_christian:"blue",female:"pink",male:"lightblue",son_or_daughter:"green",head:"blue",wife_or_husband:"pink",grandchild_or_great_grand_child:"darkgreen",other_relative:"yellow",non_relative:"silver",son_or_daughter_in_law:"lightgreen",parent_of_head_or_spouse:"red",boarder:"gray",domestic_employee:"brown",clergy:"yellow",tv:"green",mobile:"purple",radio:"maroon",fixed_tp:"blue",pc:"red",laptop:"pink",fax:"silver",fire_wood:"brown",gas:"orange",kerosene:"purple",electricity:"blue",asbestos:"gray",tile:"darkred",metal_sheet:"silver",concrete:"green",zink_aluminium_sheet:"blue",cement:"lightgray",tile_or_granite_or_terrazo:"orange",mud:"darkbrown",wood:"brown",occupants_burn:"red",occupants_bury:"orange",collected_by_local_authorities:"blue",occupants_composting_solid_waste:"green",tap_within_unit_main_line:"darkgreen",tap_within_premises_but_outside_unit_main_line:"green",tap_outside_premises_main_line:"orange",protected_well_within_premises:"blue",protected_well_outside_premises:"lightblue",unprotected_well:"purple",tube_well:"cyan",rural_water_projects:"pink",river_or_tank_or_stream:"red",bottled_water:"silver",single_house_single_floor:"darkgreen",single_house_double_floor:"green",single_house_more_than_2_floors:"lightgreen",row_house_or_line_room:"orange",attached_house_or_annex:"silver",twin_house:"cyan",flat:"blue",condominium:"purple",hut_or_shanty:"red",owned_by_a_household_member:"green",rent_or_lease_privately_owned:"blue",rent_or_lease_government_owned:"cyan",occupied_free_of_rent:"orange",encroached:"red",water_seal_and_connected_to_a_piped_sewer_system:"green",water_seal_and_connected_to_a_septic_tank:"lightgreen",pour_flush_toilet_not_water_seal:"orange",direct_pit:"red",not_using_a_toilet:"black",electricity_national_electricity_network:"blue",solar_power:"yellow",bio_gas:"orange",housing_unit:"green",collective_living_quarter:"orange",non_housing_unit:"red",semi_permanent:"orange",permanent:"green",improvised:"red",unclassified:"black",married_registered:"blue",never_married:"green",widowed:"orange",married_customary:"lightblue",separated_not_legally:"pink",divorced:"red",legally_separated:"maroon",cement_block_or_stone:"darkgray",brick:"maroon",cabook:"orange",soil_bricks:"green",plank_or_metal_sheet:"silver",cadjan_or_palmyrah:"orange",occupied:"green",vacant:"red"},q=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"randomFloat",value:function(e,t){return e+Math.random()*(t-e)}},{key:"randomInt",value:function(t,n){return parseInt(e.randomFloat(t,n))}}]),e}(),G=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"hsla",value:function(e,t,n,r){return"hsla(".concat(e,",").concat(t,"%,").concat(n,"%,").concat(e,")")}},{key:"getRandomHSLA",value:function(){var t=q.randomInt(0,360);return e.hsla(t,100,80,1)}}]),e}(),X=["housing_ownership_status_of_household","lighting_of_household","toilet_facilities_of_household","communication_items_owned_by_household","solid_waste_disposal_by_household","ethnicity_of_population","total_population","relationship_to_household_head_of_population","religious_affiliation_of_population","marital_status_of_population","gender_of_population","living_quarters","age_group_of_population","type_of_housing_unit","occupation_status_of_housing_units","wall_type_in_housing_units","structure_of_housing_units","roof_type_in_housing_unit","floor_type_in_housing_unit","households_living_in_housing_unit","persons_living_in_housing_unit","year_of_construction_of_housing_unit","rooms_in_housing_unit","cooking_fuel_of_household","source_of_drinking_water_of_household"],Z={},Y=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"getMetaData",value:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/metaverse/data/census/meta.json",e.next=3,O.json("/metaverse/data/census/meta.json");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTable",value:function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/metaverse/data/census/data.".concat(t,".tsv"),e.next=3,O.tsv(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTableIndex",value:function(){var t=Object(p.a)(l.a.mark((function t(n){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTable(n);case 2:return r=t.sent,a=e.filterValueCellKeys(r[0]),t.abrupt("return",r.reduce((function(e,t){return e[t.entity_id]=Object.entries(t).reduce((function(e,t){var n=Object(f.a)(t,2),r=n[0],o=n[1];return a.includes(r)&&(o=parseFloat(o)),e[r]=o,e}),{}),e}),{}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"filterValueCellKeys",value:function(e){return Object.keys(e).filter((function(e){return!(e.includes("total_")||"entity_id"===e)}))}},{key:"getMaxValueKey",value:function(t){var n=e.filterValueCellKeys(t);return n.reduce((function(e,n){return t[e]<t[n]&&(e=n),e}),n[0])}},{key:"getValueKeyColor",value:function(e){return z[e]?z[e]:(Z[e]||(Z[e]=G.getRandomHSLA()),Z[e])}},{key:"getTableRowColor",value:function(t){var n=e.getMaxValueKey(t);return e.getValueKeyColor(n)}}]),e}(),$=n(61),ee=(n(41),function(e){Object(B.a)(n,e);var t=Object(E.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={ent:void 0},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.entID,e.next=3,L.getEnt(t);case 3:n=e.sent,this.setState({ent:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.entID,t=this.state.ent,n=L.getEntType(e);return t?Object(w.jsxs)("div",{className:"div-ent-name",children:[Object(w.jsx)("span",{className:"span-ent-name",children:t.name}),Object(w.jsx)("span",{className:"span-ent-type",children:L.getEntTypeLongName(n)})]}):Object(w.jsx)("div",{className:"div-ent-id",children:e})}}]),n}(r.Component)),te=(n(42),{color:"white",fillColor:"red",fillOpacity:.5,weight:1}),ne=function(e){Object(B.a)(n,e);var t=Object(E.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={geoData:void 0,ent:void 0},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isComponentMounted=!0,t=this.props.regionID,e.next=4,A.getGeoForRegion(t);case 4:return n=e.sent,e.next=7,L.getEnt(t);case 7:r=e.sent,this.isComponentMounted&&this.setState({geoData:n,ent:r});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.isComponentMounted=!1}},{key:"render",value:function(){var e=this.state.geoData;if(!e)return"...";var t=this.props,n=t.regionType,r=t.regionID,a=t.onClick,o=t.renderCustom,i=t.iRegion,c={type:"MultiPolygon",coordinates:e},s=null,u=C[n];if(u){var l=T[u];s=Object(w.jsxs)("div",{className:"div-show",onClick:function(){a(n,r)},children:["Show",Object(w.jsx)("strong",{children:" ".concat(l,"s")})]})}var p=te;return this.props.color&&(p.fillColor=this.props.color),Object(w.jsx)($.a,{className:"geojson",data:c,style:p,children:Object(w.jsxs)(W.a,{children:[Object(w.jsx)("h2",{children:Object(w.jsx)(ee,{entID:r})}),s,Object(w.jsx)("hr",{}),o(i)]})},"geojson-".concat(r))}}]),n}(r.Component),re=(n(43),function(e){Object(B.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getDataList",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t,n,r,a,o,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.childRegionType,r=t.parentRegionID,a=this.constructor.getTableName(),e.next=4,L.getChildIDs(r,n);case 4:return o=e.sent,e.next=7,Y.getTableIndex(a);case 7:return i=e.sent,c=o.map((function(e){var t=i[e],r=Y.getTableRowColor(t);return{regionID:e,regionType:n,censusData:t,color:r}})),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onClick",value:function(e,t){this.setState({parentRegionID:t,parentRegionType:e},Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataList();case 2:t=e.sent,this.setState({dataList:t});case 4:case"end":return e.stop()}}),e,this)}))).bind(this))}},{key:"renderDataList",value:function(){var e=this.state.dataList,t=function(t){var n=e[t].censusData,r=Y.filterValueCellKeys(n),a=r.map((function(e){return n[e]})),o=Q.sum(a),i=r.map((function(e){return[e,n[e]]})).sort((function(e,t){return t[1]-e[1]}));return Object(w.jsx)("table",{children:Object(w.jsx)("tbody",{children:i.map((function(e,t){var n=Object(f.a)(e,2),r=n[0],a=n[1],i={background:Y.getValueKeyColor(r)};return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"td-color",style:i}),Object(w.jsx)("th",{children:_.toTitleCase(r)}),Object(w.jsx)("td",{className:"td-number",children:_.formatInt(a)}),Object(w.jsx)("td",{className:"td-number",children:_.formatPercent(a,o)})]},"".concat(t,"-").concat(r))}))})})};return e.map(function(e,n){var r=e.regionType,a=e.regionID,o=e.color;e.censusData;return Object(w.jsx)(ne,{regionType:r,regionID:a,onClick:this.onClick.bind(this),color:o,renderCustom:t,iRegion:n},"region-geo-".concat(a))}.bind(this))}}],[{key:"getTableName",value:function(){return""}},{key:"getLabel",value:function(){return""}},{key:"getSource",value:function(){return"http://www.statistics.gov.lk/"}},{key:"isMatch",value:function(e){return!1}},{key:"hasRegions",value:function(){return!0}}]),n}(F)),ae=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"build",value:function(e){return function(t){Object(B.a)(r,t);var n=Object(E.a)(r);function r(){return Object(d.a)(this,r),n.apply(this,arguments)}return Object(h.a)(r,null,[{key:"getTableName",value:function(){return e}},{key:"getLabel",value:function(){return _.toTitleCase(e.replaceAll("_"," "))}},{key:"getLayerClassID",value:function(){return this.getTableName()}}]),r}(re)}},{key:"getAll",value:function(){return X.map((function(t){return e.build(t)}))}}]),e}().getAll(),oe=[].concat([J],ae),ie=oe.reduce((function(e,t){return e[t.getLayerClassID()]=t,e}),{}),ce=oe[0].getLayerClassID();n(44);function se(e){var t=e.selectedRegionType,n=e.onSelectRegionType,r=[D.PROVINCE,D.DISTRICT,D.DSD].map((function(e){var r=L.getRegionName(e),a="span-region-type-picker-item"+(e===t?" span-region-type-picker-item-selected":"");return Object(w.jsx)("span",{className:a,onClick:function(t){n(e)},children:"".concat(r)},"region-type-picker-item-".concat(e))}));return Object(w.jsxs)("div",{className:"div-region-type-picker",children:[Object(w.jsx)("span",{className:"div-region-type-picker-desc",children:" By"}),r]})}n(45);var ue=function(e){Object(B.a)(n,e);var t=Object(E.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={isVisible:!1},r}return Object(h.a)(n,[{key:"render",value:function(){var e,t=this.state.isVisible,n=function(e){this.setState({isVisible:!0})}.bind(this),r=function(e){this.setState({isVisible:!1})}.bind(this);return e=t?Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"div-hide",onClick:r,children:"\xd7"}),this.props.children]}):Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"div-show",onClick:n,children:[" ",this.props.label]})}),Object(w.jsx)("div",{className:"div-show-hide",children:e})}}]),n}(r.Component),le=(n(46),function(e){Object(B.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selectedLayerClasses,n=e.onSelectLayer;var r=oe.sort((function(e,t){return e.getLabel().localeCompare(t.getLabel())}));return Object(w.jsx)(ue,{label:"Layers",children:Object(w.jsx)("div",{className:"div-layer-selector",children:r.map((function(e){var r=e.getLabel(),a="div-layer";return t.includes(e)&&(a+=" div-layer-selected"),Object(w.jsx)("div",{className:a,onClick:function(t){n(e)},children:r},"li-".concat(r))}))})})}}]),n}(r.Component)),pe=(n(47),function(e){Object(B.a)(n,e);var t=Object(E.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={matchingLayerClasses:[]},r}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state.matchingLayerClasses,t=this.props,n=t.onSelectLayer,r=t.onSelectRegionType,a=t.selectedLayerClasses,o=t.childRegionType,i=t.parentRegionID,c=a.map((function(e){return e.getLabel()})),s=a.map((function(e){return e.getSource()})),u=a.reduce((function(e,t){return e||t.hasRegions()}),!1);return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"div-layer-view",children:Object(w.jsx)(le,{matchingLayerClasses:e,selectedLayerClasses:a,onSelectLayer:n})}),Object(w.jsxs)("div",{className:"div-layer-view-2",children:[Object(w.jsx)("div",{className:"div-layer-title",children:c}),Object(w.jsxs)("div",{className:"div-layer-source",children:["Source: ",Object(w.jsx)("a",{className:"a-layer-source-link",href:s,target:"-_blank",children:s})]}),Object(w.jsx)(ee,{entID:i}),u?Object(w.jsx)(se,{onSelectRegionType:r,selectedRegionType:o}):null]})]})}}]),n}(r.Component)),de=n(62),he=n(63),fe=n(66),ge=n(64),be=(n(48),"data:image/png;base64,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");function ve(e){return Object(de.a)({moveend:function(t){e.onMoveEnd(t)}}),null}var ye=function(e){Object(B.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.center,n=e.zoom,r=e.onMoveEnd;return Object(w.jsxs)(he.a,{center:t,zoom:n,zoomControl:!1,children:[Object(w.jsx)(fe.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(w.jsx)(ve,{onMoveEnd:r}),Object(w.jsx)(ge.a,{zoom:n,position:"bottomright"}),this.props.children,Object(w.jsx)("img",{className:"img-geolocate-geo-map",src:be,alt:"geolocate"})]})}}]),n}(r.Component),je=(n(49),function(e){Object(B.a)(n,e);var t=Object(E.a)(n);function n(e){var r;Object(d.a)(this,n);var a=(r=t.call(this,e)).props.match.params.layerClassID,o=function(e){var t=e.split(","),n=Object(f.a)(t,3),r=n[0],a=n[1],o=n[2];return{lat:parseFloat(r.replace("N","")),lng:parseFloat(a.replace("E","")),zoom:parseInt(o.replace("z",""))}}(r.props.match.params.latLngStr),i=o.lat,c=o.lng,s=o.zoom;return r.state={layerClassID:a,selectedLayerClasses:[ie[a]],center:[i,c],selectedCenter:[i,c],zoom:s,childRegionType:"district",parentRegionType:"country",parentRegionID:"LK"},r}return Object(h.a)(n,[{key:"onMoveEnd",value:function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r,a,o,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.getCenter(),r=t.target.getZoom(),a=K([n.lat,n.lng]),o=R(a,r),i=this.state.layerClassID,c="/metaverse/".concat(i,"/").concat(o),window.history.pushState({},null,c),this.setState({zoom:r,center:a});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onClickGeoLocate",value:function(e){var t;t=function(e){this.setState({center:e,selectedCenter:e,zoom:15})}.bind(this),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){t([e.coords.latitude,e.coords.longitude])})):t(I)}},{key:"onSelectLayer",value:function(e){var t=e.getLayerClassID(),n=R(this.state.center,this.state.zoom),r="/metaverse/".concat(t,"/").concat(n);window.history.pushState({},null,r),this.setState({selectedLayerClasses:[e]})}},{key:"onSelectRegionType",value:function(e){this.setState({childRegionType:e})}},{key:"render",value:function(){var e=this.state,t=e.selectedLayerClasses,n=e.center,r=e.selectedCenter,a=e.zoom,o=e.childRegionType,i=e.parentRegionID,c=e.parentRegionType;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"div-title",children:Object(w.jsx)("img",{className:"img-geolocate",src:be,alt:"geolocate",onClick:this.onClickGeoLocate.bind(this)})}),Object(w.jsx)(pe,{onSelectLayer:this.onSelectLayer.bind(this),onSelectRegionType:this.onSelectRegionType.bind(this),selectedLayerClasses:t,childRegionType:o,parentRegionID:i}),Object(w.jsx)(ye,{center:n,zoom:a,onMoveEnd:this.onMoveEnd.bind(this),children:t.map((function(e,t){return Object(w.jsx)(e,{center:n,childRegionType:o,parentRegionID:i,parentRegionType:c},"custom-layer-class-".concat(t))}))},"geomap-".concat(r,"-").concat(o))]})}}]),n}(r.Component));n(50);var me=function(){var e=R(I,15);return Object(w.jsx)(c.a,{basename:"/metaverse",children:Object(w.jsxs)(s.d,{children:[Object(w.jsx)(s.b,{path:"/:layerClassID/:latLngStr",component:je}),Object(w.jsx)(s.b,{children:Object(w.jsx)(s.a,{to:"/".concat(ce,"/").concat(e)})})]})})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))};i.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(me,{})}),document.getElementById("root")),ke()}},[[59,1,2]]]);
//# sourceMappingURL=main.6e55e0e3.chunk.js.map